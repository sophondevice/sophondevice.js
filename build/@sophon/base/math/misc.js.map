{"version":3,"file":"misc.js","sources":["../../../../libs/base/src/math/misc.ts"],"sourcesContent":["export function formatNumber(\r\n  val: number,\r\n  fractLength: number,\r\n  totalLength?: number,\r\n  fillchar?: string,\r\n): string {\r\n  const fixed = val === (val | 0) ? String(val) : val.toFixed(fractLength);\r\n  const ch = fillchar || '0';\r\n  const tl = totalLength || 0;\r\n  return tl > 0 ? (Array(totalLength).join(ch) + fixed).substr(-totalLength) : fixed;\r\n}\r\n\r\nconst f = new Float32Array(1);\r\nexport function toFloat32(a: number): number {\r\n  f[0] = a;\r\n  return f[0];\r\n}\r\n\r\nexport function numberEquals(a: number, b: number, epsl?: number) {\r\n  a = toFloat32(a);\r\n  b = toFloat32(b);\r\n  // const e = typeof epsl === 'number' ? epsl : Math.max(measureEpsl(a), measureEpsl(b));\r\n  const e = (typeof epsl === 'number' ? epsl : 0.0001) * Math.max(1, Math.abs(a), Math.abs(b));\r\n  return Math.abs(a - b) <= e;\r\n}\r\n\r\nexport function numberClamp(value: number, low: number, high: number) {\r\n  return value < low ? low : value > high ? high : value;\r\n}\r\n\r\nexport function isPowerOf2(value: number) {\r\n  return value % 1 === 0 && value >= 0 && (value & (value - 1)) === 0;\r\n}\r\n\r\nexport function nextPowerOf2(value: number) {\r\n  value--;\r\n  value |= value >> 1;\r\n  value |= value >> 2;\r\n  value |= value >> 4;\r\n  value |= value >> 8;\r\n  value |= value >> 16;\r\n  value++;\r\n  return value;\r\n}\r\n\r\n"],"names":[],"mappings":";AAAM,SAAU,YAAY,CAC1B,GAAW,EACX,WAAmB,EACnB,WAAoB,EACpB,QAAiB,EAAA;IAEjB,MAAM,KAAK,GAAG,GAAG,MAAM,GAAG,GAAG,CAAC,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;AACzE,IAAA,MAAM,EAAE,GAAG,QAAQ,IAAI,GAAG,CAAC;AAC3B,IAAA,MAAM,EAAE,GAAG,WAAW,IAAI,CAAC,CAAC;AAC5B,IAAA,OAAO,EAAE,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,MAAM,CAAC,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC;AACrF,CAAC;AAED,MAAM,CAAC,GAAG,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC;AACxB,SAAU,SAAS,CAAC,CAAS,EAAA;AACjC,IAAA,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AACT,IAAA,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AACd,CAAC;SAEe,YAAY,CAAC,CAAS,EAAE,CAAS,EAAE,IAAa,EAAA;AAC9D,IAAA,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;AACjB,IAAA,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;AAEjB,IAAA,MAAM,CAAC,GAAG,CAAC,OAAO,IAAI,KAAK,QAAQ,GAAG,IAAI,GAAG,MAAM,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7F,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;AAC9B,CAAC;SAEe,WAAW,CAAC,KAAa,EAAE,GAAW,EAAE,IAAY,EAAA;IAClE,OAAO,KAAK,GAAG,GAAG,GAAG,GAAG,GAAG,KAAK,GAAG,IAAI,GAAG,IAAI,GAAG,KAAK,CAAC;AACzD,CAAC;AAEK,SAAU,UAAU,CAAC,KAAa,EAAA;IACtC,OAAO,KAAK,GAAG,CAAC,KAAK,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,KAAK,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC;AACtE,CAAC;AAEK,SAAU,YAAY,CAAC,KAAa,EAAA;AACxC,IAAA,KAAK,EAAE,CAAC;AACR,IAAA,KAAK,IAAI,KAAK,IAAI,CAAC,CAAC;AACpB,IAAA,KAAK,IAAI,KAAK,IAAI,CAAC,CAAC;AACpB,IAAA,KAAK,IAAI,KAAK,IAAI,CAAC,CAAC;AACpB,IAAA,KAAK,IAAI,KAAK,IAAI,CAAC,CAAC;AACpB,IAAA,KAAK,IAAI,KAAK,IAAI,EAAE,CAAC;AACrB,IAAA,KAAK,EAAE,CAAC;AACR,IAAA,OAAO,KAAK,CAAC;AACf;;;;"}