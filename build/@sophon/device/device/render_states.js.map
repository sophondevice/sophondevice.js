{"version":3,"file":"render_states.js","sources":["../../../../libs/device/src/device/render_states.ts"],"sourcesContent":["import { CompareFunc } from './base_types';\r\n\r\nexport interface ColorState {\r\n  redMask: boolean;\r\n  greenMask: boolean;\r\n  blueMask: boolean;\r\n  alphaMask: boolean;\r\n  setColorMask(r: boolean, g: boolean, b: boolean, a: boolean): this;\r\n}\r\n\r\nexport enum BlendEquation {\r\n  ADD = 1,\r\n  SUBTRACT,\r\n  REVERSE_SUBTRACT,\r\n  MIN,\r\n  MAX,\r\n}\r\n\r\nexport enum BlendFunc {\r\n  ZERO = 1,\r\n  ONE,\r\n  SRC_ALPHA,\r\n  INV_SRC_ALPHA,\r\n  SRC_ALPHA_SATURATE,\r\n  DST_ALPHA,\r\n  INV_DST_ALPHA,\r\n  SRC_COLOR,\r\n  INV_SRC_COLOR,\r\n  DST_COLOR,\r\n  INV_DST_COLOR,\r\n  CONSTANT_COLOR,\r\n  INV_CONSTANT_COLOR,\r\n  CONSTANT_ALPHA,\r\n  INV_CONSTANT_ALPHA,\r\n}\r\n\r\nexport interface BlendingState {\r\n  enabled: boolean;\r\n  srcBlendRGB: BlendFunc;\r\n  dstBlendRGB: BlendFunc;\r\n  srcBlendAlpha: BlendFunc;\r\n  dstBlendAlpha: BlendFunc;\r\n  rgbEquation: BlendEquation;\r\n  alphaEquation: BlendEquation;\r\n  enable(b: boolean): this;\r\n  setBlendFunc(src: BlendFunc, dest: BlendFunc): this;\r\n  setBlendFuncRGB(src: BlendFunc, dest: BlendFunc): this;\r\n  setBlendFuncAlpha(src: BlendFunc, dest: BlendFunc): this;\r\n  setBlendEquation(rgb: BlendEquation, alpha: BlendEquation): this;\r\n}\r\n\r\nexport enum FaceMode {\r\n  NONE = 1,\r\n  FRONT,\r\n  BACK,\r\n}\r\n\r\nexport enum FaceWinding {\r\n  CW = 1,\r\n  CCW,\r\n}\r\n\r\nexport interface RasterizerState {\r\n  cullMode: FaceMode;\r\n  setCullMode(mode: FaceMode): this;\r\n}\r\n\r\nexport interface DepthState {\r\n  testEnabled: boolean;\r\n  writeEnabled: boolean;\r\n  compareFunc: CompareFunc;\r\n  enableTest(b: boolean): this;\r\n  enableWrite(b: boolean): this;\r\n  setCompareFunc(func: CompareFunc): this;\r\n}\r\n\r\nexport enum StencilOp {\r\n  KEEP = 1,\r\n  ZERO,\r\n  REPLACE,\r\n  INCR,\r\n  INCR_WRAP,\r\n  DECR,\r\n  DECR_WRAP,\r\n  INVERT,\r\n}\r\n\r\nexport interface StencilState {\r\n  enabled: boolean;\r\n  enableTwoSided: boolean;\r\n  writeMask: number;\r\n  writeMaskBack: number;\r\n  failOp: StencilOp;\r\n  failOpBack: StencilOp;\r\n  zFailOp: StencilOp;\r\n  zFailOpBack: StencilOp;\r\n  passOp: StencilOp;\r\n  passOpBack: StencilOp;\r\n  func: CompareFunc;\r\n  funcBack: CompareFunc;\r\n  ref: number;\r\n  valueMask: number;\r\n  valueMaskBack: number;\r\n  enable(b: boolean): this;\r\n  enableStencilTwoside(b: boolean): this;\r\n  setFrontWriteMask(mask: number): this;\r\n  setBackWriteMask(mask: number): this;\r\n  setFrontOp(fail: StencilOp, zfail: StencilOp, pass: StencilOp): this;\r\n  setBackOp(fail: StencilOp, zfail: StencilOp, pass: StencilOp): this;\r\n  setFrontCompareFunc(func: CompareFunc): this;\r\n  setBackCompareFunc(func: CompareFunc): this;\r\n  setReference(ref: number): this;\r\n  setFrontValueMask(mask: number): this;\r\n  setBackValueMask(mask: number): this;\r\n}\r\n\r\nexport interface RenderStateSet {\r\n  readonly colorState: ColorState;\r\n  readonly blendingState: BlendingState;\r\n  readonly rasterizerState: RasterizerState;\r\n  readonly depthState: DepthState;\r\n  readonly stencilState: StencilState;\r\n  useColorState(): ColorState;\r\n  defaultColorState(): void;\r\n  useBlendingState(): BlendingState;\r\n  defaultBlendingState(): void;\r\n  useRasterizerState(): RasterizerState;\r\n  defaultRasterizerState(): void;\r\n  useDepthState(): DepthState;\r\n  defaultDepthState(): void;\r\n  useStencilState(): StencilState;\r\n  defaultStencilState(): void;\r\n  apply(overridden: RenderStateSet, force?: boolean): void;\r\n}\r\n"],"names":[],"mappings":";IAUY,cAMX;AAND,CAAA,UAAY,aAAa,EAAA;AACvB,IAAA,aAAA,CAAA,aAAA,CAAA,KAAA,CAAA,GAAA,CAAA,CAAA,GAAA,KAAO,CAAA;AACP,IAAA,aAAA,CAAA,aAAA,CAAA,UAAA,CAAA,GAAA,CAAA,CAAA,GAAA,UAAQ,CAAA;AACR,IAAA,aAAA,CAAA,aAAA,CAAA,kBAAA,CAAA,GAAA,CAAA,CAAA,GAAA,kBAAgB,CAAA;AAChB,IAAA,aAAA,CAAA,aAAA,CAAA,KAAA,CAAA,GAAA,CAAA,CAAA,GAAA,KAAG,CAAA;AACH,IAAA,aAAA,CAAA,aAAA,CAAA,KAAA,CAAA,GAAA,CAAA,CAAA,GAAA,KAAG,CAAA;AACL,CAAC,EANW,aAAa,KAAb,aAAa,GAMxB,EAAA,CAAA,CAAA,CAAA;IAEW,UAgBX;AAhBD,CAAA,UAAY,SAAS,EAAA;AACnB,IAAA,SAAA,CAAA,SAAA,CAAA,MAAA,CAAA,GAAA,CAAA,CAAA,GAAA,MAAQ,CAAA;AACR,IAAA,SAAA,CAAA,SAAA,CAAA,KAAA,CAAA,GAAA,CAAA,CAAA,GAAA,KAAG,CAAA;AACH,IAAA,SAAA,CAAA,SAAA,CAAA,WAAA,CAAA,GAAA,CAAA,CAAA,GAAA,WAAS,CAAA;AACT,IAAA,SAAA,CAAA,SAAA,CAAA,eAAA,CAAA,GAAA,CAAA,CAAA,GAAA,eAAa,CAAA;AACb,IAAA,SAAA,CAAA,SAAA,CAAA,oBAAA,CAAA,GAAA,CAAA,CAAA,GAAA,oBAAkB,CAAA;AAClB,IAAA,SAAA,CAAA,SAAA,CAAA,WAAA,CAAA,GAAA,CAAA,CAAA,GAAA,WAAS,CAAA;AACT,IAAA,SAAA,CAAA,SAAA,CAAA,eAAA,CAAA,GAAA,CAAA,CAAA,GAAA,eAAa,CAAA;AACb,IAAA,SAAA,CAAA,SAAA,CAAA,WAAA,CAAA,GAAA,CAAA,CAAA,GAAA,WAAS,CAAA;AACT,IAAA,SAAA,CAAA,SAAA,CAAA,eAAA,CAAA,GAAA,CAAA,CAAA,GAAA,eAAa,CAAA;AACb,IAAA,SAAA,CAAA,SAAA,CAAA,WAAA,CAAA,GAAA,EAAA,CAAA,GAAA,WAAS,CAAA;AACT,IAAA,SAAA,CAAA,SAAA,CAAA,eAAA,CAAA,GAAA,EAAA,CAAA,GAAA,eAAa,CAAA;AACb,IAAA,SAAA,CAAA,SAAA,CAAA,gBAAA,CAAA,GAAA,EAAA,CAAA,GAAA,gBAAc,CAAA;AACd,IAAA,SAAA,CAAA,SAAA,CAAA,oBAAA,CAAA,GAAA,EAAA,CAAA,GAAA,oBAAkB,CAAA;AAClB,IAAA,SAAA,CAAA,SAAA,CAAA,gBAAA,CAAA,GAAA,EAAA,CAAA,GAAA,gBAAc,CAAA;AACd,IAAA,SAAA,CAAA,SAAA,CAAA,oBAAA,CAAA,GAAA,EAAA,CAAA,GAAA,oBAAkB,CAAA;AACpB,CAAC,EAhBW,SAAS,KAAT,SAAS,GAgBpB,EAAA,CAAA,CAAA,CAAA;IAiBW,SAIX;AAJD,CAAA,UAAY,QAAQ,EAAA;AAClB,IAAA,QAAA,CAAA,QAAA,CAAA,MAAA,CAAA,GAAA,CAAA,CAAA,GAAA,MAAQ,CAAA;AACR,IAAA,QAAA,CAAA,QAAA,CAAA,OAAA,CAAA,GAAA,CAAA,CAAA,GAAA,OAAK,CAAA;AACL,IAAA,QAAA,CAAA,QAAA,CAAA,MAAA,CAAA,GAAA,CAAA,CAAA,GAAA,MAAI,CAAA;AACN,CAAC,EAJW,QAAQ,KAAR,QAAQ,GAInB,EAAA,CAAA,CAAA,CAAA;IAEW,YAGX;AAHD,CAAA,UAAY,WAAW,EAAA;AACrB,IAAA,WAAA,CAAA,WAAA,CAAA,IAAA,CAAA,GAAA,CAAA,CAAA,GAAA,IAAM,CAAA;AACN,IAAA,WAAA,CAAA,WAAA,CAAA,KAAA,CAAA,GAAA,CAAA,CAAA,GAAA,KAAG,CAAA;AACL,CAAC,EAHW,WAAW,KAAX,WAAW,GAGtB,EAAA,CAAA,CAAA,CAAA;IAgBW,UASX;AATD,CAAA,UAAY,SAAS,EAAA;AACnB,IAAA,SAAA,CAAA,SAAA,CAAA,MAAA,CAAA,GAAA,CAAA,CAAA,GAAA,MAAQ,CAAA;AACR,IAAA,SAAA,CAAA,SAAA,CAAA,MAAA,CAAA,GAAA,CAAA,CAAA,GAAA,MAAI,CAAA;AACJ,IAAA,SAAA,CAAA,SAAA,CAAA,SAAA,CAAA,GAAA,CAAA,CAAA,GAAA,SAAO,CAAA;AACP,IAAA,SAAA,CAAA,SAAA,CAAA,MAAA,CAAA,GAAA,CAAA,CAAA,GAAA,MAAI,CAAA;AACJ,IAAA,SAAA,CAAA,SAAA,CAAA,WAAA,CAAA,GAAA,CAAA,CAAA,GAAA,WAAS,CAAA;AACT,IAAA,SAAA,CAAA,SAAA,CAAA,MAAA,CAAA,GAAA,CAAA,CAAA,GAAA,MAAI,CAAA;AACJ,IAAA,SAAA,CAAA,SAAA,CAAA,WAAA,CAAA,GAAA,CAAA,CAAA,GAAA,WAAS,CAAA;AACT,IAAA,SAAA,CAAA,SAAA,CAAA,QAAA,CAAA,GAAA,CAAA,CAAA,GAAA,QAAM,CAAA;AACR,CAAC,EATW,SAAS,KAAT,SAAS,GASpB,EAAA,CAAA,CAAA;;;;"}