{"version":3,"file":"ast.js","sources":["../../../../../libs/device/src/device/builder/ast.ts"],"sourcesContent":["import { ShaderType } from '../base_types';\nimport { semanticToAttrib } from '../gpuobject';\nimport * as typeinfo from './types';\nimport * as errors from './errors';\nimport type { PBGlobalScope } from './programbuilder';\nimport type { PBShaderExp } from './base';\nimport type { DeviceType } from '../device';\n\nexport const BuiltinInputStructNameVS = 'ch_VertexInput';\nexport const BuiltinOutputStructNameVS = 'ch_VertexOutput';\nexport const BuiltinInputStructNameFS = 'ch_FragInput';\nexport const BuiltinOutputStructNameFS = 'ch_FragOutput';\nexport const BuiltinInputStructNameCS = 'ch_ComputeInput';\nexport const BuiltinOutputStructNameCS = 'ch_ComputeOutput';\n\nexport const BuiltinInputStructInstanceNameVS = 'ch_VertexInputCpy';\nexport const BuiltinOutputStructInstanceNameVS = 'ch_VertexOutputCpy';\nexport const BuiltinInputStructInstanceNameFS = 'ch_FragInputCpy';\nexport const BuiltinOutputStructInstanceNameFS = 'ch_FragOutputCpy';\nexport const BuiltinInputStructInstanceNameCS = 'ch_ComputeInputCpy';\nexport const BuiltinOutputStructInstanceNameCS = 'ch_ComputeOutputCpy';\n\nexport enum DeclareType {\n  DECLARE_TYPE_NONE = 0,\n  DECLARE_TYPE_IN,\n  DECLARE_TYPE_OUT,\n  DECLARE_TYPE_WORKGROUP,\n  DECLARE_TYPE_UNIFORM,\n  DECLARE_TYPE_STORAGE,\n}\n\nexport enum ShaderPrecisionType {\n  NONE = 0,\n  HIGH,\n  MEDIUM,\n  LOW\n}\n\n/** @internal */\nexport function getBuiltinInputStructInstanceName(shaderType: ShaderType) {\n  switch (shaderType) {\n    case ShaderType.Vertex: return BuiltinInputStructInstanceNameVS;\n    case ShaderType.Fragment: return BuiltinInputStructInstanceNameFS;\n    case ShaderType.Compute: return BuiltinInputStructInstanceNameCS;\n    default: return null;\n  }\n}\n\n/** @internal */\nexport function getBuiltinOutputStructInstanceName(shaderType: ShaderType) {\n  switch (shaderType) {\n    case ShaderType.Vertex: return BuiltinOutputStructInstanceNameVS;\n    case ShaderType.Fragment: return BuiltinOutputStructInstanceNameFS;\n    case ShaderType.Compute: return BuiltinOutputStructInstanceNameCS;\n    default: return null;\n  }\n}\n/** @internal */\nexport function getBuiltinInputStructName(shaderType: ShaderType) {\n  switch (shaderType) {\n    case ShaderType.Vertex: return BuiltinInputStructNameVS;\n    case ShaderType.Fragment: return BuiltinInputStructNameFS;\n    case ShaderType.Compute: return BuiltinInputStructNameCS;\n    default: return null;\n  }\n}\n/** @internal */\nexport function getBuiltinOutputStructName(shaderType: ShaderType) {\n  switch (shaderType) {\n    case ShaderType.Vertex: return BuiltinOutputStructNameVS;\n    case ShaderType.Fragment: return BuiltinOutputStructNameFS;\n    case ShaderType.Compute: return BuiltinOutputStructNameCS;\n    default: return null;\n  }\n}\n\n/** @internal */\nexport function getTextureSampleType(type: typeinfo.PBTextureTypeInfo): typeinfo.PBPrimitiveTypeInfo {\n  switch (type.textureType) {\n    case typeinfo.PBTextureType.TEX_1D:\n    case typeinfo.PBTextureType.TEX_STORAGE_1D:\n    case typeinfo.PBTextureType.TEX_2D:\n    case typeinfo.PBTextureType.TEX_STORAGE_2D:\n    case typeinfo.PBTextureType.TEX_2D_ARRAY:\n    case typeinfo.PBTextureType.TEX_STORAGE_2D_ARRAY:\n    case typeinfo.PBTextureType.TEX_3D:\n    case typeinfo.PBTextureType.TEX_STORAGE_3D:\n    case typeinfo.PBTextureType.TEX_CUBE:\n    case typeinfo.PBTextureType.TEX_EXTERNAL:\n      return new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.F32VEC4);\n    case typeinfo.PBTextureType.TEX_DEPTH_2D_ARRAY:\n    case typeinfo.PBTextureType.TEX_DEPTH_2D:\n    case typeinfo.PBTextureType.TEX_DEPTH_CUBE:\n      return new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.F32);\n    case typeinfo.PBTextureType.ITEX_2D_ARRAY:\n    case typeinfo.PBTextureType.ITEX_1D:\n    case typeinfo.PBTextureType.ITEX_2D:\n    case typeinfo.PBTextureType.ITEX_3D:\n    case typeinfo.PBTextureType.ITEX_CUBE:\n      return new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.I32);\n    case typeinfo.PBTextureType.UTEX_2D_ARRAY:\n    case typeinfo.PBTextureType.UTEX_1D:\n    case typeinfo.PBTextureType.UTEX_2D:\n    case typeinfo.PBTextureType.UTEX_3D:\n    case typeinfo.PBTextureType.UTEX_CUBE:\n      return new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.U32);\n    default:\n      return null;\n  }\n}\n\n/** @internal */\nexport function genSamplerName(textureName: string, comparison: boolean): string {\n  return `ch_auto_sampler_${textureName}${comparison ? '_comparison' : ''}`;\n}\n\nconst webGLExtensions: string[] = [\n  'GL_EXT_shader_texture_lod',\n  'GL_OES_standard_derivatives',\n  'GL_EXT_draw_buffers',\n  'GL_EXT_frag_depth',\n  'GL_ANGLE_multi_draw',\n];\n\nconst webGL2Extensions: string[] = [\n  'GL_ANGLE_multi_draw',\n  'GL_OVR_multiview2',\n];\n\n/** @internal */\nexport const builtinVariables = {\n  'webgl': {\n    position: {\n      name: 'gl_Position',\n      type: new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.F32VEC4),\n      stage: 'vertex',\n    },\n    pointSize: {\n      name: 'gl_PointSize',\n      type: new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.F32),\n      stage: 'vertex',\n    },\n    fragCoord: {\n      name: 'gl_FragCoord',\n      type: new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.F32VEC4),\n      stage: 'fragment',\n    },\n    frontFacing: {\n      name: 'gl_FrontFacing',\n      type: new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.BOOL),\n      stage: 'fragment',\n    },\n    fragDepth: {\n      name: 'gl_FragDepthEXT',\n      type: new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.F32),\n      inOrOut: 'out',\n      extension: 'GL_EXT_frag_depth',\n      stage: 'fragment',\n    },\n  },\n  webgl2: {\n    vertexIndex: {\n      name: 'gl_VertexID',\n      semantic: 'vertex_index',\n      type: new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.U32),\n      inOrOut: 'in',\n      stage: 'vertex',\n    },\n    instanceIndex: {\n      name: 'gl_InstanceID',\n      semantic: 'instance_index',\n      type: new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.U32),\n      inOrOut: 'in',\n      stage: 'vertex',\n    },\n    position: {\n      name: 'gl_Position',\n      type: new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.F32VEC4),\n      stage: 'vertex',\n    },\n    pointSize: {\n      name: 'gl_PointSize',\n      type: new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.F32),\n      stage: 'vertex',\n    },\n    fragCoord: {\n      name: 'gl_FragCoord',\n      type: new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.F32VEC4),\n      stage: 'fragment',\n    },\n    frontFacing: {\n      name: 'gl_FrontFacing',\n      type: new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.BOOL),\n      stage: 'fragment',\n    },\n    fragDepth: {\n      name: 'gl_FragDepth',\n      type: new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.F32),\n      stage: 'fragment',\n    },\n  },\n  webgpu: {\n    vertexIndex: {\n      name: 'ch_builtin_vertexIndex',\n      semantic: 'vertex_index',\n      type: new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.U32),\n      inOrOut: 'in',\n      stage: 'vertex',\n    },\n    instanceIndex: {\n      name: 'ch_builtin_instanceIndex',\n      semantic: 'instance_index',\n      type: new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.U32),\n      inOrOut: 'in',\n      stage: 'vertex',\n    },\n    position: {\n      name: 'ch_builtin_position',\n      semantic: 'position',\n      type: new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.F32VEC4),\n      inOrOut: 'out',\n      stage: 'vertex',\n    },\n    fragCoord: {\n      name: 'ch_builtin_fragCoord',\n      semantic: 'position',\n      type: new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.F32VEC4),\n      inOrOut: 'in',\n      stage: 'fragment',\n    },\n    frontFacing: {\n      name: 'ch_builtin_frontFacing',\n      semantic: 'front_facing',\n      type: new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.BOOL),\n      inOrOut: 'in',\n      stage: 'fragment',\n    },\n    fragDepth: {\n      name: 'ch_builtin_fragDepth',\n      semantic: 'frag_depth',\n      type: new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.F32),\n      inOrOut: 'out',\n      stage: 'fragment',\n    },\n    localInvocationId: {\n      name: 'ch_builtin_localInvocationId',\n      semantic: 'local_invocation_id',\n      type: new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.U32VEC3),\n      inOrOut: 'in',\n      stage: 'compute',\n    },\n    globalInvocationId: {\n      name: 'ch_builtin_globalInvocationId',\n      semantic: 'global_invocation_id',\n      type: new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.U32VEC3),\n      inOrOut: 'in',\n      stage: 'compute',\n    },\n    workGroupId: {\n      name: 'ch_builtin_workGroupId',\n      semantic: 'workgroup_id',\n      type: new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.U32VEC3),\n      inOrOut: 'in',\n      stage: 'compute',\n    },\n    numWorkGroups: {\n      name: 'ch_builtin_numWorkGroups',\n      semantic: 'num_workgroups',\n      type: new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.U32VEC3),\n      inOrOut: 'in',\n      stage: 'compute',\n    },\n    sampleMaskIn: {\n      name: 'ch_builtin_sampleMaskIn',\n      semantic: 'sample_mask_in',\n      type: new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.U32),\n      inOrOut: 'in',\n      stage: 'fragment'\n    },\n    sampleMaskOut: {\n      name: 'ch_builtin_sampleMaskOut',\n      semantic: 'sample_mask_out',\n      type: new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.U32),\n      inOrOut: 'out',\n      stage: 'fragment'\n    },\n    sampleIndex: {\n      name: 'ch_builtin_sampleIndex',\n      semantic: 'sample_index',\n      type: new typeinfo.PBPrimitiveTypeInfo(typeinfo.PBPrimitiveType.U32),\n      inOrOut: 'in',\n      stage: 'fragment',\n    }\n  }\n} as const;\n\nfunction toFixed(n: number): string {\n  return n % 1 === 0 ? n.toFixed(1) : String(n);\n}\n\nfunction toInt(n: number): string {\n  return String(n | 0);\n}\n\nfunction toUint(n: number): string {\n  return String(n >>> 0);\n}\n\nfunction unbracket(e: string): string {\n  e = e.trim();\n  if (e[0] === '(' && e[e.length - 1] === ')') {\n    return e.substring(1, e.length - 1);\n  } else {\n    return e;\n  }\n}\n\n/** @internal */\nexport interface ASTContext {\n  type: ShaderType;\n  mrt: boolean;\n  defines: string[];\n  extensions: Set<string>;\n  builtins: string[];\n  inputs: ShaderAST[];\n  outputs: ShaderAST[];\n  types: ShaderAST[];\n  typeReplacement: Map<PBShaderExp, typeinfo.PBTypeInfo>;\n  global: PBGlobalScope;\n  vertexAttributes: number[];\n  workgroupSize: [number, number, number];\n}\n\n/** @internal */\nexport class ShaderAST {\n  constructor() {\n  }\n  isReference(): boolean {\n    return false;\n  }\n  isPointer(): boolean {\n    return !!this.getType()?.isPointerType();\n  }\n  getType(): typeinfo.PBTypeInfo {\n    return null;\n  }\n  toWebGL(indent: string, ctx: ASTContext): string {\n    return '';\n  }\n  toWebGL2(indent: string, ctx: ASTContext): string {\n    return '';\n  }\n  toWGSL(indent: string, ctx: ASTContext): string {\n    return '';\n  }\n  toString(deviceType: DeviceType): string {\n    return this.constructor.name;\n  }\n}\n\n/** @internal */\nexport abstract class ASTExpression extends ShaderAST {\n  abstract getType(): typeinfo.PBTypeInfo;\n  abstract markWritable(): void;\n  abstract isWritable(): boolean;\n  abstract getAddressSpace(): typeinfo.PBAddressSpace;\n  abstract isConstExp(): boolean;\n}\n\n/** @internal */\nexport class ASTFunctionParameter extends ASTExpression {\n  paramAST: ASTPrimitive | ASTReferenceOf;\n  deviceType: DeviceType;\n  writable: boolean;\n  constructor(init: ASTPrimitive, deviceType: DeviceType) {\n    super();\n    this.paramAST = init;\n    this.deviceType = deviceType;\n    this.writable = false;\n  }\n  getType(): typeinfo.PBTypeInfo<typeinfo.TypeInfo> {\n    return this.paramAST.getType();\n  }\n  markWritable(): void {\n    if (this.paramAST instanceof ASTPrimitive) {\n      if (this.deviceType === 'webgpu') {\n        this.paramAST.value.$typeinfo = new typeinfo.PBPointerTypeInfo(this.paramAST.value.$typeinfo, typeinfo.PBAddressSpace.UNKNOWN);\n      }\n      this.paramAST = new ASTReferenceOf(this.paramAST);\n    }\n    this.writable = true;\n  }\n  isWritable(): boolean {\n    return this.writable;\n  }\n  getAddressSpace(): typeinfo.PBAddressSpace {\n    return this.paramAST.getAddressSpace();\n  }\n  isConstExp(): boolean {\n    return this.paramAST.isConstExp();\n  }\n  isReference(): boolean {\n    return this.paramAST.isReference();\n  }\n  toWebGL(indent: string, ctx: ASTContext): string {\n    return this.paramAST.toWebGL(indent, ctx);\n  }\n  toWebGL2(indent: string, ctx: ASTContext): string {\n    return this.paramAST.toWebGL2(indent, ctx);\n  }\n  toWGSL(indent: string, ctx: ASTContext): string {\n    return this.paramAST.toWGSL(indent, ctx);\n  }\n}\n\n/** @internal */\nexport class ASTScope extends ShaderAST {\n  statements: ShaderAST[];\n  constructor() {\n    super();\n    this.statements = [];\n  }\n  toWebGL(indent: string, ctx: ASTContext): string {\n    return this.statements.filter(stmt => !(stmt instanceof ASTCallFunction) || stmt.isStatement).map(stmt => stmt.toWebGL(indent, ctx)).join('');\n  }\n  toWebGL2(indent: string, ctx: ASTContext): string {\n    return this.statements.filter(stmt => !(stmt instanceof ASTCallFunction) || stmt.isStatement).map(stmt => stmt.toWebGL2(indent, ctx)).join('');\n  }\n  toWGSL(indent: string, ctx: ASTContext): string {\n    return this.statements.filter(stmt => !(stmt instanceof ASTCallFunction) || stmt.isStatement).map(stmt => {\n      if (stmt instanceof ASTCallFunction) {\n        if (!stmt.getType().isVoidType()) {\n          return `${indent}_ = ${stmt.toWGSL('', ctx)}`;\n        }\n      }\n      return stmt.toWGSL(indent, ctx);\n    }).join('');\n  }\n}\n\n/** @internal */\nexport class ASTNakedScope extends ASTScope {\n  toWebGL(indent: string, ctx: ASTContext): string {\n    return `${indent}{\\n${super.toWebGL(indent + ' ', ctx)}${indent}}\\n`;\n  }\n  toWebGL2(indent: string, ctx: ASTContext): string {\n    return `${indent}{\\n${super.toWebGL2(indent + ' ', ctx)}${indent}}\\n`;\n  }\n  toWGSL(indent: string, ctx: ASTContext): string {\n    return `${indent}{\\n${super.toWGSL(indent + ' ', ctx)}${indent}}\\n`;\n  }\n}\n\n/** @internal */\nexport class ASTGlobalScope extends ASTScope {\n  uniforms: ASTDeclareVar[];\n  constructor() {\n    super();\n    this.uniforms = [];\n  }\n  findFunction(name: string): ASTFunction {\n    for (const stmt of this.statements) {\n      if (stmt instanceof ASTFunction && stmt.name === name) {\n        return stmt;\n      }\n    }\n    return null;\n  }\n  toWebGL(indent: string, ctx: ASTContext): string {\n    // TODO: precision\n    const precisions = `${indent}precision highp float;\\n${indent}precision highp int;\\n`;\n    const version = `${indent}#version 100\\n`;\n    const body = ctx.types.map(val => val.toWebGL(indent, ctx)).join('')\n      + this.uniforms.map(uniform => uniform.toWebGL(indent, ctx)).join('')\n      + ctx.inputs.map(input => input.toWebGL(indent, ctx)).join('')\n      + ctx.outputs.map(output => output.toWebGL(indent, ctx)).join('')\n      + super.toWebGL(indent, ctx);\n    for (const k of ctx.builtins) {\n      const info = builtinVariables.webgl[k];\n      if (info.extension) {\n        ctx.extensions.add(info.extension);\n      }\n    }\n    const extensions = [...ctx.extensions].map(s => `${indent}#extension ${s}: enable\\n`).join('');\n    const defines = ctx.defines.join('');\n    return version + extensions + precisions + defines + body;\n  }\n  toWebGL2(indent: string, ctx: ASTContext): string {\n    const precisions = `${indent}precision highp float;\\n${indent}precision highp int;\\n`;\n    const version = `${indent}#version 300 es\\n`;\n    const body = ctx.types.map(val => val.toWebGL2(indent, ctx)).join('')\n      + this.uniforms.map(uniform => uniform.toWebGL2(indent, ctx)).join('')\n      + ctx.inputs.map(input => input.toWebGL2(indent, ctx)).join('')\n      + ctx.outputs.map(output => output.toWebGL2(indent, ctx)).join('')\n      + super.toWebGL2(indent, ctx);\n    for (const k of ctx.builtins) {\n      const info = builtinVariables.webgl2[k];\n      if (info.extension) {\n        ctx.extensions.add(info.extension);\n      }\n    }\n    const extensions = [...ctx.extensions].map(s => `${indent}#extension ${s}: enable\\n`).join('');\n    const defines = ctx.defines.join('');\n    return version + extensions + precisions + defines + body;\n  }\n  toWGSL(indent: string, ctx: ASTContext): string {\n    const structNames = ctx.type === ShaderType.Vertex\n      ? [BuiltinInputStructNameVS, BuiltinOutputStructNameVS]\n      : ctx.type === ShaderType.Fragment\n        ? [BuiltinInputStructNameFS, BuiltinOutputStructNameFS]\n        : [BuiltinInputStructNameCS];\n    const usedBuiltins: string[] = [];\n    for (const k of ctx.builtins) {\n      usedBuiltins.push(builtinVariables.webgpu[k].name);\n    }\n    const allBuiltins = Object.keys(builtinVariables.webgpu).map(val => builtinVariables.webgpu[val].name);\n    for (const type of ctx.types) {\n      if (type instanceof ASTStructDefine && structNames.indexOf(type.type.structName) >= 0) {\n        for (let i = type.type.structMembers.length - 1; i >= 0; i--) {\n          const member = type.type.structMembers[i];\n          if (allBuiltins.indexOf(member.name) >= 0 && usedBuiltins.indexOf(member.name) < 0) {\n            type.type.structMembers.splice(i, 1);\n            type.prefix.splice(i, 1);\n          }\n        }\n      }\n    }\n    ctx.types = ctx.types.filter(val => !(val instanceof ASTStructDefine) || val.type.structMembers.length > 0);\n    return ctx.types.map(val => val.toWGSL(indent, ctx)).join('')\n      + this.uniforms.map(uniform => uniform.toWGSL(indent, ctx)).join('')\n      + super.toWGSL(indent, ctx);\n  }\n}\n\n/** @internal */\nexport class ASTPrimitive extends ASTExpression {\n  value: PBShaderExp;\n  ref: ASTExpression;\n  writable: boolean;\n  constExp: boolean;\n  constructor(value: PBShaderExp) {\n    super();\n    this.value = value;\n    this.ref = null;\n    this.writable = false;\n    this.constExp = false;\n  }\n  get name(): string {\n    return this.value.$str;\n  }\n  isReference(): boolean {\n    return true;\n  }\n  isConstExp(): boolean {\n    return this.constExp;\n  }\n  markWritable() {\n    this.writable = true;\n    this.constExp = false;\n    if (this.ref) {\n      this.ref.markWritable();\n    }\n  }\n  isWritable(): boolean {\n    return this.writable;\n  }\n  getAddressSpace(): typeinfo.PBAddressSpace {\n    switch (this.value.$declareType) {\n      case DeclareType.DECLARE_TYPE_UNIFORM:\n        return typeinfo.PBAddressSpace.UNIFORM;\n      case DeclareType.DECLARE_TYPE_STORAGE:\n        return typeinfo.PBAddressSpace.STORAGE;\n      case DeclareType.DECLARE_TYPE_IN:\n      case DeclareType.DECLARE_TYPE_OUT:\n        return null;\n      default:\n        return this.value.$global ? typeinfo.PBAddressSpace.PRIVATE : typeinfo.PBAddressSpace.FUNCTION;\n    }\n  }\n  getType(): typeinfo.PBTypeInfo {\n    return this.value.$typeinfo;\n  }\n  toWebGL(indent: string, ctx: ASTContext): string {\n    return this.name;\n  }\n  toWebGL2(indent: string, ctx: ASTContext): string {\n    return this.name;\n  }\n  toWGSL(indent: string, ctx: ASTContext): string {\n    if (this.value.$declareType === DeclareType.DECLARE_TYPE_IN) {\n      const structName = getBuiltinInputStructInstanceName(ctx.type);\n      return ctx.global[structName][this.name].$ast.toWGSL(indent, ctx);\n    } else if (this.value.$declareType === DeclareType.DECLARE_TYPE_OUT) {\n      const structName = getBuiltinOutputStructInstanceName(ctx.type);\n      return ctx.global[structName][this.name].$ast.toWGSL(indent, ctx);\n    } else {\n      return this.name;\n    }\n  }\n  toString(deviceType: DeviceType): string {\n    return this.name;\n  }\n}\n\n/** @internal */\nexport abstract class ASTLValue extends ShaderAST {\n  abstract getType(): typeinfo.PBTypeInfo;\n  abstract markWritable(): void;\n  abstract isWritable(): boolean;\n}\n\n/** @internal */\nexport class ASTLValueScalar extends ASTLValue {\n  value: ASTExpression;\n  constructor(value: ASTExpression) {\n    super();\n    if (value.getAddressSpace() === typeinfo.PBAddressSpace.UNIFORM) {\n      throw new errors.PBASTError(value, 'cannot assign to uniform variable');\n    }\n    this.value = value;\n    if (this.value instanceof ASTCallFunction) {\n      this.value.isStatement = false;\n    }\n  }\n  getType(): typeinfo.PBTypeInfo {\n    return this.value.getType();\n  }\n  markWritable(): void {\n    this.value.markWritable();\n  }\n  isWritable(): boolean {\n    return this.value.isWritable();\n  }\n  isReference(): boolean {\n    return this.value.isReference();\n  }\n  toWebGL(indent: string, ctx: ASTContext): string {\n    return this.value.toWebGL(indent, ctx);\n  }\n  toWebGL2(indent: string, ctx: ASTContext): string {\n    return this.value.toWebGL2(indent, ctx);\n  }\n  toWGSL(indent: string, ctx: ASTContext): string {\n    return this.value.toWGSL(indent, ctx);\n  }\n  toString(deviceType: DeviceType): string {\n    return this.value.toString(deviceType);\n  }\n}\n\n/** @internal */\nexport class ASTLValueHash extends ASTLValue {\n  scope: ASTLValueScalar | ASTLValueHash | ASTLValueArray;\n  field: string;\n  type: typeinfo.PBTypeInfo;\n  constructor(scope: ASTLValueScalar | ASTLValueHash | ASTLValueArray, field: string, type: typeinfo.PBTypeInfo) {\n    super();\n    this.scope = scope;\n    this.field = field;\n    this.type = type;\n  }\n  getType(): typeinfo.PBTypeInfo {\n    return this.type;\n  }\n  markWritable(): void {\n    this.scope.markWritable();\n  }\n  isWritable(): boolean {\n    return this.scope.isWritable();\n  }\n  isReference(): boolean {\n    return this.scope.isReference();\n  }\n  toWebGL(indent: string, ctx: ASTContext): string {\n    return `${this.scope.toWebGL(indent, ctx)}.${this.field}`;\n  }\n  toWebGL2(indent: string, ctx: ASTContext): string {\n    return `${this.scope.toWebGL2(indent, ctx)}.${this.field}`;\n  }\n  toWGSL(indent: string, ctx: ASTContext): string {\n    const scope = this.scope.isPointer() ? new ASTReferenceOf(this.scope) : this.scope;\n    return `${scope.toWGSL(indent, ctx)}.${this.field}`;\n  }\n  toString(deviceType: DeviceType): string {\n    const scope = this.scope.isPointer() ? new ASTReferenceOf(this.scope) : this.scope;\n    return `${scope.toString(deviceType)}.${this.field}`;\n  }\n}\n\n/** @internal */\nexport class ASTLValueArray extends ASTLValue {\n  value: ASTLValueScalar | ASTLValueHash | ASTLValueArray;\n  index: ASTExpression;\n  type: typeinfo.PBTypeInfo;\n  constructor(value: ASTLValueScalar | ASTLValueHash | ASTLValueArray, index: ASTExpression, type: typeinfo.PBTypeInfo) {\n    super();\n    this.value = value;\n    this.index = index;\n    this.type = type;\n    if (this.index instanceof ASTCallFunction) {\n      this.index.isStatement = false;\n    }\n  }\n  getType(): typeinfo.PBTypeInfo {\n    return this.type;\n  }\n  markWritable(): void {\n    this.value.markWritable();\n  }\n  isWritable(): boolean {\n    return this.value.isWritable();\n  }\n  isReference(): boolean {\n    return this.value.isReference();\n  }\n  toWebGL(indent: string, ctx: ASTContext): string {\n    return `${this.value.toWebGL(indent, ctx)}[${this.index.toWebGL(indent, ctx)}]`;\n  }\n  toWebGL2(indent: string, ctx: ASTContext): string {\n    return `${this.value.toWebGL2(indent, ctx)}[${this.index.toWebGL2(indent, ctx)}]`;\n  }\n  toWGSL(indent: string, ctx: ASTContext): string {\n    const value = this.value.isPointer() ? new ASTReferenceOf(this.value) : this.value;\n    return `${value.toWGSL(indent, ctx)}[${this.index.toWGSL(indent, ctx)}]`;\n  }\n  toString(deviceType: DeviceType): string {\n    const value = this.value.isPointer() ? new ASTReferenceOf(this.value) : this.value;\n    return `${value.toString(deviceType)}[${this.index.toString(deviceType)}]`;\n  }\n}\n\n/** @internal */\nexport class ASTLValueDeclare extends ASTLValue {\n  value: ASTPrimitive;\n  constructor(value: ASTPrimitive) {\n    super();\n    this.value = value;\n    this.value.constExp = true;\n  }\n  getType(): typeinfo.PBTypeInfo {\n    return this.value.getType();\n  }\n  markWritable(): void {\n  }\n  isWritable(): boolean {\n    return false;\n  }\n  isReference(): boolean {\n    return true;\n  }\n  toWebGL(indent: string, ctx: ASTContext): string {\n    let prefix = '';\n    const builtin = false;\n    switch (this.value.value.$declareType) {\n      case DeclareType.DECLARE_TYPE_IN:\n      case DeclareType.DECLARE_TYPE_OUT:\n      case DeclareType.DECLARE_TYPE_UNIFORM:\n      case DeclareType.DECLARE_TYPE_STORAGE:\n        throw new Error('invalid declare type');\n      default:\n        prefix = this.value.constExp && !this.value.writable && !this.getType().isStructType() ? 'const ' : '';\n        break;\n    }\n    if (!builtin) {\n      return `${prefix}${this.getType().toTypeName('webgl', this.value.name)}`;\n    }\n  }\n  toWebGL2(indent: string, ctx: ASTContext): string {\n    let prefix = '';\n    const builtin = false;\n    switch (this.value.value.$declareType) {\n      case DeclareType.DECLARE_TYPE_IN:\n      case DeclareType.DECLARE_TYPE_OUT:\n      case DeclareType.DECLARE_TYPE_UNIFORM:\n      case DeclareType.DECLARE_TYPE_STORAGE:\n        throw new Error('invalid declare type');\n      default:\n        prefix = this.value.constExp && !this.value.writable && !this.getType().isStructType() ? 'const ' : '';\n        break;\n    }\n    if (!builtin) {\n      return `${prefix}${this.getType().toTypeName('webgl2', this.value.name)}`;\n    }\n  }\n  toWGSL(indent: string, ctx: ASTContext): string {\n    let prefix: string;\n    const builtin = false;\n    switch (this.value.value.$declareType) {\n      case DeclareType.DECLARE_TYPE_IN:\n      case DeclareType.DECLARE_TYPE_OUT:\n      case DeclareType.DECLARE_TYPE_UNIFORM:\n      case DeclareType.DECLARE_TYPE_STORAGE:\n        throw new Error('invalid declare type');\n      default: {\n        const addressSpace = this.value.getAddressSpace();\n        const readonly = this.getType().isPointerType()\n          || (!this.value.writable\n            && (addressSpace === typeinfo.PBAddressSpace.PRIVATE || addressSpace === typeinfo.PBAddressSpace.FUNCTION));\n        const moduleScope = addressSpace === typeinfo.PBAddressSpace.PRIVATE;\n        const storageAccessMode = addressSpace === typeinfo.PBAddressSpace.STORAGE && this.value.writable ? ', read_write' : '';\n        const decorator = addressSpace !== typeinfo.PBAddressSpace.FUNCTION ? `<${addressSpace}${storageAccessMode}>` : '';\n        prefix = readonly ? moduleScope ? 'const ' : 'let ' : `var${decorator} `;\n        break;\n      }\n    }\n    if (!builtin) {\n      // const decl = this.value.value.$global ? this.getType().toTypeName('webgpu', this.value.name) : this.value.name;\n      const type = this.getType();\n      if (type.isPointerType() && (this.value.writable || this.value.ref.isWritable())) {\n        type.writable = true;\n      }\n      const decl = type.toTypeName('webgpu', this.value.name);\n      return `${prefix}${decl}`;\n    }\n  }\n  toString(deviceType: DeviceType): string {\n    return this.value.toString(deviceType);\n  }\n}\n\n/** @internal */\nexport class ASTShaderExpConstructor extends ASTExpression {\n  type: typeinfo.PBTypeInfo;\n  args: (number | boolean | ASTExpression)[];\n  constExp: boolean;\n  constructor(type: typeinfo.PBTypeInfo, args: (number | boolean | ASTExpression)[]) {\n    super();\n    this.type = type;\n    this.args = args;\n    this.constExp = true;\n    for (const arg of args) {\n      if (arg === null || arg === undefined) {\n        throw new Error('invalid constructor argument');\n      }\n      if (arg instanceof ASTCallFunction) {\n        arg.isStatement = false;\n      }\n      this.constExp &&= !(arg instanceof ASTExpression) || arg.isConstExp();\n    }\n  }\n  getType(): typeinfo.PBTypeInfo {\n    return this.type;\n  }\n  markWritable() {\n  }\n  isWritable(): boolean {\n    return false;\n  }\n  isConstExp(): boolean {\n    return this.constExp;\n  }\n  getAddressSpace(): typeinfo.PBAddressSpace {\n    return null;\n  }\n  toWebGL(indent: string, ctx: ASTContext): string {\n    console.assert(!this.type.isArrayType(), 'array constructor not supported in webgl1 device');\n    console.assert(this.type.isConstructible(), `type '${this.type.toTypeName('webgl')}' is not constructible`);\n    const overloads = this.type.getConstructorOverloads('webgl');\n    for (const overload of overloads) {\n      const convertedArgs = convertArgs(this.args, overload);\n      if (convertedArgs) {\n        const c = convertedArgs.args.map(arg => unbracket(arg.toWebGL(indent, ctx))).join(',');\n        return `${convertedArgs.name}(${c})`;\n      }\n    }\n    throw new Error(`no matching overload function found for type ${this.type.toTypeName('webgl')}`);\n  }\n  toWebGL2(indent: string, ctx: ASTContext): string {\n    console.assert(this.type.isConstructible(), `type '${this.type.toTypeName('webgl2')}' is not constructible`, true);\n    const overloads = this.type.getConstructorOverloads('webgl2');\n    for (const overload of overloads) {\n      const convertedArgs = convertArgs(this.args, overload);\n      if (convertedArgs) {\n        const c = convertedArgs.args.map(arg => unbracket(arg.toWebGL2(indent, ctx))).join(',');\n        return `${convertedArgs.name}(${c})`;\n      }\n    }\n    throw new Error(`no matching overload function found for type ${this.type.toTypeName('webgl2')}`);\n  }\n  toWGSL(indent: string, ctx: ASTContext): string {\n    console.assert(this.type.isConstructible(), `type '${this.type.toTypeName('webgpu')}' is not constructible`, true);\n    const overloads = this.type.getConstructorOverloads('webgpu');\n    for (const overload of overloads) {\n      const convertedArgs = convertArgs(this.args, overload);\n      if (convertedArgs) {\n        const c = convertedArgs.args.map(arg => unbracket(arg.toWGSL(indent, ctx))).join(',');\n        return `${convertedArgs.name}(${c})`;\n      }\n    }\n    throw new Error(`no matching overload function found for type ${this.type.toTypeName('webgpu')}`);\n  }\n  toString(deviceType: DeviceType): string {\n    return 'constructor';\n  }\n}\n\n/** @internal */\nexport class ASTScalar extends ASTExpression {\n  value: number | boolean;\n  type: typeinfo.PBPrimitiveTypeInfo;\n  constructor(value: number | boolean, type: typeinfo.PBPrimitiveTypeInfo) {\n    super();\n    this.value = value;\n    this.type = type;\n    const valueType = typeof value;\n    if (valueType === 'number') {\n      if (type.primitiveType === typeinfo.PBPrimitiveType.BOOL) {\n        throw new errors.PBTypeCastError(value, valueType, type);\n      }\n      if (type.primitiveType === typeinfo.PBPrimitiveType.I32 && (!Number.isInteger(value) || value < (0x80000000 >> 0) || value > 0xFFFFFFFF)) {\n        throw new errors.PBTypeCastError(value, valueType, type);\n      }\n      if (value < 0 && type.primitiveType === typeinfo.PBPrimitiveType.U32 && (!Number.isInteger(value) || value < 0 || value > 0xFFFFFFFF)) {\n        throw new errors.PBTypeCastError(value, valueType, type);\n      }\n    } else if (type.primitiveType !== typeinfo.PBPrimitiveType.BOOL) {\n      throw new errors.PBTypeCastError(value, valueType, type);\n    }\n  }\n  getType(): typeinfo.PBTypeInfo {\n    return this.type;\n  }\n  markWritable() {\n  }\n  isWritable(): boolean {\n    return false;\n  }\n  isConstExp(): boolean {\n    return true;\n  }\n  getAddressSpace(): typeinfo.PBAddressSpace {\n    return null;\n  }\n  toWebGL(indent: string, ctx: ASTContext) {\n    switch (this.type.primitiveType) {\n      case typeinfo.PBPrimitiveType.F32:\n        return toFixed(this.value as number);\n      case typeinfo.PBPrimitiveType.I32:\n        return toInt(this.value as number);\n      case typeinfo.PBPrimitiveType.U32:\n        return toUint(this.value as number);\n      case typeinfo.PBPrimitiveType.BOOL:\n        return String(!!this.value);\n      default:\n        throw new Error('Invalid scalar type');\n    }\n  }\n  toWebGL2(indent: string, ctx: ASTContext) {\n    switch (this.type.primitiveType) {\n      case typeinfo.PBPrimitiveType.F32:\n        return toFixed(this.value as number);\n      case typeinfo.PBPrimitiveType.I32:\n        return toInt(this.value as number);\n      case typeinfo.PBPrimitiveType.U32:\n        return toUint(this.value as number);\n      case typeinfo.PBPrimitiveType.BOOL:\n        return String(!!this.value);\n      default:\n        throw new Error('Invalid scalar type');\n    }\n  }\n  toWGSL(indent: string, ctx: ASTContext) {\n    switch (this.type.primitiveType) {\n      case typeinfo.PBPrimitiveType.F32:\n        return toFixed(this.value as number);\n      case typeinfo.PBPrimitiveType.I32:\n        return toInt(this.value as number);\n      case typeinfo.PBPrimitiveType.U32:\n        return `${toUint(this.value as number)}u`;\n      case typeinfo.PBPrimitiveType.BOOL:\n        return String(!!this.value);\n      default:\n        throw new Error('Invalid scalar type');\n    }\n  }\n  toString(deviceType: DeviceType): string {\n    return `${this.value}`;\n  }\n}\n\n/** @internal */\nexport class ASTHash extends ASTExpression {\n  source: ASTExpression;\n  field: string;\n  type: typeinfo.PBTypeInfo;\n  constructor(source: ASTExpression, field: string, type: typeinfo.PBTypeInfo) {\n    super();\n    this.source = source;\n    this.field = field;\n    this.type = type;\n    if (this.source instanceof ASTCallFunction) {\n      this.source.isStatement = false;\n    }\n  }\n  getType(): typeinfo.PBTypeInfo {\n    return this.type;\n  }\n  isReference(): boolean {\n    return this.source.isReference();\n  }\n  isConstExp(): boolean {\n    return this.source.isConstExp();\n  }\n  markWritable() {\n    this.source.markWritable();\n  }\n  isWritable(): boolean {\n    return this.source.isWritable();\n  }\n  getAddressSpace(): typeinfo.PBAddressSpace {\n    return this.source.getAddressSpace();\n  }\n  toWebGL(indent: string, ctx: ASTContext) {\n    return `${this.source.toWebGL(indent, ctx)}.${this.field}`;\n  }\n  toWebGL2(indent: string, ctx: ASTContext) {\n    return `${this.source.toWebGL2(indent, ctx)}.${this.field}`;\n  }\n  toWGSL(indent: string, ctx: ASTContext) {\n    const source = this.source.isPointer() ? new ASTReferenceOf(this.source) : this.source;\n    return `${source.toWGSL(indent, ctx)}.${this.field}`;\n  }\n  toString(deviceType: DeviceType): string {\n    const source = this.source.isPointer() ? new ASTReferenceOf(this.source) : this.source;\n    return `${source.toString(deviceType)}.${this.field}`;\n  }\n}\n\n/** @internal */\nexport class ASTCast extends ASTExpression {\n  sourceValue: ASTExpression;\n  castType: typeinfo.PBTypeInfo;\n  constructor(source: ASTExpression, type: typeinfo.PBTypeInfo) {\n    super();\n    this.sourceValue = source;\n    this.castType = type;\n    if (this.sourceValue instanceof ASTCallFunction) {\n      this.sourceValue.isStatement = false;\n    }\n  }\n  getType(): typeinfo.PBTypeInfo {\n    return this.castType;\n  }\n  markWritable() {\n  }\n  isWritable(): boolean {\n    return false;\n  }\n  isConstExp(): boolean {\n    return this.sourceValue.isConstExp();\n  }\n  getAddressSpace(): typeinfo.PBAddressSpace {\n    return null;\n  }\n  toWebGL(indent: string, ctx: ASTContext) {\n    if (this.castType.typeId !== this.sourceValue.getType().typeId) {\n      return `${this.castType.toTypeName('webgl')}(${unbracket(this.sourceValue.toWebGL(indent, ctx))})`;\n    } else {\n      return this.sourceValue.toWebGL(indent, ctx);\n    }\n  }\n  toWebGL2(indent: string, ctx: ASTContext) {\n    if (this.castType.typeId !== this.sourceValue.getType().typeId) {\n      return `${this.castType.toTypeName('webgl2')}(${unbracket(this.sourceValue.toWebGL2(indent, ctx))})`;\n    } else {\n      return this.sourceValue.toWebGL2(indent, ctx);\n    }\n  }\n  toWGSL(indent: string, ctx: ASTContext) {\n    if (this.castType.typeId !== this.sourceValue.getType().typeId) {\n      return `${this.castType.toTypeName('webgpu')}(${unbracket(this.sourceValue.toWGSL(indent, ctx))})`;\n    } else {\n      return this.sourceValue.toWGSL(indent, ctx);\n    }\n  }\n  toString(deviceType: DeviceType): string {\n    return `${this.castType.toTypeName(deviceType)}(${unbracket(this.sourceValue.toString(deviceType))})`;\n  }\n}\n\n/** @internal */\nexport class ASTAddressOf extends ASTExpression {\n  value: ASTExpression;\n  type: typeinfo.PBTypeInfo;\n  constructor(value: ASTExpression) {\n    super();\n    console.assert(value.isReference(), 'no pointer type for non-reference values', true);\n    this.value = value;\n    this.type = new typeinfo.PBPointerTypeInfo(value.getType(), value.getAddressSpace());\n  }\n  getType(): typeinfo.PBTypeInfo {\n    return this.type;\n  }\n  isConstExp(): boolean {\n    return false;\n  }\n  markWritable() {\n    const addressSpace = this.value.getAddressSpace();\n    if (addressSpace === typeinfo.PBAddressSpace.UNIFORM) {\n      throw new errors.PBASTError(this.value, 'uniforms are not writable');\n    }\n    this.value.markWritable();\n  }\n  isWritable(): boolean {\n    return this.value.isWritable();\n  }\n  getAddressSpace(): typeinfo.PBAddressSpace {\n    return this.value.getAddressSpace();\n  }\n  toWebGL(indent: string, ctx: ASTContext): string {\n    throw new Error('GLSL does not support pointer type');\n  }\n  toWebGL2(indent: string, ctx: ASTContext): string {\n    throw new Error('GLSL does not support pointer type');\n  }\n  toWGSL(indent: string, ctx: ASTContext) {\n    const ast = this.value instanceof ASTFunctionParameter ? this.value.paramAST : this.value;\n    return ast instanceof ASTReferenceOf ? ast.value.toWGSL(indent, ctx) : `(&${ast.toWGSL(indent, ctx)})`;\n  }\n  toString(deviceType: DeviceType): string {\n    const ast = this.value instanceof ASTFunctionParameter ? this.value.paramAST : this.value;\n    return ast instanceof ASTReferenceOf ? ast.value.toString(deviceType) : `(&${ast.toString(deviceType)})`;\n  }\n}\n\n/** @internal */\nexport class ASTReferenceOf extends ASTExpression {\n  value: ASTExpression | ASTLValue;\n  constructor(value: ASTExpression | ASTLValue) {\n    super();\n    this.value = value;\n    if (this.value instanceof ASTCallFunction) {\n      this.value.isStatement = false;\n    }\n  }\n  getType(): typeinfo.PBTypeInfo {\n    const type = this.value.getType();\n    return type.isPointerType() ? type.pointerType : type;\n  }\n  isReference(): boolean {\n    return true;\n  }\n  markWritable() {\n    this.value.markWritable();\n  }\n  isWritable(): boolean {\n    return this.value.isWritable();\n  }\n  isConstExp(): boolean {\n    return false;\n  }\n  getAddressSpace(): typeinfo.PBAddressSpace {\n    return this.value instanceof ASTExpression ? this.value.getAddressSpace() : null;\n  }\n  toWebGL(indent: string, ctx: ASTContext): string {\n    return this.value.toWebGL(indent, ctx);\n  }\n  toWebGL2(indent: string, ctx: ASTContext): string {\n    return this.value.toWebGL2(indent, ctx);\n  }\n  toWGSL(indent: string, ctx: ASTContext) {\n    return this.value.getType().isPointerType() ? `(*${this.value.toWGSL(indent, ctx)})` : this.value.toWGSL(indent, ctx);\n  }\n  toString(deviceType: DeviceType): string {\n    return `*${this.value.toString(deviceType)}`;\n  }\n}\n\n/** @internal */\nexport class ASTUnaryFunc extends ASTExpression {\n  value: ASTExpression;\n  op: string;\n  type: typeinfo.PBTypeInfo;\n  constructor(value: ASTExpression, op: string, type: typeinfo.PBTypeInfo) {\n    super();\n    this.value = value;\n    this.op = op;\n    this.type = type;\n    if (this.value instanceof ASTCallFunction) {\n      this.value.isStatement = false;\n    }\n  }\n  getType(): typeinfo.PBTypeInfo {\n    return this.type;\n  }\n  markWritable() {\n  }\n  isWritable(): boolean {\n    return false;\n  }\n  isConstExp(): boolean {\n    return this.value.isConstExp();\n  }\n  getAddressSpace(): typeinfo.PBAddressSpace {\n    return null;\n  }\n  toWebGL(indent: string, ctx: ASTContext) {\n    return `${this.op}${this.value.toWebGL(indent, ctx)}`;\n  }\n  toWebGL2(indent: string, ctx: ASTContext) {\n    return `${this.op}${this.value.toWebGL2(indent, ctx)}`;\n  }\n  toWGSL(indent: string, ctx: ASTContext) {\n    const value = this.value.isPointer() ? new ASTReferenceOf(this.value) : this.value;\n    return `${this.op}${value.toWGSL(indent, ctx)}`;\n  }\n  toString(deviceType: DeviceType): string {\n    const value = this.value.isPointer() ? new ASTReferenceOf(this.value) : this.value;\n    return `${this.op}${value.toString(deviceType)}`;\n  }\n}\n\n/** @internal */\nexport class ASTBinaryFunc extends ASTExpression {\n  left: ASTExpression;\n  right: ASTExpression;\n  type: typeinfo.PBTypeInfo;\n  op: string;\n  constructor(left: ASTExpression, right: ASTExpression, op: string, type: typeinfo.PBTypeInfo) {\n    super();\n    this.left = left;\n    this.right = right;\n    this.op = op;\n    this.type = type;\n    if (this.left instanceof ASTCallFunction) {\n      this.left.isStatement = false;\n    }\n    if (this.right instanceof ASTCallFunction) {\n      this.right.isStatement = false;\n    }\n  }\n  getType(): typeinfo.PBTypeInfo {\n    return this.type;\n  }\n  markWritable() {\n  }\n  isWritable(): boolean {\n    return false;\n  }\n  isConstExp(): boolean {\n    return this.left.isConstExp() && this.right.isConstExp();\n  }\n  getAddressSpace(): typeinfo.PBAddressSpace {\n    return null;\n  }\n  toWebGL(indent: string, ctx: ASTContext) {\n    return `(${this.left.toWebGL(indent, ctx)} ${this.op} ${this.right.toWebGL(indent, ctx)})`;\n  }\n  toWebGL2(indent: string, ctx: ASTContext) {\n    return `(${this.left.toWebGL2(indent, ctx)} ${this.op} ${this.right.toWebGL2(indent, ctx)})`;\n  }\n  toWGSL(indent: string, ctx: ASTContext) {\n    const left = this.left.isPointer() ? new ASTReferenceOf(this.left) : this.left;\n    const right = this.right.isPointer() ? new ASTReferenceOf(this.right) : this.right;\n    return `(${left.toWGSL(indent, ctx)} ${this.op} ${right.toWGSL(indent, ctx)})`;\n  }\n  toString(deviceType: DeviceType): string {\n    const left = this.left.isPointer() ? new ASTReferenceOf(this.left) : this.left;\n    const right = this.right.isPointer() ? new ASTReferenceOf(this.right) : this.right;\n    return `(${left.toString(deviceType)} ${this.op} ${right.toString(deviceType)})`;\n  }\n}\n\n/** @internal */\nexport class ASTArrayIndex extends ASTExpression {\n  source: ASTExpression;\n  index: ASTExpression;\n  type: typeinfo.PBTypeInfo;\n  constructor(source: ASTExpression, index: ASTExpression, type: typeinfo.PBTypeInfo) {\n    super();\n    this.source = source;\n    this.index = index;\n    this.type = type;\n    if (this.source instanceof ASTCallFunction) {\n      this.source.isStatement = false;\n    }\n    if (this.index instanceof ASTCallFunction) {\n      this.index.isStatement = false;\n    }\n  }\n  getType(): typeinfo.PBTypeInfo {\n    return this.type;\n  }\n  isReference(): boolean {\n    return this.source.isReference();\n  }\n  markWritable() {\n    this.source.markWritable();\n  }\n  isWritable(): boolean {\n    return this.source.isWritable();\n  }\n  isConstExp(): boolean {\n    return this.source.isConstExp() && this.index.isConstExp();\n  }\n  getAddressSpace(): typeinfo.PBAddressSpace {\n    return this.source.getAddressSpace();\n  }\n  toWebGL(indent: string, ctx: ASTContext) {\n    return `${this.source.toWebGL(indent, ctx)}[${unbracket(this.index.toWebGL(indent, ctx))}]`;\n  }\n  toWebGL2(indent: string, ctx: ASTContext) {\n    return `${this.source.toWebGL2(indent, ctx)}[${unbracket(this.index.toWebGL2(indent, ctx))}]`;\n  }\n  toWGSL(indent: string, ctx: ASTContext) {\n    return `${this.source.toWGSL(indent, ctx)}[${unbracket(this.index.toWGSL(indent, ctx))}]`;\n  }\n  toString(deviceType: DeviceType): string {\n    return `${this.source.toString(deviceType)}[${unbracket(this.index.toString(deviceType))}]`;\n  }\n}\n\n/** @internal */\nexport class ASTTouch extends ShaderAST {\n  value: ASTExpression;\n  constructor(value: ASTExpression) {\n    super();\n    if (value.getType().isVoidType()) {\n      throw new Error('can not touch void type');\n    }\n    if (value instanceof ASTCallFunction) {\n      value.isStatement = false;\n    }\n    this.value = value;\n  }\n  toWebGL(indent: string, ctx: ASTContext) {\n    return `${indent}${this.value.toWebGL('', ctx)};\\n`;\n  }\n  toWebGL2(indent: string, ctx: ASTContext) {\n    return `${indent}${this.value.toWebGL2('', ctx)};\\n`;\n  }\n  toWGSL(indent: string, ctx: ASTContext) {\n    if (!this.value.getType().isVoidType()) {\n      return `${indent}_ = ${this.value.toWGSL('', ctx)};\\n`;\n    } else {\n      return `${indent}${this.value.toWGSL('', ctx)};\\n`;\n    }\n  }\n}\n\n/** @internal */\nexport class ASTAssignment extends ShaderAST {\n  lvalue: ASTLValue;\n  rvalue: ASTExpression | number | boolean;\n  constructor(lvalue: ASTLValue, rvalue: ASTExpression | number | boolean) {\n    super();\n    if (!lvalue.isReference()) {\n      throw new Error('assignment: l-value required');\n    }\n    this.lvalue = lvalue;\n    this.rvalue = rvalue;\n    if (!(this.lvalue instanceof ASTLValueDeclare)) {\n      if (this.lvalue.getType().isPointerType()) {\n        throw new errors.PBASTError(this.lvalue, 'cannot assign to read-only variable');\n      }\n      this.lvalue.markWritable();\n    } else if (this.lvalue.getType().isPointerType()) {\n      if (this.rvalue instanceof ASTPrimitive) {\n        this.lvalue.value.ref = this.rvalue.ref;\n      } else if (this.rvalue instanceof ASTAddressOf) {\n        this.lvalue.value.ref = this.rvalue.value;\n      } else {\n        throw new errors.PBASTError(this.lvalue, 'invalid pointer assignment');\n      }\n    } else if (this.rvalue instanceof ASTExpression) {\n      this.lvalue.value.constExp = this.rvalue.isConstExp();\n    }\n    if (this.rvalue instanceof ASTCallFunction) {\n      this.rvalue.isStatement = false;\n    }\n  }\n  getType(): typeinfo.PBTypeInfo {\n    return null;\n  }\n  toWebGL(indent: string, ctx: ASTContext) {\n    let rhs: string = null;\n    const ltype = this.lvalue.getType();\n    const rtype = this.checkScalarType(this.rvalue, ltype);\n    if (ltype.typeId !== rtype.typeId) {\n      throw new errors.PBTypeCastError(this.rvalue instanceof ASTExpression ? this.rvalue.toString('webgl') : `${this.rvalue}`, rtype, ltype);\n    }\n    if (typeof this.rvalue === 'number' || typeof this.rvalue === 'boolean') {\n      rhs = (rtype as typeinfo.PBPrimitiveTypeInfo).primitiveType === typeinfo.PBPrimitiveType.F32 ? toFixed(this.rvalue as number) : String(this.rvalue);\n    } else {\n      rhs = unbracket(this.rvalue.toWebGL(indent, ctx));\n    }\n    if (this.lvalue instanceof ASTLValueDeclare) {\n      this.lvalue.value.constExp &&= !(this.rvalue instanceof ASTExpression) || this.rvalue.isConstExp();\n    }\n    return `${indent}${this.lvalue.toWebGL(indent, ctx)} = ${rhs};\\n`;\n  }\n  toWebGL2(indent: string, ctx: ASTContext) {\n    let rhs: string = null;\n    const ltype = this.lvalue.getType();\n    const rtype = this.checkScalarType(this.rvalue, ltype);\n    if (ltype.typeId !== rtype.typeId) {\n      throw new errors.PBTypeCastError(this.rvalue instanceof ASTExpression ? this.rvalue.toString('webgl2') : `${this.rvalue}`, rtype, ltype);\n    }\n    if (typeof this.rvalue === 'number' || typeof this.rvalue === 'boolean') {\n      rhs = (rtype as typeinfo.PBPrimitiveTypeInfo).primitiveType === typeinfo.PBPrimitiveType.F32 ? toFixed(this.rvalue as number) : String(this.rvalue);\n    } else {\n      rhs = unbracket(this.rvalue.toWebGL2(indent, ctx));\n    }\n    if (this.lvalue instanceof ASTLValueDeclare) {\n      this.lvalue.value.constExp &&= !(this.rvalue instanceof ASTExpression) || this.rvalue.isConstExp();\n    }\n    return `${indent}${this.lvalue.toWebGL2(indent, ctx)} = ${rhs};\\n`;\n  }\n  toWGSL(indent: string, ctx: ASTContext) {\n    const ltype = this.lvalue.getType();\n    const [valueTypeLeft, lvalueIsPtr] = ltype.isPointerType() ? [ltype.pointerType, true] : [ltype, false];\n    const rtype = this.checkScalarType(this.rvalue, valueTypeLeft);\n    const rvalueIsPtr = rtype && rtype.isPointerType();\n    const valueTypeRight = rvalueIsPtr ? (rtype as typeinfo.PBPointerTypeInfo).pointerType : rtype;\n    if (valueTypeLeft.typeId !== valueTypeRight.typeId) {\n      throw new errors.PBTypeCastError(this.rvalue instanceof ASTExpression ? this.rvalue.toString('webgpu') : `${this.rvalue}`, rtype, ltype);\n    }\n    if (this.lvalue instanceof ASTLValueScalar || this.lvalue instanceof ASTLValueDeclare) {\n      const structName = valueTypeLeft.isStructType() ? valueTypeLeft.structName : null;\n      if (structName && ctx.types.findIndex(val => val instanceof ASTStructDefine && val.type.structName === structName) < 0) {\n        return '';\n      }\n    }\n    let rhs: string;\n    if (typeof this.rvalue === 'number' || typeof this.rvalue === 'boolean') {\n      rhs = (rtype as typeinfo.PBPrimitiveTypeInfo).primitiveType === typeinfo.PBPrimitiveType.F32 ? toFixed(this.rvalue as number) : String(this.rvalue);\n    } else {\n      rhs = unbracket(this.rvalue.toWGSL(indent, ctx));\n    }\n    const name = this.lvalue.toWGSL(indent, ctx);\n    if (lvalueIsPtr && !rvalueIsPtr) {\n      if (this.lvalue instanceof ASTLValueDeclare) {\n        throw new Error(`rvalue must be pointer type: ${rhs}`);\n      } else {\n        return `${indent}*(${name}) = ${rhs};\\n`;\n      }\n    } else if (rvalueIsPtr && !lvalueIsPtr) {\n      return `${indent}${name} = *(${rhs});\\n`\n    } else {\n      return `${indent}${name} = ${rhs};\\n`;\n    }\n  }\n  private checkScalarType(value: number | boolean | ASTExpression, targetType: typeinfo.PBTypeInfo): typeinfo.PBTypeInfo {\n    if (value instanceof ASTExpression) {\n      return value.getType();\n    }\n    const isBool = typeof value === 'boolean';\n    const isInt = typeof value === 'number' && Number.isInteger(value) && value >= (0x80000000 >> 0) && value <= 0x7fffffff;\n    const isUint = typeof value === 'number' && Number.isInteger(value) && value >= 0 && value <= 0xffffffff;\n    const isFloat = typeof value === 'number';\n    if (targetType.isPrimitiveType()) {\n      switch (targetType.primitiveType) {\n        case typeinfo.PBPrimitiveType.BOOL:\n          return isBool ? targetType : isInt ? typeinfo.typeI32 : isUint ? typeinfo.typeU32 : typeinfo.typeF32;\n        case typeinfo.PBPrimitiveType.F32:\n          return isFloat ? targetType : typeinfo.typeBool;\n        case typeinfo.PBPrimitiveType.I32:\n          return isInt ? targetType : isBool ? typeinfo.typeBool : isUint ? typeinfo.typeU32 : typeinfo.typeF32;\n        case typeinfo.PBPrimitiveType.U32:\n          return isUint ? targetType : isBool ? typeinfo.typeBool : isInt ? typeinfo.typeI32 : typeinfo.typeF32;\n        default:\n          return null;\n      }\n    } else {\n      return isBool ? typeinfo.typeBool : isInt ? typeinfo.typeI32 : isUint ? typeinfo.typeU32 : typeinfo.typeF32;\n    }\n  }\n}\n\n/** @internal */\nexport class ASTDiscard extends ShaderAST {\n  toWebGL(indent: string, ctx: ASTContext) {\n    return `${indent}discard;\\n`;\n  }\n  toWebGL2(indent: string, ctx: ASTContext) {\n    return `${indent}discard;\\n`;\n  }\n  toWGSL(indent: string, ctx: ASTContext) {\n    return `${indent}discard;\\n`;\n  }\n}\n\n/** @internal */\nexport class ASTBreak extends ShaderAST {\n  toWebGL(indent: string, ctx: ASTContext) {\n    return `${indent}break;\\n`\n  }\n  toWebGL2(indent: string, ctx: ASTContext) {\n    return `${indent}break;\\n`\n  }\n  toWGSL(indent: string, ctx: ASTContext) {\n    return `${indent}break;\\n`\n  }\n}\n\n/** @internal */\nexport class ASTContinue extends ShaderAST {\n  toWebGL(indent: string, ctx: ASTContext) {\n    return `${indent}continue;\\n`;\n  }\n  toWebGL2(indent: string, ctx: ASTContext) {\n    return `${indent}continue;\\n`;\n  }\n  toWGSL(indent: string, ctx: ASTContext) {\n    return `${indent}continue;\\n`\n  }\n}\n\n/** @internal */\nexport class ASTReturn extends ShaderAST {\n  value: ASTExpression;\n  constructor(value: ASTExpression) {\n    super();\n    this.value = value;\n    if (this.value instanceof ASTCallFunction) {\n      this.value.isStatement = false;\n    }\n  }\n  toWebGL(indent: string, ctx: ASTContext) {\n    return this.value ? `${indent}return ${unbracket(this.value.toWebGL(indent, ctx))};\\n` : `${indent}return;\\n`;\n  }\n  toWebGL2(indent: string, ctx: ASTContext) {\n    return this.value ? `${indent}return ${unbracket(this.value.toWebGL2(indent, ctx))};\\n` : `${indent}return;\\n`;\n  }\n  toWGSL(indent: string, ctx: ASTContext) {\n    return this.value ? `${indent}return ${unbracket(this.value.toWGSL(indent, ctx))};\\n` : `${indent}return;\\n`;\n  }\n}\n\n/** @internal */\nexport class ASTCallFunction extends ASTExpression {\n  name: string;\n  args: ASTExpression[];\n  retType: typeinfo.PBTypeInfo;\n  func: ASTFunction;\n  isStatement: boolean;\n  constructor(name: string, args: ASTExpression[], retType: typeinfo.PBTypeInfo, func: ASTFunction, deviceType: DeviceType) {\n    super();\n    this.name = name;\n    this.args = args;\n    this.retType = retType;\n    this.func = func;\n    this.isStatement = true;\n    if (func) {\n      if (func.args.length !== this.args.length) {\n        throw new errors.PBInternalError(`ASTCallFunction(): number of parameters mismatch`);\n      }\n      for (let i = 0; i < this.args.length; i++) {\n        const funcArg = func.args[i];\n        if (funcArg.paramAST instanceof ASTReferenceOf) {\n          if (deviceType === 'webgpu') {\n            const argAddressSpace = args[i].getAddressSpace();\n            if (argAddressSpace !== typeinfo.PBAddressSpace.FUNCTION && argAddressSpace !== typeinfo.PBAddressSpace.PRIVATE) {\n              throw new errors.PBParamTypeError(name, 'pointer type of function parameter must be function or private');\n            }\n            const argType = funcArg.paramAST.value.getType();\n            if (!argType.isPointerType()) {\n              throw new errors.PBInternalError(`ASTCallFunction(): invalid reference type`);\n            }\n            if (argType.addressSpace === typeinfo.PBAddressSpace.UNKNOWN) {\n              argType.addressSpace = argAddressSpace;\n            } else if (argType.addressSpace !== argAddressSpace) {\n              throw new errors.PBParamTypeError(name, `invalid pointer parameter address space '${argAddressSpace}', should be '${argType.addressSpace}`);\n            }\n          }\n          this.args[i].markWritable();\n        }\n      }\n    }\n    for (const arg of this.args) {\n      if (arg instanceof ASTCallFunction) {\n        arg.isStatement = false;\n      }\n    }\n  }\n  getType(): typeinfo.PBTypeInfo {\n    return this.retType;\n  }\n  isConstExp(): boolean {\n    return false;\n  }\n  markWritable() {\n  }\n  isWritable(): boolean {\n    return false;\n  }\n  getAddressSpace(): typeinfo.PBAddressSpace {\n    return null;\n  }\n  toWebGL(indent: string, ctx: ASTContext) {\n    if (this.name === 'dFdx' || this.name === 'dFdy' || this.name === 'fwidth') {\n      ctx.extensions.add('GL_OES_standard_derivatives');\n    } else if (this.name === 'texture2DLodEXT' || this.name === 'texture2DProjLodEXT' || this.name === 'textureCubeLodEXT' || this.name === 'texture2DGradEXT' || this.name === 'texture2DProjGradEXT' || this.name === 'textureCubeGradEXT') {\n      ctx.extensions.add('GL_EXT_shader_texture_lod');\n    }\n    const args = this.args.map(arg => unbracket(arg.toWebGL(indent, ctx)));\n    return `${this.isStatement ? indent : ''}${this.name}(${args.join(',')})${this.isStatement ? ';\\n' : ''}`;\n  }\n  toWebGL2(indent: string, ctx: ASTContext) {\n    const args = this.args.map(arg => unbracket(arg.toWebGL2(indent, ctx)));\n    return `${this.isStatement ? indent : ''}${this.name}(${args.join(',')})${this.isStatement ? ';\\n' : ''}`;\n  }\n  toWGSL(indent: string, ctx: ASTContext) {\n    let thisArgs = this.args.filter(val => {\n      const type = val.getType();\n      if ((val instanceof ASTPrimitive)\n        && type.isStructType()\n        && ctx.types.findIndex(t => (t instanceof ASTStructDefine) && t.type.structName === type.structName) < 0) {\n        return false;\n      }\n      return true;\n    });\n    const overloads = ctx.global.$getFunction(this.name)?.overloads;\n    if (overloads) {\n      let argsNew: ASTExpression[];\n      for (const overload of overloads) {\n        const convertedArgs = convertArgs(thisArgs, overload);\n        if (convertedArgs) {\n          argsNew = convertedArgs.args;\n          break;\n        }\n      }\n      if (!argsNew) {\n        throw new Error(`no matching overloading found for function '${this.name}'`);\n      }\n      thisArgs = argsNew;\n    }\n    const args = thisArgs.map(arg => unbracket(arg.toWGSL(indent, ctx)));\n    return `${this.isStatement ? indent : ''}${this.name}(${args.join(',')})${this.isStatement ? ';\\n' : ''}`;\n  }\n  toString(deviceType: DeviceType): string {\n    return `${this.name}(...)`;\n  }\n}\n\n/** @internal */\nexport class ASTDeclareVar extends ShaderAST {\n  value: ASTPrimitive;\n  group: number;\n  binding: number;\n  blockName: string;\n  constructor(exp: ASTPrimitive) {\n    super();\n    this.value = exp;\n    this.group = 0;\n    this.binding = 0;\n  }\n  isReference(): boolean {\n    return true;\n  }\n  isPointer(): boolean {\n    return this.value.getType().isPointerType();\n  }\n  toWebGL(indent: string, ctx: ASTContext): string {\n    let prefix = '';\n    let builtin = false;\n    let valueType = this.value.getType();\n    switch (this.value.value.$declareType) {\n      case DeclareType.DECLARE_TYPE_IN:\n        if (ctx.type === ShaderType.Vertex) {\n          prefix = 'attribute ';\n          ctx.defines.push(`#define ${this.value.name} ${semanticToAttrib(ctx.vertexAttributes[this.value.value.$location])}\\n`);\n        } else {\n          prefix = 'varying ';\n          // ctx.defines.push(`#define ${this.value.$str} ch_varying_${this.value.$location}\\n`);\n        }\n        break;\n      case DeclareType.DECLARE_TYPE_OUT:\n        if (ctx.type === ShaderType.Vertex) {\n          prefix = 'varying ';\n          // ctx.defines.push(`#define ${this.value.$str} ch_varying_${this.value.$location}\\n`);\n        } else {\n          builtin = true;\n          if (ctx.mrt) {\n            ctx.defines.push(`#define ${this.value.name} gl_FragData[${this.value.value.$location}]\\n`);\n            ctx.extensions.add('GL_EXT_draw_buffers');\n          } else {\n            ctx.defines.push(`#define ${this.value.name} gl_FragColor\\n`);\n          }\n        }\n        break;\n      case DeclareType.DECLARE_TYPE_UNIFORM:\n        prefix = 'uniform ';\n        valueType = ctx.typeReplacement?.get(this.value.value) || valueType;\n        break;\n      case DeclareType.DECLARE_TYPE_STORAGE:\n        throw new Error(`invalid variable declare type: ${this.value.name}`)\n    }\n    if (!builtin) {\n      return `${indent}${prefix}${valueType.toTypeName('webgl', this.value.name)};\\n`;\n    }\n  }\n  toWebGL2(indent: string, ctx: ASTContext): string {\n    let prefix = '';\n    const builtin = false;\n    let valueType = this.value.getType();\n    switch (this.value.value.$declareType) {\n      case DeclareType.DECLARE_TYPE_IN:\n        prefix = 'in ';\n        if (ctx.type === ShaderType.Vertex) {\n          ctx.defines.push(`#define ${this.value.name} ${semanticToAttrib(ctx.vertexAttributes[this.value.value.$location])}\\n`);\n        } else {\n          // ctx.defines.push(`#define ${this.value.$str} ch_varying_${this.value.$location}\\n`);\n        }\n        break;\n      case DeclareType.DECLARE_TYPE_OUT:\n        prefix = 'out ';\n        if (ctx.type === ShaderType.Vertex) {\n          // ctx.defines.push(`#define ${this.value.$str} ch_varying_${this.value.$location}\\n`);\n        } else {\n          prefix = `layout(location = ${this.value.value.$location}) out `;\n        }\n        break;\n      case DeclareType.DECLARE_TYPE_UNIFORM:\n        if (valueType.isStructType()) {\n          if (valueType.layout !== 'std140') {\n            throw new errors.PBASTError(this, 'uniform buffer layout must be std140');\n          }\n          return `${indent}layout(std140) uniform ${this.blockName} { ${valueType.structName} ${this.value.name}; };\\n`;\n        } else {\n          valueType = ctx.typeReplacement?.get(this.value.value) || valueType;\n          return `${indent}uniform ${valueType.toTypeName('webgl2', this.value.name)};\\n`;\n        }\n        break;\n      case DeclareType.DECLARE_TYPE_STORAGE:\n        throw new Error(`invalid variable declare type: ${this.value.name}`);\n    }\n    if (!builtin) {\n      return `${indent}${prefix}${this.value.getType().toTypeName('webgl2', this.value.name)};\\n`;\n    }\n  }\n  toWGSL(indent: string, ctx: ASTContext): string {\n    let prefix: string;\n    const builtin = false;\n    const isBlock = this.value.getType().isPrimitiveType() || this.value.getType().isStructType() || this.value.getType().isArrayType();\n    switch (this.value.value.$declareType) {\n      case DeclareType.DECLARE_TYPE_IN:\n      case DeclareType.DECLARE_TYPE_OUT:\n        // prefix = `@location(${this.value.value.$location}) var<out> `;\n        throw new Error(`Internal error`);\n      case DeclareType.DECLARE_TYPE_UNIFORM:\n        prefix = `@group(${this.group}) @binding(${this.binding}) var${isBlock ? '<uniform>' : ''} `;\n        break;\n      case DeclareType.DECLARE_TYPE_STORAGE:\n        prefix = `@group(${this.group}) @binding(${this.binding}) var<storage, ${this.value.writable ? 'read_write' : 'read'}> `;\n        break;\n      case DeclareType.DECLARE_TYPE_WORKGROUP:\n        prefix = `var<workgroup> `;\n        break;\n      default:\n        prefix = `${this.value.getType().isPointerType() ? 'let' : 'var'}${this.value.value.$global && !this.value.getType().isPointerType() ? '<private>' : ''} `;\n    }\n    if (!builtin) {\n      const type = this.value.getType();\n      const structName = type.isStructType() ? type.structName : null;\n      if (structName && ctx.types.findIndex(val => val instanceof ASTStructDefine && val.type.structName === structName) < 0) {\n        return '';\n      } else {\n        return `${indent}${prefix}${type.toTypeName('webgpu', this.value.name)};\\n`;\n      }\n    }\n  }\n  toString(deviceType: DeviceType): string {\n    return this.value.toString(deviceType);\n  }\n}\n\n/** @internal */\nexport class ASTFunction extends ASTScope {\n  isBuiltin: boolean;\n  isMainFunc: boolean;\n  name: string;\n  returnType: typeinfo.PBTypeInfo;\n  args: ASTFunctionParameter[];\n  funcOverloads: typeinfo.PBFunctionTypeInfo[];\n  builtins: string[];\n  constructor(name: string, args: ASTFunctionParameter[], isMainFunc: boolean, isBuiltin = false, overloads: typeinfo.PBFunctionTypeInfo[] = null) {\n    super();\n    this.name = name;\n    this.returnType = undefined;\n    this.args = args;\n    this.args.forEach(arg => {\n      if (!(arg instanceof ASTFunctionParameter)) {\n        throw new Error('invalid function argument type');\n      }\n    });\n    this.builtins = [];\n    this.isBuiltin = isBuiltin;\n    this.isMainFunc = isMainFunc;\n    this.funcOverloads = null;\n  }\n  get overloads(): typeinfo.PBFunctionTypeInfo[] {\n    return this.getOverloads();\n  }\n  toWebGL(indent: string, ctx: ASTContext) {\n    if (!this.isBuiltin) {\n      let str = '';\n      const p: string[] = [];\n      for (const param of this.args) {\n        let exp: PBShaderExp;\n        let name: string;\n        let qualifier: string;\n        if (param.paramAST instanceof ASTPrimitive) {\n          exp = param.paramAST.value;\n          name = param.paramAST.name;\n          qualifier = '';\n        } else {\n          exp = (param.paramAST.value as ASTPrimitive).value;\n          name = (param.paramAST.value as ASTPrimitive).name;\n          qualifier = 'inout ';\n        }\n        p.push(`${qualifier}${param.getType().toTypeName('webgl', name)}`);\n      }\n      str += `${indent}${this.returnType.toTypeName('webgl')} ${this.name}(${p.join(',')}) {\\n`;\n      str += super.toWebGL(indent + '  ', ctx);\n      str += `${indent}}\\n`;\n      return str;\n    } else {\n      return '';\n    }\n  }\n  toWebGL2(indent: string, ctx: ASTContext) {\n    if (!this.isBuiltin) {\n      let str = '';\n      const p: string[] = [];\n      for (const param of this.args) {\n        let exp: PBShaderExp;\n        let name: string;\n        let qualifier: string;\n        if (param.paramAST instanceof ASTPrimitive) {\n          exp = param.paramAST.value;\n          name = param.paramAST.name;\n          qualifier = '';\n        } else {\n          exp = (param.paramAST.value as ASTPrimitive).value;\n          name = (param.paramAST.value as ASTPrimitive).name;\n          qualifier = 'inout ';\n        }\n        p.push(`${qualifier}${param.getType().toTypeName('webgl2', name)}`);\n      }\n      str += `${indent}${this.returnType.toTypeName('webgl2')} ${this.name}(${p.join(',')}) {\\n`;\n      str += super.toWebGL2(indent + '  ', ctx);\n      str += `${indent}}\\n`;\n      return str;\n    } else {\n      return '';\n    }\n  }\n  toWGSL(indent: string, ctx: ASTContext) {\n    if (!this.isBuiltin) {\n      let str = '';\n      const p: string[] = [...this.builtins];\n      for (const param of this.args) {\n        const name = param.paramAST instanceof ASTPrimitive ? param.paramAST.name : (param.paramAST.value as ASTPrimitive).name;\n        const paramType = param.paramAST instanceof ASTPrimitive ? param.paramAST.getType() : (param.paramAST.value as ASTPrimitive).getType();\n        const dataType = paramType.isPointerType() ? paramType.pointerType : paramType;\n        if (dataType.isStructType() && ctx.types.findIndex(t => (t instanceof ASTStructDefine) && t.type.structName === dataType.structName) < 0) {\n          continue;\n        }\n        p.push(`${paramType.toTypeName('webgpu', name)}`);\n      }\n      let t = '';\n      if (this.isMainFunc) {\n        switch (ctx.type) {\n          case ShaderType.Vertex: t = '@vertex '; break;\n          case ShaderType.Fragment: t = '@fragment '; break;\n          case ShaderType.Compute: t = `@compute @workgroup_size(${ctx.workgroupSize[0]}, ${ctx.workgroupSize[1]}, ${ctx.workgroupSize[2]}) `; break;\n        }\n      }\n      const retName = this.returnType.isVoidType() ? null : this.returnType.toTypeName('webgpu');\n      const retStr = retName ? ` -> ${retName}` : '';\n      str += `${indent}${t}fn ${this.name}(${p.join(',')})${retStr} {\\n`;\n      str += super.toWGSL(indent + '  ', ctx);\n      str += `${indent}}\\n`;\n      return str;\n    } else {\n      return '';\n    }\n  }\n  private getOverloads(): typeinfo.PBFunctionTypeInfo[] {\n    if (!this.funcOverloads && this.args) {\n      this.funcOverloads = this.args ? [new typeinfo.PBFunctionTypeInfo(this.name, this.returnType, this.args.map(arg => {\n        return {\n          type: arg.paramAST.getType(),\n          byRef: arg.paramAST instanceof ASTReferenceOf\n        };\n      }))] : [];\n    }\n    return this.funcOverloads;\n  }\n}\n\n/** @internal */\nexport class ASTIf extends ASTScope {\n  keyword: string;\n  condition: ASTExpression;\n  nextElse: ASTIf;\n  constructor(keyword: string, condition: ASTExpression) {\n    super();\n    this.keyword = keyword;\n    this.condition = condition;\n    this.nextElse = null;\n    if (this.condition instanceof ASTCallFunction) {\n      this.condition.isStatement = false;\n    }\n  }\n  toWebGL(indent: string, ctx: ASTContext): string {\n    let str = `${indent}${this.keyword} ${this.condition ? '(' + unbracket(this.condition.toWebGL(indent, ctx)) + ')' : ''} {\\n`;\n    str += super.toWebGL(indent + '  ', ctx);\n    str += `${indent}}\\n`;\n    if (this.nextElse) {\n      str += this.nextElse.toWebGL(indent, ctx);\n    }\n    return str;\n  }\n  toWebGL2(indent: string, ctx: ASTContext): string {\n    let str = `${indent}${this.keyword} ${this.condition ? '(' + unbracket(this.condition.toWebGL2(indent, ctx)) + ')' : ''} {\\n`;\n    str += super.toWebGL2(indent + '  ', ctx);\n    str += `${indent}}\\n`;\n    if (this.nextElse) {\n      str += this.nextElse.toWebGL2(indent, ctx);\n    }\n    return str;\n  }\n  toWGSL(indent: string, ctx: ASTContext): string {\n    let str = `${indent}${this.keyword} ${this.condition ? '(' + unbracket(this.condition.toWGSL(indent, ctx)) + ')' : ''} {\\n`;\n    str += super.toWGSL(indent + '  ', ctx);\n    str += `${indent}}\\n`;\n    if (this.nextElse) {\n      str += this.nextElse.toWGSL(indent, ctx);\n    }\n    return str;\n  }\n}\n\n/** @internal */\nexport class ASTRange extends ASTScope {\n  init: ASTPrimitive;\n  start: ASTExpression;\n  end: ASTExpression;\n  open: boolean;\n  constructor(init: ASTPrimitive, start: ASTExpression, end: ASTExpression, open: boolean) {\n    super();\n    this.init = init;\n    this.start = start;\n    this.end = end;\n    this.open = open;\n    this.statements = [];\n    if (this.start instanceof ASTCallFunction) {\n      this.start.isStatement = false;\n    }\n    if (this.end instanceof ASTCallFunction) {\n      this.end.isStatement = false;\n    }\n  }\n  toWebGL(indent: string, ctx: ASTContext): string {\n    const init = this.init.getType().toTypeName('webgl', this.init.name);\n    const start = unbracket(this.start.toWebGL(indent, ctx));\n    const end = unbracket(this.end.toWebGL(indent, ctx));\n    const comp = this.open ? '<' : '<=';\n    let str = `${indent}for (${init} = ${start}; ${this.init.name} ${comp} ${end}; ${this.init.name}++) {\\n`;\n    str += super.toWebGL(indent + '  ', ctx);\n    str += `${indent}}\\n`;\n    return str;\n  }\n  toWebGL2(indent: string, ctx: ASTContext): string {\n    const init = this.init.getType().toTypeName('webgl2', this.init.name);\n    const start = unbracket(this.start.toWebGL2(indent, ctx));\n    const end = unbracket(this.end.toWebGL2(indent, ctx));\n    const comp = this.open ? '<' : '<=';\n    let str = `${indent}for (${init} = ${start}; ${this.init.name} ${comp} ${end}; ${this.init.name}++) {\\n`;\n    str += super.toWebGL2(indent + '  ', ctx);\n    str += `${indent}}\\n`;\n    return str;\n  }\n  toWGSL(indent: string, ctx: ASTContext): string {\n    const init = `var ${this.init.getType().toTypeName('webgpu', this.init.name)}`;\n    const start = unbracket(this.start.toWGSL(indent, ctx));\n    const end = unbracket(this.end.toWGSL(indent, ctx));\n    const incr = new ASTScalar(1, this.init.getType() as typeinfo.PBPrimitiveTypeInfo).toWGSL(indent, ctx);\n    const comp = this.open ? '<' : '<=';\n    let str = `${indent}for (${init} = ${start}; ${this.init.name} ${comp} ${end}; ${this.init.name} = ${this.init.name} + ${incr}) {\\n`;\n    str += super.toWGSL(indent + '  ', ctx);\n    str += `${indent}}\\n`;\n    return str;\n  }\n}\n\n/** @internal */\nexport class ASTDoWhile extends ASTScope {\n  condition: ASTExpression;\n  constructor(condition: ASTExpression) {\n    super();\n    this.condition = condition;\n    if (this.condition instanceof ASTCallFunction) {\n      this.condition.isStatement = false;\n    }\n  }\n  toWebGL(indent: string, ctx: ASTContext): string {\n    let str = `${indent}do {\\n`;\n    str += super.toWebGL(indent + ' ', ctx);\n    str += `${indent}} while(${unbracket(this.condition.toWebGL(indent, ctx))});\\n`;\n    return str;\n  }\n  toWebGL2(indent: string, ctx: ASTContext): string {\n    let str = `${indent}do {\\n`;\n    str += super.toWebGL2(indent + ' ', ctx);\n    str += `${indent}} while(${unbracket(this.condition.toWebGL2(indent, ctx))});\\n`;\n    return str;\n  }\n  toWGSL(indent: string, ctx: ASTContext): string {\n    let str = `${indent}loop {\\n`;\n    str += super.toWGSL(indent + ' ', ctx);\n    str += `${indent}  if (!(${unbracket(this.condition.toWGSL(indent, ctx))})) { break; }\\n`;\n    str += `${indent}}\\n`;\n    return str;\n  }\n}\n\n/** @internal */\nexport class ASTWhile extends ASTScope {\n  condition: ASTExpression;\n  constructor(condition: ASTExpression) {\n    super();\n    this.condition = condition;\n    if (this.condition instanceof ASTCallFunction) {\n      this.condition.isStatement = false;\n    }\n  }\n  toWebGL(indent: string, ctx: ASTContext): string {\n    let str = `${indent}while(${unbracket(this.condition.toWebGL(indent, ctx))}) {\\n`;\n    str += super.toWebGL(indent + '  ', ctx);\n    str += `${indent}}\\n`;\n    return str;\n  }\n  toWebGL2(indent: string, ctx: ASTContext): string {\n    let str = `${indent}while(${unbracket(this.condition.toWebGL2(indent, ctx))}) {\\n`;\n    str += super.toWebGL2(indent + '  ', ctx);\n    str += `${indent}}\\n`;\n    return str;\n  }\n  toWGSL(indent: string, ctx: ASTContext): string {\n    let str = `${indent}loop {\\n`;\n    str += `${indent}  if (!(${unbracket(this.condition.toWGSL(indent, ctx))})) { break; }\\n`;\n    str += super.toWGSL(indent + ' ', ctx);\n    str += `${indent}}\\n`;\n    return str;\n  }\n}\n\n/** @internal */\nexport class ASTStructDefine extends ShaderAST {\n  type: typeinfo.PBStructTypeInfo;\n  prefix: string[];\n  builtin: boolean;\n  constructor(type: typeinfo.PBStructTypeInfo, builtin: boolean) {\n    super();\n    this.prefix = null;\n    this.builtin = builtin;\n    this.type = type;\n  }\n  getType(): typeinfo.PBStructTypeInfo {\n    return this.type;\n  }\n  toWebGL(indent: string, ctx: ASTContext): string {\n    if (!this.builtin) {\n      let str = `${indent}struct ${this.type.structName} {\\n`;\n      for (const arg of this.type.structMembers) {\n        str += `${indent}  ${arg.type.toTypeName('webgl', arg.name)};\\n`;\n      }\n      str += `${indent}};\\n`;\n      return str;\n    } else {\n      return '';\n    }\n  }\n  toWebGL2(indent: string, ctx: ASTContext): string {\n    if (!this.builtin) {\n      let str = `${indent}struct ${this.type.structName} {\\n`;\n      for (const arg of this.type.structMembers) {\n        str += `${indent}  ${arg.type.toTypeName('webgl2', arg.name)};\\n`;\n      }\n      str += `${indent}};\\n`;\n      return str;\n    } else {\n      return '';\n    }\n  }\n  toWGSL(indent: string, ctx: ASTContext): string {\n    if (!this.builtin) {\n      let str = `${indent}struct ${this.type.structName} {\\n`;\n      str += this.type.structMembers.map((arg, i) => {\n        const prefix = this.prefix ? this.prefix[i] : '';\n        const sizePrefix = arg.type.getLayoutSize(this.type.layout) !== arg.type.getLayoutSize('default') ? `@size(${arg.type.getLayoutSize(this.type.layout)}) ` : '';\n        const alignPrefix = i > 0 && arg.type.getLayoutAlignment(this.type.layout) !== arg.type.getLayoutAlignment('default') ? `@align(${arg.type.getLayoutAlignment(this.type.layout)}) ` : '';\n        return `${indent}  ${prefix}${alignPrefix}${sizePrefix}${arg.type.toTypeName('webgpu', arg.name)}`;\n      }).join(',\\n');\n      str += `\\n${indent}};\\n`;\n      return str;\n    } else {\n      return '';\n    }\n  }\n}\n\nfunction convertArgs(args: (number | boolean | ASTExpression)[], overload: typeinfo.PBFunctionTypeInfo): { name: string, args: ASTExpression[] } {\n  if (args.length !== overload.argTypes.length) {\n    return null;\n  }\n  const result: ASTExpression[] = [];\n  for (let i = 0; i < args.length; i++) {\n    const isRef = !!overload.argTypes[i].byRef;\n    const argType = overload.argTypes[i].type;\n    const arg = args[i];\n    if (typeof arg === 'number') {\n      if (!isRef && argType.isPrimitiveType() && argType.isScalarType() && argType.primitiveType !== typeinfo.PBPrimitiveType.BOOL) {\n        result.push(new ASTScalar(arg, argType))\n      } else {\n        return null;\n      }\n    } else if (typeof arg === 'boolean') {\n      if (!isRef && argType.isPrimitiveType() && argType.primitiveType === typeinfo.PBPrimitiveType.BOOL) {\n        result.push(new ASTScalar(arg, argType));\n      } else {\n        return null;\n      }\n    } else if (argType.typeId === arg.getType().typeId) {\n      if (isRef) {\n        arg.markWritable();\n        result.push(new ASTAddressOf(arg));\n      } else {\n        result.push(arg);\n      }\n    } else {\n      return null;\n    }\n  }\n  return { name: overload.name, args: result };\n}\n\n"],"names":["typeinfo.PBTextureType","typeinfo.PBPrimitiveTypeInfo","typeinfo.PBPrimitiveType","typeinfo.PBPointerTypeInfo","typeinfo.PBAddressSpace","errors.PBASTError","errors.PBTypeCastError","typeinfo.typeI32","typeinfo.typeU32","typeinfo.typeF32","typeinfo.typeBool","errors.PBInternalError","errors.PBParamTypeError","typeinfo.PBFunctionTypeInfo"],"mappings":"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"}