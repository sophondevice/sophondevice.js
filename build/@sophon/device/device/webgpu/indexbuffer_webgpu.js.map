{"version":3,"file":"indexbuffer_webgpu.js","sources":["../../../../../libs/device/src/device/webgpu/indexbuffer_webgpu.ts"],"sourcesContent":["import { WebGPUBuffer } from \"./buffer_webgpu\";\nimport { PBPrimitiveTypeInfo, typeU16, typeU32 } from \"../builder\";\nimport { GPUResourceUsageFlags, IndexBuffer } from \"../gpuobject\";\nimport type { WebGPUDevice } from \"./device\";\n\nexport class WebGPUIndexBuffer extends WebGPUBuffer implements IndexBuffer {\n  readonly indexType: PBPrimitiveTypeInfo;\n  readonly length: number;\n  constructor(device: WebGPUDevice, data: Uint16Array | Uint32Array, usage?: number) {\n    if (!(data instanceof Uint16Array) && !(data instanceof Uint32Array)) {\n      throw new Error('invalid index data');\n    }\n    super(device, GPUResourceUsageFlags.BF_INDEX | usage, data);\n    this.indexType = data instanceof Uint16Array ? typeU16 : typeU32;\n    this.length = data.length;\n  }\n}\n"],"names":[],"mappings":";;;;;;;AAKM,MAAO,iBAAkB,SAAQ,YAAY,CAAA;AACxC,IAAA,SAAS,CAAsB;AAC/B,IAAA,MAAM,CAAS;AACxB,IAAA,WAAA,CAAY,MAAoB,EAAE,IAA+B,EAAE,KAAc,EAAA;AAC/E,QAAA,IAAI,EAAE,IAAI,YAAY,WAAW,CAAC,IAAI,EAAE,IAAI,YAAY,WAAW,CAAC,EAAE;AACpE,YAAA,MAAM,IAAI,KAAK,CAAC,oBAAoB,CAAC,CAAC;AACvC,SAAA;QACD,KAAK,CAAC,MAAM,EAAE,qBAAqB,CAAC,QAAQ,GAAG,KAAK,EAAE,IAAI,CAAC,CAAC;AAC5D,QAAA,IAAI,CAAC,SAAS,GAAG,IAAI,YAAY,WAAW,GAAG,OAAO,GAAG,OAAO,CAAC;AACjE,QAAA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;KAC3B;AACF;;;;"}