{"version":3,"file":"capabilities_webgpu.js","sources":["../../../../../libs/device/src/device/webgpu/capabilities_webgpu.ts"],"sourcesContent":["import { TextureFormat } from '../base_types';\r\nimport type { FramebufferCaps, ITextureFormatInfo, MiscCaps, ShaderCaps, TextureCaps } from '../device';\r\nimport type { WebGPUDevice } from './device';\r\n\r\nexport interface ITextureParams {\r\n  gpuFormat: GPUTextureFormat;\r\n  stride: number;\r\n  filterable: boolean;\r\n  renderable: boolean;\r\n  repeatable: boolean;\r\n  compressed: boolean;\r\n  writable: boolean;\r\n  generateMipmap: boolean;\r\n}\r\n\r\nexport interface ITextureFormatInfoWebGPU extends ITextureFormatInfo {\r\n  gpuSampleType: GPUTextureSampleType;\r\n  filterable: boolean;\r\n  renderable: boolean;\r\n  compressed: boolean;\r\n  writable: boolean;\r\n  size: number;\r\n  blockWidth?: number;\r\n  blockHeight?: number;\r\n}\r\n\r\nexport class WebGPUFramebufferCap implements FramebufferCaps {\r\n  maxDrawBuffers: number;\r\n  supportDrawBuffers: boolean;\r\n  supportRenderMipmap: boolean;\r\n  constructor(device: WebGPUDevice) {\r\n    this.maxDrawBuffers = 8;\r\n    this.supportDrawBuffers = true;\r\n    this.supportRenderMipmap = true;\r\n  }\r\n}\r\n\r\nexport class WebGPUMiscCap implements MiscCaps {\r\n  supportBlendMinMax: boolean;\r\n  support32BitIndex: boolean;\r\n  supportLoseContext: boolean;\r\n  supportDebugRendererInfo: boolean;\r\n  supportSharedUniforms: boolean;\r\n  constructor(device: WebGPUDevice) {\r\n    this.supportBlendMinMax = true;\r\n    this.support32BitIndex = true;\r\n    // TODO:\r\n    this.supportLoseContext = false;\r\n    this.supportDebugRendererInfo = false;\r\n    this.supportSharedUniforms = true;\r\n  }\r\n}\r\nexport class WebGPUShaderCap implements ShaderCaps {\r\n  supportFragmentDepth: boolean;\r\n  supportStandardDerivatives: boolean;\r\n  supportShaderTextureLod: boolean;\r\n  supportHighPrecisionFloat: boolean;\r\n  supportHighPrecisionInt: boolean;\r\n  maxUniformBufferSize: number;\r\n  uniformBufferOffsetAlignment: number;\r\n  constructor(device: WebGPUDevice) {\r\n    this.supportFragmentDepth = true;\r\n    this.supportStandardDerivatives = true;\r\n    this.supportShaderTextureLod = true;\r\n    this.supportHighPrecisionFloat = true;\r\n    this.maxUniformBufferSize = device.device.limits.maxUniformBufferBindingSize || 65536;\r\n    this.uniformBufferOffsetAlignment = device.device.limits.minUniformBufferOffsetAlignment || 256;\r\n  }\r\n}\r\nexport class WebGPUTextureCap implements TextureCaps {\r\n  private _textureFormatInfos: { [format: number]: ITextureFormatInfoWebGPU };\r\n  maxTextureSize: number;\r\n  maxCubeTextureSize: number;\r\n  npo2Mipmapping: boolean;\r\n  npo2Repeating: boolean;\r\n  supportS3TC: boolean;\r\n  supportS3TCSRGB: boolean;\r\n  supportDepthTexture: boolean;\r\n  support3DTexture: boolean;\r\n  supportSRGBTexture: boolean;\r\n  supportFloatTexture: boolean;\r\n  supportLinearFloatTexture: boolean;\r\n  supportHalfFloatTexture: boolean;\r\n  supportLinearHalfFloatTexture: boolean;\r\n  supportAnisotropicFiltering: boolean;\r\n  supportFloatColorBuffer: boolean;\r\n  supportHalfFloatColorBuffer: boolean;\r\n  supportFloatBlending: boolean;\r\n  constructor(device: WebGPUDevice) {\r\n    this._textureFormatInfos = {\r\n      [TextureFormat.RGBA8UNORM]: {\r\n        gpuSampleType: 'float',\r\n        filterable: true,\r\n        renderable: true,\r\n        compressed: false,\r\n        writable: true,\r\n        size: 4,\r\n      },\r\n      [TextureFormat.RGBA8SNORM]: {\r\n        gpuSampleType: 'float',\r\n        filterable: true,\r\n        renderable: false,\r\n        compressed: false,\r\n        writable: true,\r\n        size: 4,\r\n      },\r\n      [TextureFormat.BGRA8UNORM]: {\r\n        gpuSampleType: 'float',\r\n        filterable: true,\r\n        renderable: true,\r\n        compressed: false,\r\n        writable: false, // TODO: require \"bgra8unorm-storage\" feature\r\n        size: 4,\r\n      },\r\n    };\r\n    if (this.supportS3TC) {\r\n      this._textureFormatInfos[TextureFormat.DXT1] = {\r\n        gpuSampleType: 'float',\r\n        filterable: true,\r\n        renderable: false,\r\n        compressed: true,\r\n        size: 8,\r\n        writable: false,\r\n        blockWidth: 4,\r\n        blockHeight: 4,\r\n      };\r\n      this._textureFormatInfos[TextureFormat.DXT3] = {\r\n        gpuSampleType: 'float',\r\n        filterable: true,\r\n        renderable: false,\r\n        compressed: true,\r\n        size: 16,\r\n        writable: false,\r\n        blockWidth: 4,\r\n        blockHeight: 4,\r\n      };\r\n      this._textureFormatInfos[TextureFormat.DXT5] = {\r\n        gpuSampleType: 'float',\r\n        filterable: true,\r\n        renderable: false,\r\n        compressed: true,\r\n        size: 16,\r\n        writable: false,\r\n        blockWidth: 4,\r\n        blockHeight: 4,\r\n      };\r\n    }\r\n    if (this.supportS3TCSRGB) {\r\n      this._textureFormatInfos[TextureFormat.DXT1_SRGB] = {\r\n        gpuSampleType: 'float',\r\n        filterable: true,\r\n        renderable: false,\r\n        compressed: true,\r\n        size: 8,\r\n        writable: false,\r\n        blockWidth: 4,\r\n        blockHeight: 4,\r\n      };\r\n      this._textureFormatInfos[TextureFormat.DXT3_SRGB] = {\r\n        gpuSampleType: 'float',\r\n        filterable: true,\r\n        renderable: false,\r\n        compressed: true,\r\n        size: 16,\r\n        writable: false,\r\n        blockWidth: 4,\r\n        blockHeight: 4,\r\n      };\r\n      this._textureFormatInfos[TextureFormat.DXT5_SRGB] = {\r\n        gpuSampleType: 'float',\r\n        filterable: true,\r\n        renderable: false,\r\n        compressed: true,\r\n        size: 16,\r\n        writable: false,\r\n        blockWidth: 4,\r\n        blockHeight: 4,\r\n      };\r\n    }\r\n    this._textureFormatInfos[TextureFormat.R8UNORM] = {\r\n      gpuSampleType: 'float',\r\n      filterable: true,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: false,\r\n      size: 1,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.R8SNORM] = {\r\n      gpuSampleType: 'float',\r\n      filterable: true,\r\n      renderable: false,\r\n      compressed: false,\r\n      writable: false,\r\n      size: 1,\r\n    },\r\n      this._textureFormatInfos[TextureFormat.R16F] = {\r\n        gpuSampleType: 'float',\r\n        filterable: true,\r\n        renderable: true,\r\n        compressed: false,\r\n        writable: false,\r\n        size: 2,\r\n      };\r\n    this._textureFormatInfos[TextureFormat.R32F] = {\r\n      gpuSampleType: 'unfilterable-float',\r\n      filterable: false,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: true,\r\n      size: 4,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.R8UI] = {\r\n      gpuSampleType: 'uint',\r\n      filterable: false,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: false,\r\n      size: 1,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.R8I] = {\r\n      gpuSampleType: 'sint',\r\n      filterable: false,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: false,\r\n      size: 1,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.R16UI] = {\r\n      gpuSampleType: 'uint',\r\n      filterable: false,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: false,\r\n      size: 2,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.R16I] = {\r\n      gpuSampleType: 'sint',\r\n      filterable: false,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: false,\r\n      size: 2,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.R32UI] = {\r\n      gpuSampleType: 'uint',\r\n      filterable: false,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: true,\r\n      size: 4,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.R32I] = {\r\n      gpuSampleType: 'sint',\r\n      filterable: false,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: true,\r\n      size: 4,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.RG8UNORM] = {\r\n      gpuSampleType: 'float',\r\n      filterable: true,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: false,\r\n      size: 2,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.RG8SNORM] = {\r\n      gpuSampleType: 'float',\r\n      filterable: true,\r\n      renderable: false,\r\n      compressed: false,\r\n      writable: false,\r\n      size: 2,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.RG16F] = {\r\n      gpuSampleType: 'float',\r\n      filterable: true,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: false,\r\n      size: 4,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.RG32F] = {\r\n      gpuSampleType: 'unfilterable-float',\r\n      filterable: false,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: true,\r\n      size: 8,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.RG8UI] = {\r\n      gpuSampleType: 'uint',\r\n      filterable: false,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: false,\r\n      size: 2,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.RG8I] = {\r\n      gpuSampleType: 'sint',\r\n      filterable: false,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: false,\r\n      size: 2,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.RG16UI] = {\r\n      gpuSampleType: 'uint',\r\n      filterable: false,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: false,\r\n      size: 4,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.RG16I] = {\r\n      gpuSampleType: 'sint',\r\n      filterable: false,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: false,\r\n      size: 4,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.RG32UI] = {\r\n      gpuSampleType: 'uint',\r\n      filterable: false,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: true,\r\n      size: 8,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.RG32I] = {\r\n      gpuSampleType: 'sint',\r\n      filterable: false,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: true,\r\n      size: 8,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.RGBA8UNORM_SRGB] = {\r\n      gpuSampleType: 'float',\r\n      filterable: true,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: false,\r\n      size: 4,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.BGRA8UNORM_SRGB] = {\r\n      gpuSampleType: 'float',\r\n      filterable: true,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: false,\r\n      size: 4,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.RGBA16F] = {\r\n      gpuSampleType: 'float',\r\n      filterable: true,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: true,\r\n      size: 8,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.RGBA32F] = {\r\n      gpuSampleType: 'unfilterable-float',\r\n      filterable: false,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: true,\r\n      size: 16,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.RGBA8UI] = {\r\n      gpuSampleType: 'uint',\r\n      filterable: false,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: true,\r\n      size: 4,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.RGBA8I] = {\r\n      gpuSampleType: 'sint',\r\n      filterable: false,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: true,\r\n      size: 4,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.RGBA16UI] = {\r\n      gpuSampleType: 'uint',\r\n      filterable: false,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: true,\r\n      size: 8,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.RGBA16I] = {\r\n      gpuSampleType: 'sint',\r\n      filterable: false,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: true,\r\n      size: 8,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.RGBA32UI] = {\r\n      gpuSampleType: 'uint',\r\n      filterable: false,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: true,\r\n      size: 16,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.RGBA32I] = {\r\n      gpuSampleType: 'sint',\r\n      filterable: false,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: true,\r\n      size: 16,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.D16] = {\r\n      gpuSampleType: 'depth',\r\n      filterable: false,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: false,\r\n      size: 2,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.D24] = {\r\n      gpuSampleType: 'depth',\r\n      filterable: false,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: false,\r\n      size: 4,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.D32F] = {\r\n      gpuSampleType: 'depth',\r\n      filterable: false,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: false,\r\n      size: 4,\r\n    };\r\n    this._textureFormatInfos[TextureFormat.D32FS8] = {\r\n      gpuSampleType: 'depth',\r\n      filterable: false,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: false,\r\n      size: 8,\r\n    }\r\n    this._textureFormatInfos[TextureFormat.D24S8] = {\r\n      gpuSampleType: 'depth',\r\n      filterable: false,\r\n      renderable: true,\r\n      compressed: false,\r\n      writable: false,\r\n      size: 4,\r\n    };\r\n    this.supportAnisotropicFiltering = true;\r\n    this.supportDepthTexture = true;\r\n    this.support3DTexture = true;\r\n    this.supportSRGBTexture = true;\r\n    this.supportFloatTexture = true;\r\n    this.supportLinearFloatTexture = this._textureFormatInfos[TextureFormat.R32F].filterable && this._textureFormatInfos[TextureFormat.RG32F].filterable && this._textureFormatInfos[TextureFormat.RGBA32F].filterable;\r\n    this.supportHalfFloatTexture = true;\r\n    this.supportLinearHalfFloatTexture = this._textureFormatInfos[TextureFormat.R16F].filterable && this._textureFormatInfos[TextureFormat.RG16F].filterable && this._textureFormatInfos[TextureFormat.RGBA16F].filterable;\r\n    this.supportFloatColorBuffer = true;\r\n    this.supportHalfFloatColorBuffer = true;\r\n    this.supportFloatBlending = true;\r\n    this.supportS3TC = device.device.features.has('texture-compression-bc');\r\n    this.supportS3TCSRGB = this.supportS3TC;\r\n\r\n    this.maxTextureSize = device.device.limits.maxTextureDimension2D;\r\n    this.maxCubeTextureSize = device.device.limits.maxTextureDimension2D;\r\n    this.npo2Mipmapping = true;\r\n    this.npo2Repeating = true;\r\n  }\r\n  calcMemoryUsage(format: TextureFormat, numPixels): number {\r\n    return this._textureFormatInfos[format] ? this._textureFormatInfos[format].size * numPixels : 0;\r\n  }\r\n  getTextureFormatInfo(format: TextureFormat): ITextureFormatInfoWebGPU {\r\n    return this._textureFormatInfos[format];\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}