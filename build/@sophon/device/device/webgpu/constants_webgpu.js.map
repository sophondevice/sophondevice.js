{"version":3,"file":"constants_webgpu.js","sources":["../../../../../libs/device/src/device/webgpu/constants_webgpu.ts"],"sourcesContent":["import { zip } from '@sophon/base';\nimport { TextureFormat, PrimitiveType, TextureWrapping, TextureFilter, CompareFunc } from '../base_types';\nimport { StencilOp, FaceWinding, FaceMode, BlendEquation, BlendFunc } from '../render_states';\n\nexport const textureWrappingMap: {[k: number]: GPUAddressMode} = {\n  [TextureWrapping.Repeat]: 'repeat',\n  [TextureWrapping.MirroredRepeat]: 'mirror-repeat',\n  [TextureWrapping.ClampToEdge]: 'clamp-to-edge',\n};\n\nexport const textureFilterMap: {[k: number]: GPUFilterMode} = {\n  [TextureFilter.Nearest]: 'nearest',\n  [TextureFilter.Linear]: 'linear'\n};\n\nexport const compareFuncMap: {[k: number]: GPUCompareFunction} = {\n  [CompareFunc.Always]: 'always',\n  [CompareFunc.LessEqual]: 'less-equal',\n  [CompareFunc.GreaterEqual]: 'greater-equal',\n  [CompareFunc.Less]: 'less',\n  [CompareFunc.Greater]: 'greater',\n  [CompareFunc.Equal]: 'equal',\n  [CompareFunc.NotEqual]: 'not-equal',\n  [CompareFunc.Never]: 'never',\n};\n\nexport const stencilOpMap: {[k: number]: GPUStencilOperation} = {\n  [StencilOp.KEEP]: 'keep',\n  [StencilOp.REPLACE]: 'replace',\n  [StencilOp.ZERO]: 'zero',\n  [StencilOp.INVERT]: 'invert',\n  [StencilOp.INCR]: 'increment-clamp',\n  [StencilOp.DECR]: 'decrement-clamp',\n  [StencilOp.INCR_WRAP]: 'increment-wrap',\n  [StencilOp.DECR_WRAP]: 'decrement-wrap',\n};\n\nexport const primitiveTypeMap: {[k: number]: GPUPrimitiveTopology} = {\n  [PrimitiveType.TriangleList]: 'triangle-list',\n  [PrimitiveType.TriangleStrip]: 'triangle-strip',\n  [PrimitiveType.LineList]: 'line-list',\n  [PrimitiveType.LineStrip]: 'line-strip',\n  [PrimitiveType.PointList]: 'point-list',\n};\n\nexport const faceWindingMap: {[k: number]: GPUFrontFace} = {\n  [FaceWinding.CCW]: 'ccw',\n  [FaceWinding.CW]: 'cw',\n};\n\nexport const faceModeMap: {[k: number]: GPUCullMode} = {\n  [FaceMode.BACK]: 'back',\n  [FaceMode.FRONT]: 'front',\n  [FaceMode.NONE]: 'none',\n};\n\nexport const blendEquationMap: {[k: number]: GPUBlendOperation} = {\n  [BlendEquation.ADD]: 'add',\n  [BlendEquation.SUBTRACT]: 'subtract',\n  [BlendEquation.REVERSE_SUBTRACT]: 'reverse-subtract',\n  [BlendEquation.MIN]: 'min',\n  [BlendEquation.MAX]: 'max',\n};\n\nexport const blendFuncMap: {[k: number]: GPUBlendFactor} = {\n  [BlendFunc.CONSTANT_COLOR]: 'constant',\n  [BlendFunc.CONSTANT_ALPHA]: 'constant',\n  [BlendFunc.DST_COLOR]: 'dst',\n  [BlendFunc.DST_ALPHA]: 'dst-alpha',\n  [BlendFunc.INV_CONSTANT_COLOR]: 'one-minus-constant',\n  [BlendFunc.INV_CONSTANT_ALPHA]: 'one-minus-constant',\n  [BlendFunc.INV_DST_COLOR]: 'one-minus-dst',\n  [BlendFunc.INV_DST_ALPHA]: 'one-minus-dst-alpha',\n  [BlendFunc.SRC_COLOR]: 'src',\n  [BlendFunc.SRC_ALPHA]: 'src-alpha',\n  [BlendFunc.INV_SRC_COLOR]: 'one-minus-src',\n  [BlendFunc.INV_SRC_ALPHA]: 'one-minus-src-alpha',\n  [BlendFunc.SRC_ALPHA_SATURATE]: 'src-alpha-saturated',\n  [BlendFunc.ONE]: 'one',\n  [BlendFunc.ZERO]: 'zero',\n};\n\nexport const vertexFormatToHash : {[fmt: string]: string} = {\n  float32: '0',\n  float32x2: '1',\n  float32x3: '2',\n  float32x4: '3',\n  uint32: '4',\n  uint32x2: '5',\n  uint32x3: '6',\n  uint32x4: '7',\n  sint32: '8',\n  sint32x2: '9',\n  sint32x3: 'a',\n  sint32x4: 'b',\n  uint16x2: 'c',\n  uint16x4: 'd',\n  unorm16x2: 'e',\n  unorm16x4: 'f',\n  sint16x2: 'g',\n  sint16x4: 'h',\n  snorm16x2: 'i',\n  snorm16x4: 'j',\n  uint8x2: 'k',\n  uint8x4: 'l',\n  unorm8x2: 'm',\n  unorm8x4: 'n',\n  sint8x2: 'o',\n  sint8x4: 'p',\n  snorm8x2: 'q',\n  snorm8x4: 'r'\n};\n\nexport const textureFormatMap: {[fmt: number]: GPUTextureFormat} = {\n  [TextureFormat.RGBA8UNORM]: 'rgba8unorm',\n  [TextureFormat.RGBA8SNORM]: 'rgba8snorm',\n  [TextureFormat.BGRA8UNORM]: 'bgra8unorm',\n  [TextureFormat.DXT1]: 'bc1-rgba-unorm',\n  [TextureFormat.DXT3]: 'bc2-rgba-unorm',\n  [TextureFormat.DXT5]: 'bc3-rgba-unorm',\n  [TextureFormat.DXT1_SRGB]: 'bc1-rgba-unorm-srgb',\n  [TextureFormat.DXT3_SRGB]: 'bc2-rgba-unorm-srgb',\n  [TextureFormat.DXT5_SRGB]: 'bc3-rgba-unorm-srgb',\n  [TextureFormat.R8UNORM]: 'r8unorm',\n  [TextureFormat.R8SNORM]: 'r8snorm',\n  [TextureFormat.R16F]: 'r16float',\n  [TextureFormat.R32F]: 'r32float',\n  [TextureFormat.R8UI]: 'r8uint',\n  [TextureFormat.R8I]: 'r8sint',\n  [TextureFormat.R16UI]: 'r16uint',\n  [TextureFormat.R16I]: 'r16sint',\n  [TextureFormat.R32UI]: 'r32uint',\n  [TextureFormat.R32I]: 'r32sint',\n  [TextureFormat.RG8UNORM]: 'rg8unorm',\n  [TextureFormat.RG8SNORM]: 'rg8snorm',\n  [TextureFormat.RG16F]: 'rg16float',\n  [TextureFormat.RG32F]: 'rg32float',\n  [TextureFormat.RG8UI]: 'rg8uint',\n  [TextureFormat.RG8I]: 'rg8sint',\n  [TextureFormat.RG16UI]: 'rg16uint',\n  [TextureFormat.RG16I]: 'rg16sint',\n  [TextureFormat.RG32UI]: 'rg32uint',\n  [TextureFormat.RG32I]: 'rg32sint',\n  [TextureFormat.RGBA8UNORM_SRGB]: 'rgba8unorm-srgb',\n  [TextureFormat.BGRA8UNORM_SRGB]: 'bgra8unorm-srgb',\n  [TextureFormat.RGBA16F]: 'rgba16float',\n  [TextureFormat.RGBA32F]: 'rgba32float',\n  [TextureFormat.RGBA8UI]: 'rgba8uint',\n  [TextureFormat.RGBA8I]: 'rgba8sint',\n  [TextureFormat.RGBA16UI]: 'rgba16uint',\n  [TextureFormat.RGBA16I]: 'rgba16sint',\n  [TextureFormat.RGBA32UI]: 'rgba32uint',\n  [TextureFormat.RGBA32I]: 'rgba32sint',\n  [TextureFormat.D16]: 'depth16unorm',\n  [TextureFormat.D24]: 'depth24plus',\n  [TextureFormat.D32F]: 'depth32float',\n  [TextureFormat.D32FS8]: 'depth32float-stencil8',\n  [TextureFormat.D24S8]: 'depth24plus-stencil8',\n};\n\nexport const textureFormatInvMap = zip<TextureFormat>(Object.values(textureFormatMap), Object.keys(textureFormatMap).map(val => Number(val)));\n\nexport const hashToVertexFormat: {[hash: string]: string} = zip(Object.values(vertexFormatToHash), Object.keys(vertexFormatToHash));\n\n"],"names":[],"mappings":"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"}