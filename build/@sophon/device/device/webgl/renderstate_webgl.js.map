{"version":3,"file":"renderstate_webgl.js","sources":["../../../../../libs/device/src/device/webgl/renderstate_webgl.ts"],"sourcesContent":["import { WebGLContext, CompareFunc } from '../base_types';\r\nimport { WebGLEnum } from './webgl_enum';\r\nimport { ColorState, BlendEquation, BlendFunc, BlendingState, FaceMode, FaceWinding, RasterizerState, DepthState, StencilOp, StencilState, RenderStateSet } from '../render_states';\r\nimport { blendEquationMap, blendEquationInvMap, blendFuncMap, blendFuncInvMap, faceModeMap, faceModeInvMap, stencilOpMap, stencilOpInvMap, compareFuncMap, compareFuncInvMap } from './constants_webgl';\r\n\r\nexport abstract class WebGLRenderState {\r\n  protected static _defaultState: WebGLRenderState;\r\n  protected static _currentState: WebGLRenderState;\r\n  apply(gl: WebGLContext, force?: boolean) {\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    const c: any = this.constructor;\r\n    if (force || c._currentState !== this) {\r\n      this._apply(gl);\r\n    }\r\n    c._currentState = this;\r\n  }\r\n  static get defaultState() {\r\n    return WebGLRenderState._defaultState;\r\n  }\r\n  static applyDefaults(gl: WebGLContext, force?: boolean) {\r\n    if (force || this._currentState !== this._defaultState) {\r\n      this._defaultState.apply(gl, force);\r\n    }\r\n  }\r\n  protected abstract _apply(gl: WebGLContext): void;\r\n}\r\n\r\nexport class WebGLColorState extends WebGLRenderState implements ColorState {\r\n  protected static _defaultState: WebGLColorState = new WebGLColorState();\r\n  protected static _currentState: WebGLColorState = null;\r\n  redMask: boolean;\r\n  greenMask: boolean;\r\n  blueMask: boolean;\r\n  alphaMask: boolean;\r\n  constructor() {\r\n    super();\r\n    this.redMask = this.greenMask = this.blueMask = this.alphaMask = true;\r\n  }\r\n  setColorMask(r: boolean, g: boolean, b: boolean, a: boolean): this {\r\n    this.redMask = r;\r\n    this.greenMask = g;\r\n    this.blueMask = b;\r\n    this.alphaMask = a;\r\n    return this;\r\n  }\r\n  protected _apply(gl: WebGLContext) {\r\n    gl.colorMask(this.redMask, this.greenMask, this.blueMask, this.alphaMask);\r\n  }\r\n}\r\n\r\nexport class WebGLBlendingState extends WebGLRenderState implements BlendingState {\r\n  protected static _defaultState: WebGLBlendingState = new WebGLBlendingState();\r\n  protected static _currentState: WebGLBlendingState = null;\r\n  private _srcBlendRGB: number;\r\n  private _dstBlendRGB: number;\r\n  private _srcBlendAlpha: number;\r\n  private _dstBlendAlpha: number;\r\n  private _rgbEquation: number;\r\n  private _alphaEquation: number;\r\n  enabled: boolean;\r\n  constructor() {\r\n    super();\r\n    this.enabled = false;\r\n    this.srcBlendRGB = BlendFunc.ONE;\r\n    this.dstBlendRGB = BlendFunc.ZERO;\r\n    this.srcBlendAlpha = BlendFunc.ONE;\r\n    this.dstBlendAlpha = BlendFunc.ZERO;\r\n    this.rgbEquation = BlendEquation.ADD;\r\n    this.alphaEquation = BlendEquation.ADD;\r\n  }\r\n  get srcBlendRGB(): BlendFunc {\r\n    return blendFuncInvMap[this._srcBlendRGB];\r\n  }\r\n  set srcBlendRGB(val: BlendFunc) {\r\n    this._srcBlendRGB = blendFuncMap[val];\r\n  }\r\n  get dstBlendRGB(): BlendFunc {\r\n    return blendFuncInvMap[this._dstBlendRGB];\r\n  }\r\n  set dstBlendRGB(val: BlendFunc) {\r\n    this._dstBlendRGB = blendFuncMap[val];\r\n  }\r\n  get srcBlendAlpha(): BlendFunc {\r\n    return blendFuncInvMap[this._srcBlendAlpha];\r\n  }\r\n  set srcBlendAlpha(val: BlendFunc) {\r\n    this._srcBlendAlpha = blendFuncMap[val];\r\n  }\r\n  get dstBlendAlpha(): BlendFunc {\r\n    return blendFuncInvMap[this._dstBlendAlpha];\r\n  }\r\n  set dstBlendAlpha(val: BlendFunc) {\r\n    this._dstBlendAlpha = blendFuncMap[val];\r\n  }\r\n  get rgbEquation(): BlendEquation {\r\n    return blendEquationInvMap[this._rgbEquation];\r\n  }\r\n  set rgbEquation(val: BlendEquation) {\r\n    this._rgbEquation = blendEquationMap[val];\r\n  }\r\n  get alphaEquation(): BlendEquation {\r\n    return blendEquationInvMap[this._alphaEquation];\r\n  }\r\n  set alphaEquation(val: BlendEquation) {\r\n    this._alphaEquation = blendEquationMap[val];\r\n  }\r\n  enable(b: boolean): this {\r\n    this.enabled = b;\r\n    return this;\r\n  }\r\n  setBlendFunc(src: BlendFunc, dest: BlendFunc): this {\r\n    this.srcBlendRGB = src;\r\n    this.dstBlendRGB = dest;\r\n    this.srcBlendAlpha = src;\r\n    this.dstBlendAlpha = dest;\r\n    return this;\r\n  }\r\n  setBlendFuncRGB(src: BlendFunc, dest: BlendFunc): this {\r\n    this.srcBlendRGB = src;\r\n    this.dstBlendRGB = dest;\r\n    return this;\r\n  }\r\n  setBlendFuncAlpha(src: BlendFunc, dest: BlendFunc): this {\r\n    this.srcBlendAlpha = src;\r\n    this.dstBlendAlpha = dest;\r\n    return this;\r\n  }\r\n  setBlendEquation(rgb: BlendEquation, alpha: BlendEquation): this {\r\n    this.rgbEquation = rgb;\r\n    this.alphaEquation = alpha;\r\n    return this;\r\n  }\r\n  protected _apply(gl: WebGLContext) {\r\n    if (this.enabled) {\r\n      gl.enable(WebGLEnum.BLEND);\r\n      gl.blendEquationSeparate(this._rgbEquation, this._alphaEquation);\r\n      if (this._srcBlendRGB === this._srcBlendAlpha && this._dstBlendRGB === this._dstBlendAlpha) {\r\n        gl.blendFunc(this._srcBlendRGB, this._dstBlendRGB);\r\n      } else {\r\n        gl.blendFuncSeparate(\r\n          this._srcBlendRGB,\r\n          this._dstBlendRGB,\r\n          this._srcBlendAlpha,\r\n          this._dstBlendAlpha,\r\n        );\r\n      }\r\n    } else {\r\n      gl.disable(WebGLEnum.BLEND);\r\n    }\r\n  }\r\n}\r\n\r\nexport class WebGLRasterizerState extends WebGLRenderState implements RasterizerState {\r\n  protected static _defaultState: WebGLRasterizerState = new WebGLRasterizerState();\r\n  protected static _currentState: WebGLRasterizerState = null;\r\n  private _cullMode: number;\r\n  constructor() {\r\n    super();\r\n    this.cullMode = FaceMode.BACK;\r\n  }\r\n  get cullMode(): FaceMode {\r\n    return faceModeInvMap[this._cullMode];\r\n  }\r\n  set cullMode(val: FaceMode) {\r\n    this._cullMode = faceModeMap[val];\r\n  }\r\n  setCullMode(mode: FaceMode): this {\r\n    this.cullMode = mode;\r\n    return this;\r\n  }\r\n  protected _apply(gl: WebGLContext) {\r\n    if (this.cullMode == FaceMode.NONE) {\r\n      gl.disable(WebGLEnum.CULL_FACE);\r\n    } else {\r\n      gl.enable(WebGLEnum.CULL_FACE);\r\n      gl.cullFace(this._cullMode);\r\n    }\r\n  }\r\n}\r\n\r\nexport class WebGLDepthState extends WebGLRenderState implements DepthState {\r\n  protected static _defaultState: WebGLDepthState = new WebGLDepthState();\r\n  protected static _currentState: WebGLDepthState = null;\r\n  testEnabled: boolean;\r\n  writeEnabled: boolean;\r\n  private _compareFunc: number;\r\n  constructor() {\r\n    super();\r\n    this.testEnabled = true;\r\n    this.writeEnabled = true;\r\n    this.compareFunc = CompareFunc.LessEqual;\r\n  }\r\n  get compareFunc(): CompareFunc {\r\n    return compareFuncInvMap[this._compareFunc];\r\n  }\r\n  set compareFunc(val: CompareFunc) {\r\n    this._compareFunc = compareFuncMap[val];\r\n  }\r\n  enableTest(b: boolean): this {\r\n    this.testEnabled = b;\r\n    return this;\r\n  }\r\n  enableWrite(b: boolean): this {\r\n    this.writeEnabled = b;\r\n    return this;\r\n  }\r\n  setCompareFunc(func: CompareFunc): this {\r\n    this.compareFunc = func;\r\n    return this;\r\n  }\r\n  protected _apply(gl: WebGLContext) {\r\n    if (this.testEnabled) {\r\n      gl.enable(WebGLEnum.DEPTH_TEST);\r\n      gl.depthFunc(this._compareFunc);\r\n    } else {\r\n      gl.disable(WebGLEnum.DEPTH_TEST);\r\n    }\r\n    gl.depthMask(this.writeEnabled);\r\n  }\r\n}\r\n\r\nexport class WebGLStencilState extends WebGLRenderState implements StencilState {\r\n  protected static _defaultState: WebGLStencilState = new WebGLStencilState();\r\n  protected static _currentState: WebGLStencilState = null;\r\n  enabled: boolean;\r\n  enableTwoSided: boolean;\r\n  writeMask: number;\r\n  writeMaskBack: number;\r\n  ref: number;\r\n  valueMask: number;\r\n  valueMaskBack: number;\r\n  private _failOp: number;\r\n  private _failOpBack: number;\r\n  private _zFailOp: number;\r\n  private _zFailOpBack: number;\r\n  private _passOp: number;\r\n  private _passOpBack: number;\r\n  private _func: number;\r\n  private _funcBack: number;\r\n  constructor() {\r\n    super();\r\n    this.enabled = false;\r\n    this.enableTwoSided = false;\r\n    this.writeMask = this.writeMaskBack = 0xffffffff;\r\n    this.failOp = this.failOpBack = StencilOp.KEEP;\r\n    this.zFailOp = this.zFailOpBack = StencilOp.KEEP;\r\n    this.passOp = this.passOpBack = StencilOp.KEEP;\r\n    this.func = this.funcBack = CompareFunc.Always;\r\n    this.ref = 0;\r\n    this.valueMask = this.valueMaskBack = 0xffffffff;\r\n  }\r\n  get failOp(): StencilOp {\r\n    return stencilOpInvMap[this._failOp];\r\n  }\r\n  set failOp(val: StencilOp) {\r\n    this._failOp = stencilOpMap[val];\r\n  }\r\n  get failOpBack(): StencilOp {\r\n    return stencilOpInvMap[this._failOpBack];\r\n  }\r\n  set failOpBack(val: StencilOp) {\r\n    this._failOpBack = stencilOpMap[val];\r\n  }\r\n  get zFailOp(): StencilOp {\r\n    return stencilOpInvMap[this._zFailOp];\r\n  }\r\n  set zFailOp(val: StencilOp) {\r\n    this._zFailOp = stencilOpMap[val];\r\n  }\r\n  get zFailOpBack(): StencilOp {\r\n    return stencilOpInvMap[this._zFailOpBack];\r\n  }\r\n  set zFailOpBack(val: StencilOp) {\r\n    this._zFailOpBack = stencilOpMap[val];\r\n  }\r\n  get passOp(): StencilOp {\r\n    return stencilOpInvMap[this._passOp];\r\n  }\r\n  set passOp(val: StencilOp) {\r\n    this._passOp = stencilOpMap[val];\r\n  }\r\n  get passOpBack(): StencilOp {\r\n    return stencilOpInvMap[this._passOpBack];\r\n  }\r\n  set passOpBack(val: StencilOp) {\r\n    this._passOpBack = stencilOpMap[val];\r\n  }\r\n  get func(): CompareFunc {\r\n    return compareFuncInvMap[this._func];\r\n  }\r\n  set func(val: CompareFunc) {\r\n    this._func = compareFuncMap[val];\r\n  }\r\n  get funcBack(): CompareFunc {\r\n    return compareFuncInvMap[this._funcBack];\r\n  }\r\n  set funcBack(val: CompareFunc) {\r\n    this._funcBack = compareFuncMap[val];\r\n  }\r\n  enable(b: boolean): this {\r\n    this.enabled = b;\r\n    return this;\r\n  }\r\n  enableStencilTwoside(b: boolean): this {\r\n    this.enableTwoSided = b;\r\n    return this;\r\n  }\r\n  setFrontWriteMask(mask: number): this {\r\n    this.writeMask = mask;\r\n    return this;\r\n  }\r\n  setBackWriteMask(mask: number): this {\r\n    this.writeMaskBack = mask;\r\n    return this;\r\n  }\r\n  setFrontOp(fail: StencilOp, zfail: StencilOp, zpass: StencilOp): this {\r\n    this.failOp = fail;\r\n    this.zFailOp = zfail;\r\n    this.passOp = zpass;\r\n    return this;\r\n  }\r\n  setBackOp(fail: StencilOp, zfail: StencilOp, zpass: StencilOp): this {\r\n    this.failOpBack = fail;\r\n    this.zFailOpBack = zfail;\r\n    this.passOpBack = zpass;\r\n    return this;\r\n  }\r\n  setFrontCompareFunc(func: CompareFunc): this {\r\n    this.func = func;\r\n    return this;\r\n  }\r\n  setBackCompareFunc(func: CompareFunc): this {\r\n    this.funcBack = func;\r\n    return this;\r\n  }\r\n  setReference(ref: number): this {\r\n    this.ref = ref;\r\n    return this;\r\n  }\r\n  setFrontValueMask(mask: number): this {\r\n    this.valueMask = mask;\r\n    return this;\r\n  }\r\n  setBackValueMask(mask: number): this {\r\n    this.valueMaskBack = mask;\r\n    return this;\r\n  }\r\n  protected _apply(gl: WebGLContext) {\r\n    if (this.enabled) {\r\n      gl.enable(WebGLEnum.STENCIL_TEST);\r\n      if (this.enableTwoSided) {\r\n        gl.stencilMaskSeparate(WebGLEnum.FRONT, this.writeMask);\r\n        gl.stencilMaskSeparate(WebGLEnum.BACK, this.writeMaskBack);\r\n        gl.stencilFuncSeparate(WebGLEnum.FRONT, this._func, this.ref, this.valueMask);\r\n        gl.stencilFuncSeparate(WebGLEnum.BACK, this._funcBack, this.ref, this.valueMaskBack);\r\n        gl.stencilOpSeparate(WebGLEnum.FRONT, this._failOp, this._zFailOp, this._passOp);\r\n        gl.stencilOpSeparate(WebGLEnum.BACK, this._failOpBack, this._zFailOpBack, this._passOpBack);\r\n      } else {\r\n        gl.stencilMask(this.writeMask);\r\n        gl.stencilFunc(this._func, this.ref, this.valueMask);\r\n        gl.stencilOp(this._failOp, this._zFailOp, this._passOp);\r\n      }\r\n    } else {\r\n      gl.disable(WebGLEnum.STENCIL_TEST);\r\n    }\r\n  }\r\n}\r\n\r\nexport class WebGLRenderStateSet implements RenderStateSet {\r\n  private _gl: WebGLContext;\r\n  private _colorState: WebGLColorState;\r\n  private _blendingState: WebGLBlendingState;\r\n  private _rasterizerState: WebGLRasterizerState;\r\n  private _depthState: WebGLDepthState;\r\n  private _stencilState: WebGLStencilState;\r\n  constructor(gl: WebGLContext) {\r\n    this._gl = gl;\r\n    this.defaultColorState();\r\n    this.defaultBlendingState();\r\n    this.defaultRasterizerState();\r\n    this.defaultDepthState();\r\n    this.defaultStencilState();\r\n  }\r\n  get colorState() {\r\n    return this._colorState;\r\n  }\r\n  get blendingState() {\r\n    return this._blendingState;\r\n  }\r\n  get rasterizerState() {\r\n    return this._rasterizerState;\r\n  }\r\n  get depthState() {\r\n    return this._depthState;\r\n  }\r\n  get stencilState() {\r\n    return this._stencilState;\r\n  }\r\n  apply(overridden: WebGLRenderStateSet, force?: boolean) {\r\n    const gl = this._gl;\r\n    if (overridden?._colorState) {\r\n      overridden._colorState.apply(gl, force);\r\n    } else if (this._colorState) {\r\n      this._colorState.apply(gl, force);\r\n    } else {\r\n      WebGLColorState.applyDefaults(gl, force);\r\n    }\r\n    if (overridden?._blendingState) {\r\n      overridden._blendingState.apply(gl, force);\r\n    } else if (this._blendingState) {\r\n      this._blendingState.apply(gl, force);\r\n    } else {\r\n      WebGLBlendingState.applyDefaults(gl, force);\r\n    }\r\n    if (overridden?._rasterizerState) {\r\n      overridden._rasterizerState.apply(gl, force);\r\n    } else if (this._rasterizerState) {\r\n      this._rasterizerState.apply(gl, force);\r\n    } else {\r\n      WebGLRasterizerState.applyDefaults(gl, force);\r\n    }\r\n    if (overridden?._depthState) {\r\n      overridden._depthState.apply(gl, force);\r\n    } else if (this._depthState) {\r\n      this._depthState.apply(gl, force);\r\n    } else {\r\n      WebGLDepthState.applyDefaults(gl, force);\r\n    }\r\n    if (overridden?._stencilState) {\r\n      overridden._stencilState.apply(gl, force);\r\n    } else if (this._stencilState) {\r\n      this._stencilState.apply(gl, force);\r\n    } else {\r\n      WebGLStencilState.applyDefaults(gl, force);\r\n    }\r\n  }\r\n  useColorState(): ColorState {\r\n    if (!this._colorState) {\r\n      this._colorState = new WebGLColorState();\r\n    }\r\n    return this._colorState;\r\n  }\r\n  defaultColorState() {\r\n    this._colorState = null;\r\n  }\r\n  useBlendingState(): BlendingState {\r\n    if (!this._blendingState) {\r\n      this._blendingState = new WebGLBlendingState();\r\n    }\r\n    return this._blendingState;\r\n  }\r\n  defaultBlendingState() {\r\n    this._blendingState = null;\r\n  }\r\n  useRasterizerState(): RasterizerState {\r\n    if (!this._rasterizerState) {\r\n      this._rasterizerState = new WebGLRasterizerState();\r\n    }\r\n    return this._rasterizerState;\r\n  }\r\n  defaultRasterizerState() {\r\n    this._rasterizerState = null;\r\n  }\r\n  useDepthState(): DepthState {\r\n    if (!this._depthState) {\r\n      this._depthState = new WebGLDepthState();\r\n    }\r\n    return this._depthState;\r\n  }\r\n  defaultDepthState() {\r\n    this._depthState = null;\r\n  }\r\n  useStencilState(): StencilState {\r\n    if (!this._stencilState) {\r\n      this._stencilState = new WebGLStencilState();\r\n    }\r\n    return this._stencilState;\r\n  }\r\n  defaultStencilState() {\r\n    this._stencilState = null;\r\n  }\r\n  static applyDefaults(gl: WebGLContext, force?: boolean) {\r\n    WebGLColorState.applyDefaults(gl, force);\r\n    WebGLBlendingState.applyDefaults(gl, force);\r\n    WebGLRasterizerState.applyDefaults(gl, force);\r\n    WebGLDepthState.applyDefaults(gl, force);\r\n    WebGLStencilState.applyDefaults(gl, force);\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}