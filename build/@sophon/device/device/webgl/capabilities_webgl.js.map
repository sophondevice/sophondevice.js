{"version":3,"file":"capabilities_webgl.js","sources":["../../../../../libs/device/src/device/webgl/capabilities_webgl.ts"],"sourcesContent":["import { WebGLContext, TextureFormat } from '../base_types';\nimport { WebGLEnum } from './webgl_enum';\nimport { isWebGL2 } from './utils';\nimport type { FramebufferCaps, MiscCaps, ShaderCaps, TextureCaps, ITextureFormatInfo } from '../device';\n\nexport interface ITextureParams {\n  target: number;\n  format: number;\n  internalFormat: number;\n  type: number;\n  filterable: boolean;\n  renderable: boolean;\n  repeatable: boolean;\n  compressed: boolean;\n  generateMipmap: boolean;\n}\n\n/*********************************************************************************************************************\n * Unsized Internal Formats\n * --------------------------------------------------------------------------------------------\n * GL_RGB                  | GL_RGB               | GL_UNSIGNED_BYTE\n *                         |                      | GL_UNSIGNED_SHORT_5_6_5\n * --------------------------------------------------------------------------------------------\n * GL_RGBA                 | GL_RGBA              | GL_UNSIGNED_BYTE\n *                         |                      | GL_UNSIGNED_SHORT_4_4_4_4\n *                         |                      | GL_UNSIGNED_SHORT_5_5_5_1\n * --------------------------------------------------------------------------------------------\n * GL_LUMINANCE_ALPHA      | GL_LUMINANCE_ALPHA   | GL_UNSIGNED_BYTE\n * --------------------------------------------------------------------------------------------\n * GL_LUMINANCE            | GL_LUMINANCE         | GL_UNSIGNED_BYTE\n * --------------------------------------------------------------------------------------------\n * GL_ALPHA                | GL_ALPHA             | GL_UNSIGNED_BYTE\n * --------------------------------------------------------------------------------------------\n *\n *\n * Sized Internal Formats\n * ------------------------------------------------------------------------------------------------------\n * Sized Internal Format   | Format               | Type                            | Renderable | Filterable\n * ------------------------------------------------------------------------------------------------------\n * GL_R8                   | GL_RED               | GL_UNSIGNED_BYTE                | Yes        | Yes\n * ------------------------------------------------------------------------------------------------------\n * GL_R8_SNORM             | GL_RED               | GL_BYTE                         | No         | Yes\n * ------------------------------------------------------------------------------------------------------\n * GL_R16F                 | GL_RED               | GL_HALF_FLOAT                   | No         | Yes\n *                         |                      | GL_FLOAT                        |            |\n * ------------------------------------------------------------------------------------------------------\n * GL_R32F                 | GL_RED               | GL_FLOAT                        | No         | No\n * ------------------------------------------------------------------------------------------------------\n * GL_R8UI                 | GL_RED_INTEGER       | GL_UNSIGNED_BYTE                | Yes        | No\n * ------------------------------------------------------------------------------------------------------\n * GL_R8I                  | GL_RED_INTEGER       | GL_BYTE                         | Yes        | No\n * ------------------------------------------------------------------------------------------------------\n * GL_R16UI                | GL_RED_INTEGER       | GL_UNSIGNED_SHORT               | Yes        | No\n * ------------------------------------------------------------------------------------------------------\n * GL_R16I                 | GL_RED_INTEGER       | GL_SHORT                        | Yes        | No\n * ------------------------------------------------------------------------------------------------------\n * GL_R32UI                | GL_RED_INTEGER       | GL_UNSIGNED_INT                 | Yes        | No\n * ------------------------------------------------------------------------------------------------------\n * GL_R32I                 | GL_RED_INTEGER       | GL_INT                          | Yes        | No\n * ------------------------------------------------------------------------------------------------------\n * GL_RG8                  | GL_RG                | GL_UNSIGNED_BYTE                | Yes        | Yes\n * ------------------------------------------------------------------------------------------------------\n * GL_RG8_SNORM            | GL_RG                | GL_BYTE                         | No         | Yes\n * ------------------------------------------------------------------------------------------------------\n * GL_RG16F                | GL_RG                | GL_HALF_FLOAT                   | No         | Yes\n *                         |                      | GL_FLOAT                        |            |\n * ------------------------------------------------------------------------------------------------------\n * GL_RG32F                | GL_RG                | GL_FLOAT                        | No         | No\n * ------------------------------------------------------------------------------------------------------\n * GL_RG8UI                | GL_RG_INTEGER        | GL_UNSIGNED_BYTE                | Yes        | No\n * ------------------------------------------------------------------------------------------------------\n * GL_RG8I                 | GL_RG_INTEGER        | GL_BYTE                         | Yes        | No\n * ------------------------------------------------------------------------------------------------------\n * GL_RG16UI               | GL_RG_INTEGER        | GL_UNSIGNED_SHORT               | Yes        | No\n * ------------------------------------------------------------------------------------------------------\n * GL_RG16I                | GL_RG_INTEGER        | GL_SHORT                        | Yes        | No\n * ------------------------------------------------------------------------------------------------------\n * GL_RG32UI               | GL_RG_INTEGER        | GL_UNSIGNED_INT                 | Yes        | No\n * ------------------------------------------------------------------------------------------------------\n * GL_RG32I                | GL_RG_INTEGER        | GL_INT                          | Yes        | No\n * ------------------------------------------------------------------------------------------------------\n * GL_RGB8                 | GL_RGB               | GL_UNSIGNED_BYTE                | Yes        | Yes\n * ------------------------------------------------------------------------------------------------------\n * GL_SRGB8                | GL_RGB               | GL_UNSIGNED_BYTE                | No         | Yes\n * ------------------------------------------------------------------------------------------------------\n * GL_RGB565               | GL_RGB               | GL_UNSIGNED_BYTE                | Yes        | Yes\n *                         |                      | GL_UNSIGNED_SHORT_5_6_5         |            |\n * ------------------------------------------------------------------------------------------------------\n * GL_RGB8_SNORM           | GL_RGB               | GL_BYTE                         | No         | Yes\n * ------------------------------------------------------------------------------------------------------\n * GL_R11F_G11F_B10F       | GL_RGB               | GL_UNSIGNED_INT_10F_11F_11F_REV | No         | Yes\n *                         |                      | GL_HALF_FLOAT                   |            |\n *                         |                      | GL_FLOAT                        |            |\n * ------------------------------------------------------------------------------------------------------\n * GL_RGB9_E5              | GL_RGB               | GL_UNSIGNED_INT_5_9_9_9_REV     | No         | Yes\n *                         |                      | GL_HALF_FLOAT                   |            |\n *                         |                      | GL_FLOAT                        |            |\n * ------------------------------------------------------------------------------------------------------\n * GL_RGB16F               | GL_RGB               | GL_HALF_FLOAT                   | No         | Yes\n *                         |                      | GL_FLOAT                        |            |\n * ------------------------------------------------------------------------------------------------------\n * GL_RGB32F               | GL_RGB               | GL_FLOAT                        | No         | No\n * ------------------------------------------------------------------------------------------------------\n * GL_RGB8UI               | GL_RGB_INTEGER       | GL_UNSIGNED_BYTE                | No         | No\n * ------------------------------------------------------------------------------------------------------\n * GL_RGB8I                | GL_RGB_INTEGER       | GL_BYTE                         | No         | No\n * ------------------------------------------------------------------------------------------------------\n * GL_RGB16UI              | GL_RGB_INTEGER       | GL_UNSIGNED_SHORT               | No         | No\n * ------------------------------------------------------------------------------------------------------\n * GL_RGB16I               | GL_RGB_INTEGER       | GL_SHORT                        | No         | No\n * ------------------------------------------------------------------------------------------------------\n * GL_RGB32UI              | GL_RGB_INTEGER       | GL_UNSIGNED_INT                 | No         | No\n * ------------------------------------------------------------------------------------------------------\n * GL_RGB32I               | GL_RGB_INTEGER       | GL_INT                          | No         | No\n * ------------------------------------------------------------------------------------------------------\n * GL_RGBA8                | GL_RGBA              | GL_UNSIGNED_BYTE                | Yes        | Yes\n * ------------------------------------------------------------------------------------------------------\n * GL_SRGB8_ALPHA8         | GL_RGBA              | GL_UNSIGNED_BYTE                | Yes        | Yes\n * ------------------------------------------------------------------------------------------------------\n * GL_RGBA8_SNORM          | GL_RGBA              | GL_BYTE                         | No         | Yes\n * ------------------------------------------------------------------------------------------------------\n * GL_RGB5_A1              | GL_RGBA              | GL_UNSIGNED_BYTE                | Yes        | Yes\n *                         |                      | GL_UNSIGNED_SHORT_5_5_5_1       |            |\n *                         |                      | GL_UNSIGNED_INT_2_10_10_10_REV  |            |\n * ------------------------------------------------------------------------------------------------------\n * GL_RGBA4                | GL_RGBA              | GL_UNSIGNED_BYTE                | Yes        | Yes\n *                         |                      | GL_UNSIGNED_SHORT_4_4_4_4       |            |\n * ------------------------------------------------------------------------------------------------------\n * GL_RGB10_A2             | GL_RGBA              | GL_UNSIGNED_INT_2_10_10_10_REV  | Yes        | Yes\n * ------------------------------------------------------------------------------------------------------\n * GL_RGBA16F              | GL_RGBA              | GL_HALF_FLOAT                   | No         | Yes\n *                         |                      | GL_FLOAT                        |            |\n * ------------------------------------------------------------------------------------------------------\n * GL_RGBA32F              | GL_RGBA              | GL_FLOAT                        | No         | No\n * ------------------------------------------------------------------------------------------------------\n * GL_RGBA8UI              | GL_RGBA_INTEGER      | GL_UNSIGNED_BYTE                | Yes        | No\n * ------------------------------------------------------------------------------------------------------\n * GL_RGBA8I               | GL_RGBA_INTEGER      | GL_BYTE                         | Yes        | No\n * ------------------------------------------------------------------------------------------------------\n * GL_RGBA16UI             | GL_RGBA_INTEGER      | GL_UNSIGNED_SHORT               | Yes        | No\n * ------------------------------------------------------------------------------------------------------\n * GL_RGBA16I              | GL_RGBA_INTEGER      | GL_SHORT                        | Yes        | No\n * ------------------------------------------------------------------------------------------------------\n * GL_RGBA32UI             | GL_RGBA_INTEGER      | GL_UNSIGNED_INT                 | Yes        | No\n * ------------------------------------------------------------------------------------------------------\n * GL_RGBA32I              | GL_RGBA_INTEGER      | GL_INT                          | Yes        | No\n * ------------------------------------------------------------------------------------------------------\n * GL_DEPTH_COMPONENT16    | GL_DEPTH_COMPONENT   | GL_UNSIGNED_SHORT               | N/A        | N/A\n *                         |                      | GL_UNSIGNED_INT                 |            |\n * ------------------------------------------------------------------------------------------------------\n * GL_DEPTH_COMPONENT24    | GL_DEPTH_COMPONENT   | GL_UNSIGNED_INT                 | N/A        | N/A\n * ------------------------------------------------------------------------------------------------------\n * GL_DEPTH_COMPONENT32F   | GL_DEPTH_COMPONENT   | GL_FLOAT                        | N/A        | N/A\n * ------------------------------------------------------------------------------------------------------\n * GL_DEPTH24_STENCIL8     | GL_DEPTH_STENCIL     | GL_UNSIGNED_INT_24_8            | N/A        | N/A\n * ------------------------------------------------------------------------------------------------------\n * GL_DEPTH32F_STENCIL8    | GL_DEPTH_STENCIL     | GL_FLOAT_32_UNSIGNED_INT_24_8_REV | N/A      | N/A\n * ------------------------------------------------------------------------------------------------------\n *********************************************************************************************************************/\n\nexport interface ITextureFormatInfoWebGL extends ITextureFormatInfo {\n  glFormat: number;\n  glInternalFormat: number;\n  glType: number[];\n  filterable: boolean;\n  renderable: boolean;\n  compressed: boolean;\n}\n\nexport class WebGLFramebufferCap implements FramebufferCaps {\n  private _isWebGL2: boolean;\n  private _extDrawBuffers: WEBGL_draw_buffers;\n  private _extRenderMipmap: unknown;\n  maxDrawBuffers: number;\n  supportDrawBuffers: boolean;\n  supportRenderMipmap: boolean;\n  constructor(gl: WebGLContext) {\n    this._isWebGL2 = isWebGL2(gl);\n    this._extDrawBuffers = null;\n    this._extRenderMipmap = null;\n    if (this._isWebGL2) {\n      this.supportDrawBuffers = true;\n      this.supportRenderMipmap = true;\n    } else {\n      this._extDrawBuffers = gl.getExtension('WEBGL_draw_buffers');\n      this.supportDrawBuffers = !!this._extDrawBuffers;\n      this._extRenderMipmap = gl.getExtension('OES_fbo_render_mipmap');\n      this.supportRenderMipmap = !!this._extRenderMipmap;\n    }\n    this.maxDrawBuffers = this.supportDrawBuffers\n      ? Math.min(\n        gl.getParameter(WebGLEnum.MAX_COLOR_ATTACHMENTS),\n        gl.getParameter(WebGLEnum.MAX_DRAW_BUFFERS),\n      )\n      : 1;\n  }\n}\n\nexport class WebGLMiscCap implements MiscCaps {\n  private _isWebGL2: boolean;\n  private _extIndexUint32: OES_element_index_uint;\n  private _extBlendMinMax: EXT_blend_minmax;\n  private _extLoseContext: WEBGL_lose_context;\n  private _extDebugRendererInfo: WEBGL_debug_renderer_info;\n  supportBlendMinMax: boolean;\n  support32BitIndex: boolean;\n  supportLoseContext: boolean;\n  supportDebugRendererInfo: boolean;\n  supportSharedUniforms: boolean;\n  constructor(gl: WebGLContext) {\n    this._isWebGL2 = isWebGL2(gl);\n    this._extBlendMinMax = null;\n    this._extIndexUint32 = isWebGL2 ? gl.getExtension('OES_element_index_uint') : null;\n    this._extLoseContext = gl.getExtension('WEBGL_lose_context');\n    this._extDebugRendererInfo = gl.getExtension('WEBGL_debug_renderer_info');\n    if (this._isWebGL2) {\n      this.supportBlendMinMax = true;\n      this.support32BitIndex = true;\n    } else {\n      this._extBlendMinMax = gl.getExtension('EXT_blend_minmax');\n      this.supportBlendMinMax = !!this._extBlendMinMax;\n      this.support32BitIndex = !!this._extIndexUint32;\n    }\n    this.supportLoseContext = !!this._extLoseContext;\n    this.supportDebugRendererInfo = !!this._extDebugRendererInfo;\n    this.supportSharedUniforms = this._isWebGL2;\n  }\n}\nexport class WebGLShaderCap implements ShaderCaps {\n  private _extFragDepth: EXT_frag_depth;\n  private _extStandardDerivatives: OES_standard_derivatives;\n  private _extShaderTextureLod: EXT_shader_texture_lod;\n  supportFragmentDepth: boolean;\n  supportStandardDerivatives: boolean;\n  supportShaderTextureLod: boolean;\n  supportHighPrecisionFloat: boolean;\n  supportHighPrecisionInt: boolean;\n  maxUniformBufferSize: number;\n  uniformBufferOffsetAlignment: number;\n  constructor(gl: WebGLContext) {\n    this._extFragDepth = null;\n    this._extStandardDerivatives = null;\n    if (isWebGL2(gl)) {\n      this.supportFragmentDepth = true;\n      this.supportStandardDerivatives = true;\n      this.supportShaderTextureLod = true;\n      this.supportHighPrecisionFloat = true;\n      this.maxUniformBufferSize = gl.getParameter(gl.MAX_UNIFORM_BLOCK_SIZE) || 16384;\n      this.uniformBufferOffsetAlignment = gl.getParameter(gl.UNIFORM_BUFFER_OFFSET_ALIGNMENT) || 256;\n    } else {\n      this._extFragDepth = gl.getExtension('EXT_frag_depth');\n      this.supportFragmentDepth = !!this._extFragDepth;\n      this._extStandardDerivatives = gl.getExtension('OES_standard_derivatives');\n      this.supportStandardDerivatives = !!this._extStandardDerivatives;\n      this._extShaderTextureLod = gl.getExtension('EXT_shader_texture_lod');\n      this.supportShaderTextureLod = !!this._extShaderTextureLod;\n      this.supportHighPrecisionFloat = gl.getShaderPrecisionFormat && !!(gl.getShaderPrecisionFormat(gl.VERTEX_SHADER, gl.HIGH_FLOAT)?.precision)\n        && !!(gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT)?.precision);\n      this.maxUniformBufferSize = 0;\n      this.uniformBufferOffsetAlignment = 1;\n    }\n  }\n}\nexport class WebGLTextureCap implements TextureCaps {\n  private _isWebGL2: boolean;\n  private _extS3TC: WEBGL_compressed_texture_s3tc;\n  private _extS3TCSRGB: WEBGL_compressed_texture_s3tc_srgb;\n  private _extTextureFilterAnisotropic: EXT_texture_filter_anisotropic;\n  private _extDepthTexture: WEBGL_depth_texture;\n  private _extSRGB: EXT_sRGB;\n  private _extTextureFloat: OES_texture_float;\n  private _extTextureFloatLinear: OES_texture_float_linear;\n  private _extTextureHalfFloat: OES_texture_half_float;\n  private _extTextureHalfFloatLinear: OES_texture_half_float_linear;\n  private _textureFormatInfos: { [format: number]: ITextureFormatInfoWebGL };\n  maxTextureSize: number;\n  maxCubeTextureSize: number;\n  npo2Mipmapping: boolean;\n  npo2Repeating: boolean;\n  supportS3TC: boolean;\n  supportS3TCSRGB: boolean;\n  supportDepthTexture: boolean;\n  support3DTexture: boolean;\n  supportSRGBTexture: boolean;\n  supportFloatTexture: boolean;\n  supportLinearFloatTexture: boolean;\n  supportHalfFloatTexture: boolean;\n  supportLinearHalfFloatTexture: boolean;\n  supportAnisotropicFiltering: boolean;\n  supportFloatColorBuffer: boolean;\n  supportHalfFloatColorBuffer: boolean;\n  supportFloatBlending: boolean;\n  constructor(gl: WebGLContext) {\n    this._isWebGL2 = isWebGL2(gl);\n    this._extTextureFilterAnisotropic =\n      gl.getExtension('EXT_texture_filter_anisotropic') ||\n      gl.getExtension('MOZ_EXT_texture_filter_anisotropic') ||\n      gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic');\n    this.supportAnisotropicFiltering = !!this._extTextureFilterAnisotropic;\n    if (this._isWebGL2) {\n      this.supportDepthTexture = true;\n    } else {\n      this._extDepthTexture = gl.getExtension('WEBGL_depth_texture');\n      this.supportDepthTexture = !!this._extDepthTexture;\n    }\n    this.support3DTexture = this._isWebGL2;\n    this._extSRGB = this._isWebGL2 ? null : gl.getExtension('EXT_sRGB');\n    this.supportSRGBTexture = this._isWebGL2 || !!this._extSRGB;\n    if (this._isWebGL2) {\n      this.supportFloatTexture = true;\n    } else {\n      this._extTextureFloat = gl.getExtension('OES_texture_float');\n      this.supportFloatTexture = !!this._extTextureFloat;\n    }\n    this._extTextureFloatLinear = gl.getExtension('OES_texture_float_linear');\n    this.supportLinearFloatTexture = !!this._extTextureFloatLinear;\n    if (this._isWebGL2) {\n      this.supportHalfFloatTexture = true;\n      this.supportLinearHalfFloatTexture = true;\n    } else {\n      this._extTextureHalfFloat = gl.getExtension('OES_texture_half_float');\n      this.supportHalfFloatTexture = !!this._extTextureHalfFloat;\n      this._extTextureHalfFloatLinear = gl.getExtension('OES_texture_half_float_linear');\n      this.supportLinearHalfFloatTexture = !!this._extTextureHalfFloatLinear;\n    }\n\n    if (this._isWebGL2) {\n      if (gl.getExtension('EXT_color_buffer_float')) {\n        this.supportHalfFloatColorBuffer = true;\n        this.supportFloatColorBuffer = true;\n      } else if (gl.getExtension('EXT_color_buffer_half_float')) {\n        this.supportHalfFloatColorBuffer = true;\n        this.supportFloatColorBuffer = false;\n      } else {\n        this.supportHalfFloatColorBuffer = false;\n        this.supportFloatColorBuffer = false;\n      }\n    } else {\n      this.supportFloatColorBuffer = !!gl.getExtension('WEBGL_color_buffer_float');\n      this.supportHalfFloatColorBuffer = !!gl.getExtension('EXT_color_buffer_half_float');\n    }\n    this.supportFloatBlending = this.supportFloatColorBuffer && !!gl.getExtension('EXT_float_blend');\n\n    this._extS3TC =\n      gl.getExtension('WEBGL_compressed_texture_s3tc') ||\n      gl.getExtension('MOZ_WEBGL_compressed_texture_s3tc') ||\n      gl.getExtension('WEBKIT_WEBGL_compressed_texture_s3tc');\n    this.supportS3TC = !!this._extS3TC;\n    this._extS3TCSRGB = gl.getExtension('WEBGL_compressed_texture_s3tc_srgb');\n    this.supportS3TCSRGB = !!this._extS3TCSRGB;\n\n    this.maxTextureSize = gl.getParameter(gl.MAX_TEXTURE_SIZE);\n    this.maxCubeTextureSize = gl.getParameter(gl.MAX_CUBE_MAP_TEXTURE_SIZE);\n    if (this._isWebGL2) {\n      this.npo2Mipmapping = true;\n      this.npo2Repeating = true;\n    } else {\n      this.npo2Mipmapping = false;\n      this.npo2Repeating = false;\n    }\n    this._textureFormatInfos = {\n      [TextureFormat.RGBA8UNORM]: {\n        glFormat: gl.RGBA,\n        glInternalFormat: this._isWebGL2 ? (gl as WebGL2RenderingContext).RGBA8 : gl.RGBA,\n        glType: [gl.UNSIGNED_BYTE, gl.UNSIGNED_SHORT_4_4_4_4, gl.UNSIGNED_SHORT_5_5_5_1],\n        filterable: true,\n        renderable: true,\n        compressed: false,\n      },\n    };\n    if (this.supportS3TC) {\n      this._textureFormatInfos[TextureFormat.DXT1] = {\n        glFormat: gl.NONE,\n        glInternalFormat: this._extS3TC.COMPRESSED_RGB_S3TC_DXT1_EXT,\n        glType: [gl.NONE],\n        filterable: true,\n        renderable: false,\n        compressed: true,\n      };\n      this._textureFormatInfos[TextureFormat.DXT3] = {\n        glFormat: gl.NONE,\n        glInternalFormat: this._extS3TC.COMPRESSED_RGBA_S3TC_DXT3_EXT,\n        glType: [gl.NONE],\n        filterable: true,\n        renderable: false,\n        compressed: true,\n      };\n      this._textureFormatInfos[TextureFormat.DXT5] = {\n        glFormat: gl.NONE,\n        glInternalFormat: this._extS3TC.COMPRESSED_RGBA_S3TC_DXT5_EXT,\n        glType: [gl.NONE],\n        filterable: true,\n        renderable: false,\n        compressed: true,\n      };\n    }\n    if (this.supportS3TCSRGB) {\n      this._textureFormatInfos[TextureFormat.DXT1_SRGB] = {\n        glFormat: gl.NONE,\n        glInternalFormat: this._extS3TCSRGB.COMPRESSED_SRGB_S3TC_DXT1_EXT,\n        glType: [gl.NONE],\n        filterable: true,\n        renderable: false,\n        compressed: true,\n      };\n      this._textureFormatInfos[TextureFormat.DXT3_SRGB] = {\n        glFormat: gl.NONE,\n        glInternalFormat: this._extS3TCSRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,\n        glType: [gl.NONE],\n        filterable: true,\n        renderable: false,\n        compressed: true,\n      };\n      this._textureFormatInfos[TextureFormat.DXT5_SRGB] = {\n        glFormat: gl.NONE,\n        glInternalFormat: this._extS3TCSRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,\n        glType: [gl.NONE],\n        filterable: true,\n        renderable: false,\n        compressed: true,\n      };\n    }\n    if (isWebGL2(gl)) {\n      this._textureFormatInfos[TextureFormat.R8UNORM] = {\n        glFormat: gl.RED,\n        glInternalFormat: gl.R8,\n        glType: [gl.UNSIGNED_BYTE],\n        filterable: true,\n        renderable: true,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.R8SNORM] = {\n        glFormat: gl.RED,\n        glInternalFormat: gl.R8_SNORM,\n        glType: [gl.BYTE],\n        filterable: true,\n        renderable: false,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.R16F] = {\n        glFormat: gl.RED,\n        glInternalFormat: gl.R16F,\n        glType: [gl.HALF_FLOAT, gl.FLOAT],\n        filterable: this.supportLinearHalfFloatTexture,\n        renderable: this.supportHalfFloatColorBuffer,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.R32F] = {\n        glFormat: gl.RED,\n        glInternalFormat: gl.R32F,\n        glType: [gl.FLOAT],\n        filterable: this.supportLinearFloatTexture,\n        renderable: this.supportFloatColorBuffer,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.R8UI] = {\n        glFormat: gl.RED_INTEGER,\n        glInternalFormat: gl.R8UI,\n        glType: [gl.UNSIGNED_BYTE],\n        filterable: false,\n        renderable: true,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.R8I] = {\n        glFormat: gl.RED_INTEGER,\n        glInternalFormat: gl.R8I,\n        glType: [gl.BYTE],\n        filterable: false,\n        renderable: true,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.R16UI] = {\n        glFormat: gl.RED_INTEGER,\n        glInternalFormat: gl.R16UI,\n        glType: [gl.UNSIGNED_SHORT],\n        filterable: false,\n        renderable: true,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.R16I] = {\n        glFormat: gl.RED_INTEGER,\n        glInternalFormat: gl.R16I,\n        glType: [gl.SHORT],\n        filterable: false,\n        renderable: true,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.R32UI] = {\n        glFormat: gl.RED_INTEGER,\n        glInternalFormat: gl.R32UI,\n        glType: [gl.UNSIGNED_INT],\n        filterable: false,\n        renderable: true,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.R32I] = {\n        glFormat: gl.RED_INTEGER,\n        glInternalFormat: gl.R32I,\n        glType: [gl.INT],\n        filterable: false,\n        renderable: true,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.RG8UNORM] = {\n        glFormat: gl.RG,\n        glInternalFormat: gl.RG8,\n        glType: [gl.UNSIGNED_BYTE],\n        filterable: true,\n        renderable: true,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.RG8SNORM] = {\n        glFormat: gl.RG,\n        glInternalFormat: gl.RG8_SNORM,\n        glType: [gl.BYTE],\n        filterable: true,\n        renderable: false,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.RG16F] = {\n        glFormat: gl.RG,\n        glInternalFormat: gl.RG16F,\n        glType: [gl.HALF_FLOAT, gl.FLOAT],\n        filterable: this.supportLinearHalfFloatTexture,\n        renderable: this.supportHalfFloatColorBuffer,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.RG32F] = {\n        glFormat: gl.RG,\n        glInternalFormat: gl.RG32F,\n        glType: [gl.FLOAT],\n        filterable: this.supportLinearFloatTexture,\n        renderable: this.supportFloatColorBuffer,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.RG8UI] = {\n        glFormat: gl.RG,\n        glInternalFormat: gl.RG8UI,\n        glType: [gl.UNSIGNED_BYTE],\n        filterable: false,\n        renderable: true,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.RG8I] = {\n        glFormat: gl.RG,\n        glInternalFormat: gl.RG8I,\n        glType: [gl.BYTE],\n        filterable: false,\n        renderable: true,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.RG16UI] = {\n        glFormat: gl.RG,\n        glInternalFormat: gl.RG16UI,\n        glType: [gl.UNSIGNED_SHORT],\n        filterable: false,\n        renderable: true,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.RG16I] = {\n        glFormat: gl.RG,\n        glInternalFormat: gl.RG16I,\n        glType: [gl.SHORT],\n        filterable: false,\n        renderable: true,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.RG32UI] = {\n        glFormat: gl.RG,\n        glInternalFormat: gl.RG32UI,\n        glType: [gl.UNSIGNED_INT],\n        filterable: false,\n        renderable: true,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.RG32I] = {\n        glFormat: gl.RG,\n        glInternalFormat: gl.RG32I,\n        glType: [gl.INT],\n        filterable: false,\n        renderable: true,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.RGBA8UNORM_SRGB] = {\n        glFormat: gl.RGBA,\n        glInternalFormat: gl.SRGB8_ALPHA8,\n        glType: [gl.UNSIGNED_BYTE],\n        filterable: true,\n        renderable: true,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.RGBA8SNORM] = {\n        glFormat: gl.RGBA,\n        glInternalFormat: gl.RGBA8_SNORM,\n        glType: [gl.BYTE],\n        filterable: true,\n        renderable: false,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.RGBA16F] = {\n        glFormat: gl.RGBA,\n        glInternalFormat: gl.RGBA16F,\n        glType: [gl.HALF_FLOAT, gl.FLOAT],\n        filterable: this.supportLinearHalfFloatTexture,\n        renderable: this.supportHalfFloatColorBuffer,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.RGBA32F] = {\n        glFormat: gl.RGBA,\n        glInternalFormat: gl.RGBA32F,\n        glType: [gl.FLOAT],\n        filterable: this.supportLinearFloatTexture,\n        renderable: this.supportFloatColorBuffer,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.RGBA8UI] = {\n        glFormat: gl.RGBA_INTEGER,\n        glInternalFormat: gl.RGBA8UI,\n        glType: [gl.UNSIGNED_BYTE],\n        filterable: false,\n        renderable: true,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.RGBA8I] = {\n        glFormat: gl.RGBA_INTEGER,\n        glInternalFormat: gl.RGBA8I,\n        glType: [gl.BYTE],\n        filterable: false,\n        renderable: true,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.RGBA16UI] = {\n        glFormat: gl.RGBA_INTEGER,\n        glInternalFormat: gl.RGBA16UI,\n        glType: [gl.UNSIGNED_SHORT],\n        filterable: false,\n        renderable: true,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.RGBA16I] = {\n        glFormat: gl.RGBA_INTEGER,\n        glInternalFormat: gl.RGBA16I,\n        glType: [gl.SHORT],\n        filterable: false,\n        renderable: true,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.RGBA32UI] = {\n        glFormat: gl.RGBA_INTEGER,\n        glInternalFormat: gl.RGBA32UI,\n        glType: [gl.UNSIGNED_INT],\n        filterable: false,\n        renderable: true,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.RGBA32I] = {\n        glFormat: gl.RGBA_INTEGER,\n        glInternalFormat: gl.RGBA32I,\n        glType: [gl.INT],\n        filterable: false,\n        renderable: true,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.D16] = {\n        glFormat: gl.DEPTH_COMPONENT,\n        glInternalFormat: gl.DEPTH_COMPONENT16,\n        glType: [gl.UNSIGNED_SHORT, gl.UNSIGNED_INT],\n        filterable: false,\n        renderable: true,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.D24] = {\n        glFormat: gl.DEPTH_COMPONENT,\n        glInternalFormat: gl.DEPTH_COMPONENT24,\n        glType: [gl.UNSIGNED_INT],\n        filterable: false,\n        renderable: true,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.D32F] = {\n        glFormat: gl.DEPTH_COMPONENT,\n        glInternalFormat: gl.DEPTH_COMPONENT32F,\n        glType: [gl.FLOAT],\n        filterable: false,\n        renderable: true,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.D24S8] = {\n        glFormat: gl.DEPTH_STENCIL,\n        glInternalFormat: gl.DEPTH24_STENCIL8,\n        glType: [gl.UNSIGNED_INT_24_8],\n        filterable: false,\n        renderable: true,\n        compressed: false,\n      };\n      this._textureFormatInfos[TextureFormat.D32FS8] = {\n        glFormat: gl.DEPTH_STENCIL,\n        glInternalFormat: gl.DEPTH32F_STENCIL8,\n        glType: [gl.FLOAT_32_UNSIGNED_INT_24_8_REV],\n        filterable: false,\n        renderable: true,\n        compressed: false,\n      };\n    } else {\n      if (this.supportFloatTexture) {\n        this._textureFormatInfos[TextureFormat.RGBA32F] = {\n          glFormat: gl.RGBA,\n          glInternalFormat: gl.RGBA,\n          glType: [\n            gl.FLOAT,\n            gl.UNSIGNED_BYTE,\n            gl.UNSIGNED_SHORT_4_4_4_4,\n            gl.UNSIGNED_SHORT_5_5_5_1,\n          ],\n          filterable: this.supportLinearFloatTexture,\n          renderable: this.supportFloatColorBuffer,\n          compressed: false,\n        };\n      }\n      if (this.supportHalfFloatTexture) {\n        this._textureFormatInfos[TextureFormat.RGBA16F] = {\n          glFormat: gl.RGBA,\n          glInternalFormat: gl.RGBA,\n          glType: [\n            this._extTextureHalfFloat.HALF_FLOAT_OES,\n            gl.UNSIGNED_BYTE,\n            gl.UNSIGNED_SHORT_4_4_4_4,\n            gl.UNSIGNED_SHORT_5_5_5_1,\n          ],\n          filterable: this.supportLinearHalfFloatTexture,\n          renderable: this.supportHalfFloatColorBuffer,\n          compressed: false,\n        };\n      }\n      if (this.supportSRGBTexture) {\n        this._textureFormatInfos[TextureFormat.RGBA8UNORM_SRGB] = {\n          glFormat: this._extSRGB.SRGB_ALPHA_EXT,\n          glInternalFormat: this._extSRGB.SRGB_ALPHA_EXT,\n          glType: [gl.UNSIGNED_BYTE],\n          filterable: true,\n          renderable: false,\n          compressed: false,\n        };\n      }\n      if (this.supportDepthTexture) {\n        this._textureFormatInfos[TextureFormat.D16] = {\n          glFormat: gl.DEPTH_COMPONENT,\n          glInternalFormat: gl.DEPTH_COMPONENT,\n          glType: [gl.UNSIGNED_SHORT],\n          filterable: false,\n          renderable: true,\n          compressed: false,\n        };\n        this._textureFormatInfos[TextureFormat.D24] = {\n          glFormat: gl.DEPTH_COMPONENT,\n          glInternalFormat: gl.DEPTH_COMPONENT,\n          glType: [gl.UNSIGNED_INT],\n          filterable: false,\n          renderable: true,\n          compressed: false,\n        };\n        this._textureFormatInfos[TextureFormat.D24S8] = {\n          glFormat: gl.DEPTH_STENCIL,\n          glInternalFormat: gl.DEPTH_STENCIL,\n          glType: [this._extDepthTexture.UNSIGNED_INT_24_8_WEBGL],\n          filterable: false,\n          renderable: true,\n          compressed: false,\n        };\n      }\n    }\n  }\n  calcMemoryUsage(format: TextureFormat, type: number, numPixels): number {\n    switch (format) {\n      case TextureFormat.D16:\n      case TextureFormat.D24:\n      case TextureFormat.D24S8:\n      case TextureFormat.D32F:\n        switch (type) {\n          case WebGLEnum.UNSIGNED_SHORT:\n            return numPixels * 2;\n          default:\n            return numPixels * 4;\n        }\n      case TextureFormat.D32FS8:\n        return numPixels * 8;\n      case TextureFormat.DXT1:\n      case TextureFormat.DXT1_SRGB:\n        return numPixels / 2;\n      case TextureFormat.DXT3:\n      case TextureFormat.DXT3_SRGB:\n      case TextureFormat.DXT5:\n      case TextureFormat.DXT5_SRGB:\n        return numPixels;\n      case TextureFormat.R16F:\n        switch (type) {\n          case WebGLEnum.HALF_FLOAT:\n            return numPixels * 2;\n          default:\n            return numPixels * 4;\n        }\n      case TextureFormat.R16I:\n      case TextureFormat.R16UI:\n        return numPixels * 2;\n      case TextureFormat.R32F:\n      case TextureFormat.R32I:\n      case TextureFormat.R32UI:\n        return numPixels * 4;\n      case TextureFormat.R8UNORM:\n      case TextureFormat.R8SNORM:\n      case TextureFormat.R8I:\n      case TextureFormat.R8UI:\n        return numPixels;\n      case TextureFormat.RG16F:\n        switch (type) {\n          case WebGLEnum.HALF_FLOAT:\n            return numPixels * 4;\n          default:\n            return numPixels * 8;\n        }\n      case TextureFormat.RG16I:\n      case TextureFormat.RG16UI:\n        return numPixels * 4;\n      case TextureFormat.RG32F:\n      case TextureFormat.RG32I:\n      case TextureFormat.RG32UI:\n        return numPixels * 8;\n      case TextureFormat.RG8UNORM:\n      case TextureFormat.RG8SNORM:\n      case TextureFormat.RG8I:\n      case TextureFormat.RG8UI:\n        return numPixels * 2;\n      case TextureFormat.RGBA16F:\n        switch (type) {\n          case WebGLEnum.HALF_FLOAT:\n            return numPixels * 8;\n          default:\n            return numPixels * 16;\n        }\n      case TextureFormat.RGBA16I:\n      case TextureFormat.RGBA16UI:\n        return numPixels * 8;\n      case TextureFormat.RGBA32F:\n      case TextureFormat.RGBA32I:\n      case TextureFormat.RGBA32UI:\n        return numPixels * 16;\n      case TextureFormat.RGBA8UNORM:\n      case TextureFormat.RGBA8UNORM_SRGB:\n      case TextureFormat.RGBA8SNORM:\n      case TextureFormat.RGBA8I:\n      case TextureFormat.RGBA8UI:\n        return numPixels * 4;\n      default:\n        return 0;\n    }\n  }\n  getTextureFormatInfo(format: TextureFormat): ITextureFormatInfoWebGL {\n    return this._textureFormatInfos[format];\n  }\n}\n"],"names":[],"mappings":"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"}