{"version":3,"file":"indexbuffer_webgl.js","sources":["../../../../../libs/device/src/device/webgl/indexbuffer_webgl.ts"],"sourcesContent":["import { WebGLGPUBuffer } from \"./buffer_webgl\";\r\nimport { PBPrimitiveTypeInfo, typeU16, typeU32 } from \"../builder\";\r\nimport { GPUResourceUsageFlags, IndexBuffer } from \"../gpuobject\";\r\nimport type { WebGLDevice } from './device_webgl';\r\n\r\nexport class WebGLIndexBuffer extends WebGLGPUBuffer implements IndexBuffer {\r\n  readonly indexType: PBPrimitiveTypeInfo;\r\n  readonly length: number;\r\n  constructor(device: WebGLDevice, data: Uint16Array | Uint32Array, usage?: number) {\r\n    if (!(data instanceof Uint16Array) && !(data instanceof Uint32Array)) {\r\n      throw new Error('invalid index data');\r\n    }\r\n    super(device, GPUResourceUsageFlags.BF_INDEX | usage, data);\r\n    this.indexType = data instanceof Uint16Array ? typeU16 : typeU32;\r\n    this.length = data.length;\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;AAKM,MAAO,gBAAiB,SAAQ,cAAc,CAAA;AACzC,IAAA,SAAS,CAAsB;AAC/B,IAAA,MAAM,CAAS;AACxB,IAAA,WAAA,CAAY,MAAmB,EAAE,IAA+B,EAAE,KAAc,EAAA;AAC9E,QAAA,IAAI,EAAE,IAAI,YAAY,WAAW,CAAC,IAAI,EAAE,IAAI,YAAY,WAAW,CAAC,EAAE;AACpE,YAAA,MAAM,IAAI,KAAK,CAAC,oBAAoB,CAAC,CAAC;AACvC,SAAA;QACD,KAAK,CAAC,MAAM,EAAE,qBAAqB,CAAC,QAAQ,GAAG,KAAK,EAAE,IAAI,CAAC,CAAC;AAC5D,QAAA,IAAI,CAAC,SAAS,GAAG,IAAI,YAAY,WAAW,GAAG,OAAO,GAAG,OAAO,CAAC;AACjE,QAAA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;KAC3B;AACF;;;;"}