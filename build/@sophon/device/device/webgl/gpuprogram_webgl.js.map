{"version":3,"file":"gpuprogram_webgl.js","sources":["../../../../../libs/device/src/device/webgl/gpuprogram_webgl.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { WebGLGPUObject } from './gpuobject_webgl';\nimport { isWebGL2 } from './utils';\nimport { WebGLEnum } from './webgl_enum';\nimport { ShaderType } from '../base_types';\nimport { GPUProgram, semanticList, BindGroupLayout, BindPointInfo } from '../gpuobject';\nimport { WebGLTextureSampler } from './sampler_webgl';\nimport type { WebGLBaseTexture } from './basetexture_webgl';\nimport type { WebGLGPUBuffer } from './buffer_webgl';\nimport type { WebGLDevice } from './device_webgl';\nimport type { WebGLStructuredBuffer } from './structuredbuffer_webgl';\nimport type { TypedArrayConstructor } from '../../misc';\n\ntype UniformBlockArray = Int32Array | Uint32Array | Float32Array;\nexport interface IAttributeSetter {\n  (value: WebGLGPUBuffer | number | Iterable<number>, offset?: number, stride?: number): void;\n  location: number;\n}\n\nexport type IUniformValue = number | Iterable<number> | [WebGLBaseTexture, WebGLSampler];\nexport interface IUniformSetter {\n  (value: IUniformValue): unknown;\n}\n\ninterface ProgramUniformInfo {\n  index: number;\n  name: string;\n  type: number;\n  size: number;\n  blockIndex: number;\n  offset: number;\n  isArray: boolean;\n  viewCtor: TypedArrayConstructor<UniformBlockArray>;\n  viewElementSize: number;\n  view: UniformBlockArray;\n  location: WebGLUniformLocation;\n}\n\ninterface ProgramBlockInfo {\n  index: number;\n  used: boolean;\n  size: number;\n  uniformIndices: Uint32Array;\n}\n\nexport class WebGLGPUProgram extends WebGLGPUObject<WebGLProgram> implements GPUProgram<WebGLProgram> {\n  private _vs: string;\n  private _fs: string;\n  private _unitCounter: number;\n  private _uniformSetters: { [name: string]: IUniformSetter };\n  private _uniformInfo: ProgramUniformInfo[];\n  private _blockInfo: { [name: string]: ProgramBlockInfo };\n  private _bindGroupLayouts: BindGroupLayout[];\n  private _vertexAttributes: number[];\n  private _error: string;\n  private _vertexShader: WebGLShader;\n  private _fragmentShader: WebGLShader;\n  constructor(device: WebGLDevice, vertexShader: string, fragmentShader: string, bindGroupLayouts: BindGroupLayout[], vertexAttributes: number[]) {\n    super(device);\n    this._object = this._device.context.createProgram();\n    this._unitCounter = 0;\n    this._uniformSetters = null;\n    this._uniformInfo = null;\n    this._blockInfo = null;\n    this._error = '';\n    this._vertexShader = null;\n    this._fragmentShader = null;\n    this._vs = vertexShader;\n    this._fs = fragmentShader;\n    this._bindGroupLayouts = [...bindGroupLayouts];\n    this._vertexAttributes = [...vertexAttributes];\n    this.load();\n  }\n  get type(): 'render' | 'compute' {\n    return 'render';\n  }\n  getCompileError(): string {\n    return this._error;\n  }\n  getShaderSource(shaderType: ShaderType): string {\n    switch (shaderType) {\n      case ShaderType.Vertex: return this._vs;\n      case ShaderType.Fragment: return this._fs;\n      case ShaderType.Compute: return null;\n    }\n  }\n  getBindingInfo(name: string): BindPointInfo {\n    for (let group = 0; group < this._bindGroupLayouts.length; group++) {\n      const layout = this._bindGroupLayouts[group];\n      for (let binding = 0; binding < layout.entries.length; binding++) {\n        const bindingPoint = layout.entries[binding];\n        if (bindingPoint.name === name) {\n          return {\n            group: group,\n            binding: binding,\n            type: bindingPoint.type\n          };\n        }\n      }\n    }\n    return null;\n  }\n  get bindGroupLayouts(): BindGroupLayout[] {\n    return this._bindGroupLayouts;\n  }\n  get vertexAttributes(): number[] {\n    return this._vertexAttributes;\n  }\n  setUniform(name: string, value: IUniformValue | Record<string, IUniformValue> | IUniformValue[]) {\n    const setter = this._uniformSetters[name];\n    if (setter) {\n      setter(value as IUniformValue);\n    } else {\n      const proto = Object.getPrototypeOf(value);\n      if (proto === Object.getPrototypeOf({})) {\n        this._setUniformStruct(name, value as Record<string, IUniformValue>);\n      } else if (proto == Object.getPrototypeOf([])) {\n        this._setUniformArray(name, value as IUniformValue[]);\n      }\n    }\n  }\n  setBlock(name: string, value: WebGLStructuredBuffer, offset: number) {\n    const info = this._blockInfo[name];\n    if (info) {\n      if (offset) {\n        (this._device.context as WebGL2RenderingContext).bindBufferRange(WebGLEnum.UNIFORM_BUFFER, info.index, value.object, offset, value.byteLength - offset);\n      } else {\n        (this._device.context as WebGL2RenderingContext).bindBufferBase(WebGLEnum.UNIFORM_BUFFER, info.index, value.object);\n      }\n    }\n  }\n  destroy() {\n    if (this._object) {\n      this._device.context.deleteProgram(this._object);\n      this._object = null;\n      this._unitCounter = 0;\n      this._uniformSetters = null;\n      this._uniformInfo = null;\n      this._blockInfo = null;\n      this._error = '';\n      this._vertexShader = null;\n      this._fragmentShader = null;\n    }\n  }\n  async restore() {\n    if (!this._object && !this._device.isContextLost()) {\n      this.load();\n    }\n  }\n  isProgram(): boolean {\n    return true;\n  }\n  use(): boolean {\n    if (this !== this._device.context._currentProgram) {\n      if (!this.checkLoad()) {\n        return false;\n      }\n      this._device.context._currentProgram = this;\n      this._device.context.useProgram(this._object);\n    }\n    return true;\n  }\n  private _setUniformStruct(name: string, value: Record<string, IUniformValue>) {\n    for (const k in value) {\n      this.setUniform(`${name}.${k}`, value[k]);\n    }\n  }\n  private _setUniformArray(name: string, value: IUniformValue[]) {\n    for (let i = 0; i < value.length; i++) {\n      this.setUniform(`${name}[${i}]`, value[i]);\n    }\n  }\n  private load(): void {\n    if (this._device.isContextLost()) {\n      return;\n    }\n    const gl = this._device.context;\n    this._error = null;\n    this._uniformSetters = {};\n    if (!this._object) {\n      this._object = this._device.context.createProgram();\n    }\n    this._vertexShader = gl.createShader(WebGLEnum.VERTEX_SHADER);\n    gl.attachShader(this._object, this._vertexShader);\n    gl.shaderSource(this._vertexShader, this._vs);\n    gl.compileShader(this._vertexShader);\n    this._fragmentShader = gl.createShader(WebGLEnum.FRAGMENT_SHADER);\n    gl.attachShader(this._object, this._fragmentShader);\n    gl.shaderSource(this._fragmentShader, this._fs);\n    gl.compileShader(this._fragmentShader);\n    for (let loc = 0; loc < semanticList.length; loc++) {\n      gl.bindAttribLocation(this._object, loc, semanticList[loc]);\n    }\n    gl.linkProgram(this._object);\n  }\n  private checkLoad(): boolean {\n    if (!this._object) {\n      return false;\n    }\n    if (this._vertexShader) {\n      const gl = this._device.context;\n      if (!this._device.isContextLost()) {\n        if (!gl.getProgramParameter(this._object, WebGLEnum.LINK_STATUS)) {\n          if (!gl.getShaderParameter(this._vertexShader, WebGLEnum.COMPILE_STATUS)) {\n            this._error = gl.getShaderInfoLog(this._vertexShader);\n            console.error(new Error(`Compile shader failed: ${this._error}`));\n          } else if (!gl.getShaderParameter(this._fragmentShader, WebGLEnum.COMPILE_STATUS)) {\n            this._error = gl.getShaderInfoLog(this._fragmentShader);\n            console.error(new Error(`Compile shader failed: ${this._error}`));\n          } else {\n            this._error = gl.getProgramInfoLog(this._object);\n            console.error(new Error(`Load program failed: \\n${this._error}`));\n          }\n        }\n      }\n      gl.deleteShader(this._vertexShader);\n      this._vertexShader = null;\n      gl.deleteShader(this._fragmentShader);\n      this._fragmentShader = null;\n      if (this._error) {\n        gl.deleteProgram(this._object);\n        this._object = null;\n        return false;\n      }\n      this._uniformSetters = this.createUniformSetters();\n    }\n    return true;\n  }\n  private createUniformSetter(info: ProgramUniformInfo) {\n    const loc = info.location;\n    const isArray = info.isArray;\n    switch (info.type) {\n      case WebGLEnum.FLOAT:\n        return this.getUniformSetterfv(loc);\n      case WebGLEnum.FLOAT_VEC2:\n        return this.getUniformSetter2fv(loc);\n      case WebGLEnum.FLOAT_VEC3:\n        return this.getUniformSetter3fv(loc);\n      case WebGLEnum.FLOAT_VEC4:\n        return this.getUniformSetter4fv(loc);\n      case WebGLEnum.INT:\n        return this.getUniformSetteriv(loc);\n      case WebGLEnum.INT_VEC2:\n        return this.getUniformSetter2iv(loc);\n      case WebGLEnum.INT_VEC3:\n        return this.getUniformSetter3iv(loc);\n      case WebGLEnum.INT_VEC4:\n        return this.getUniformSetter4iv(loc);\n      case WebGLEnum.UNSIGNED_INT:\n        return this.getUniformSetteruiv(loc);\n      case WebGLEnum.UNSIGNED_INT_VEC2:\n        return this.getUniformSetter2uiv(loc);\n      case WebGLEnum.UNSIGNED_INT_VEC3:\n        return this.getUniformSetter3uiv(loc);\n      case WebGLEnum.UNSIGNED_INT_VEC4:\n        return this.getUniformSetter4uiv(loc);\n      case WebGLEnum.BOOL:\n        return this.getUniformSetteriv(loc);\n      case WebGLEnum.BOOL_VEC2:\n        return this.getUniformSetter2iv(loc);\n      case WebGLEnum.BOOL_VEC3:\n        return this.getUniformSetter3iv(loc);\n      case WebGLEnum.BOOL_VEC4:\n        return this.getUniformSetter4iv(loc);\n      case WebGLEnum.FLOAT_MAT2:\n        return this.getUniformSetterMatrix2(loc);\n      case WebGLEnum.FLOAT_MAT2x3:\n        return this.getUniformSetterMatrix23(loc);\n      case WebGLEnum.FLOAT_MAT2x4:\n        return this.getUniformSetterMatrix24(loc);\n      case WebGLEnum.FLOAT_MAT3:\n        return this.getUniformSetterMatrix3(loc);\n      case WebGLEnum.FLOAT_MAT3x2:\n        return this.getUniformSetterMatrix32(loc);\n      case WebGLEnum.FLOAT_MAT3x4:\n        return this.getUniformSetterMatrix34(loc);\n      case WebGLEnum.FLOAT_MAT4:\n        return this.getUniformSetterMatrix4(loc);\n      case WebGLEnum.FLOAT_MAT4x2:\n        return this.getUniformSetterMatrix42(loc);\n      case WebGLEnum.FLOAT_MAT4x3:\n        return this.getUniformSetterMatrix43(loc);\n      case WebGLEnum.SAMPLER_2D:\n      case WebGLEnum.SAMPLER_2D_SHADOW:\n      case WebGLEnum.INT_SAMPLER_2D:\n      case WebGLEnum.UNSIGNED_INT_SAMPLER_2D: {\n        const unit = this._unitCounter;\n        this._unitCounter += info.size;\n        return isArray\n          ? this.getSamplerArraySetter(loc, WebGLEnum.TEXTURE_2D, unit, info.size)\n          : this.getSamplerSetter(loc, WebGLEnum.TEXTURE_2D, unit);\n      }\n      case WebGLEnum.SAMPLER_2D_ARRAY:\n      case WebGLEnum.SAMPLER_2D_ARRAY_SHADOW:\n      case WebGLEnum.INT_SAMPLER_2D_ARRAY:\n      case WebGLEnum.UNSIGNED_INT_SAMPLER_2D_ARRAY: {\n        const unit = this._unitCounter;\n        this._unitCounter += info.size;\n        return isArray\n          ? this.getSamplerArraySetter(loc, WebGLEnum.TEXTURE_2D_ARRAY, unit, info.size)\n          : this.getSamplerSetter(loc, WebGLEnum.TEXTURE_2D_ARRAY, unit);\n      }\n      case WebGLEnum.SAMPLER_CUBE:\n      case WebGLEnum.SAMPLER_CUBE_SHADOW:\n      case WebGLEnum.INT_SAMPLER_CUBE:\n      case WebGLEnum.UNSIGNED_INT_SAMPLER_CUBE: {\n        const unit = this._unitCounter;\n        this._unitCounter += info.size;\n        return isArray\n          ? this.getSamplerArraySetter(loc, WebGLEnum.TEXTURE_CUBE_MAP, unit, info.size)\n          : this.getSamplerSetter(loc, WebGLEnum.TEXTURE_CUBE_MAP, unit);\n      }\n      case WebGLEnum.SAMPLER_3D:\n      case WebGLEnum.INT_SAMPLER_3D:\n      case WebGLEnum.UNSIGNED_INT_SAMPLER_3D: {\n        const unit = this._unitCounter;\n        this._unitCounter += info.size;\n        return isArray\n          ? this.getSamplerArraySetter(loc, WebGLEnum.TEXTURE_3D, unit, info.size)\n          : this.getSamplerSetter(loc, WebGLEnum.TEXTURE_3D, unit);\n      }\n      default: {\n        console.log(`Error: unknown uniform type: ${info.type}`);\n      }\n    }\n  }\n  private createUniformSetters() {\n    const uniformSetters = {};\n    const gl = this._device.context;\n    const numUniforms = gl.getProgramParameter(\n      this._object,\n      WebGLEnum.ACTIVE_UNIFORMS,\n    ) as number;\n\n    this._uniformInfo = [];\n    for (let index = 0; index < numUniforms; index++) {\n      const info = gl.getActiveUniform(this._object, index);\n      let name = info.name;\n      let isArray = false;\n      if (name.startsWith('gl_') || name.startsWith('webgl_')) {\n        this._uniformInfo.push(null);\n      } else {\n        if (name.substr(-3) === '[0]') {\n          // is array\n          name = name.substr(0, name.length - 3);\n          isArray = true;\n        }\n        const size = info.size;\n        const type = info.type;\n        const blockIndex = -1;\n        const offset = 0;\n        const location = gl.getUniformLocation(this._object, info.name);\n        const view = null;\n        const { ctor: viewCtor, elementSize: viewElementSize } = this.getTypedArrayInfo(info.type);\n        const uniformInfo = { index, name, size, type, blockIndex, offset, isArray, location, view, viewCtor, viewElementSize };\n        this._uniformInfo.push(uniformInfo);\n        if (location) {\n          uniformSetters[name] = this.createUniformSetter(uniformInfo);\n        }\n      }\n    }\n    if (isWebGL2(gl)) {\n      this._blockInfo = {};\n      const numBlocks = gl.getProgramParameter(this._object, WebGLEnum.ACTIVE_UNIFORM_BLOCKS) as number;\n      for (let i = 0; i < numBlocks; i++) {\n        const name = gl.getActiveUniformBlockName(this._object, i);\n        const index = gl.getUniformBlockIndex(this._object, name);\n        const usedInVS = !!gl.getActiveUniformBlockParameter(this._object, i, WebGLEnum.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER);\n        const usedInFS = !!gl.getActiveUniformBlockParameter(this._object, i, WebGLEnum.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER);\n        const used = usedInVS || usedInFS;\n        const size = gl.getActiveUniformBlockParameter(this._object, i, WebGLEnum.UNIFORM_BLOCK_DATA_SIZE) as number;\n        const uniformIndices = gl.getActiveUniformBlockParameter(this._object, i, WebGLEnum.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES) as Uint32Array;\n        this._blockInfo[name] = { index, used, size, uniformIndices };\n        gl.uniformBlockBinding(this._object, index, index);\n      }\n      /*\n      const indices: number[] = this._uniformInfo.map(val => val.index);\n      const types = gl.getActiveUniforms(this._object, indices, WebGLEnum.UNIFORM_TYPE);\n      const sizes = gl.getActiveUniforms(this._object, indices, WebGLEnum.UNIFORM_SIZE);\n      const blockIndices = gl.getActiveUniforms(this._object, indices, WebGLEnum.UNIFORM_BLOCK_INDEX);\n      const offsets = gl.getActiveUniforms(this._object, indices, WebGLEnum.UNIFORM_OFFSET);\n      this._uniformInfo.forEach((val, index) => {\n        val.type = types[index];\n        val.size = sizes[index];\n        val.blockIndex = blockIndices[index];\n        val.offset = offsets[index];\n      });\n      */\n    }\n    return uniformSetters;\n  }\n  private getUniformSetterf(location: WebGLUniformLocation) {\n    return (value: number) => {\n      this._device.context.uniform1f(location, value);\n    };\n  }\n  private getUniformSetterfv(location: WebGLUniformLocation) {\n    return (value: any) => {\n      this._device.context.uniform1fv(location, (value.getArray && value.getArray()) || value);\n    };\n  }\n  private getUniformSetter2fv(location: WebGLUniformLocation) {\n    return (value: any) => {\n      this._device.context.uniform2fv(location, (value.getArray && value.getArray()) || value);\n    };\n  }\n  private getUniformSetter3fv(location: WebGLUniformLocation) {\n    return (value: any) => {\n      this._device.context.uniform3fv(location, (value.getArray && value.getArray()) || value);\n    };\n  }\n  private getUniformSetter4fv(location: WebGLUniformLocation) {\n    return (value: any) => {\n      this._device.context.uniform4fv(location, (value.getArray && value.getArray()) || value);\n    };\n  }\n  private getUniformSetteri(location: WebGLUniformLocation) {\n    return (value: number) => {\n      this._device.context.uniform1i(location, value);\n    };\n  }\n  private getUniformSetteriv(location: WebGLUniformLocation) {\n    return (value: any) => {\n      this._device.context.uniform1iv(location, (value.getArray && value.getArray()) || value);\n    };\n  }\n  private getUniformSetter2iv(location: WebGLUniformLocation) {\n    return (value: any) => {\n      this._device.context.uniform2iv(location, (value.getArray && value.getArray()) || value);\n    };\n  }\n  private getUniformSetter3iv(location: WebGLUniformLocation) {\n    return (value: any) => {\n      this._device.context.uniform3iv(location, (value.getArray && value.getArray()) || value);\n    };\n  }\n  private getUniformSetter4iv(location: WebGLUniformLocation) {\n    return (value: any) => {\n      this._device.context.uniform4iv(location, (value.getArray && value.getArray()) || value);\n    };\n  }\n  private getUniformSetterui(location: WebGLUniformLocation) {\n    return (value: number) => {\n      (this._device.context as WebGL2RenderingContext).uniform1ui(location, value);\n    };\n  }\n  private getUniformSetteruiv(location: WebGLUniformLocation) {\n    return (value: any) => {\n      (this._device.context as WebGL2RenderingContext).uniform1uiv(location, (value.getArray && value.getArray()) || value);\n    };\n  }\n  private getUniformSetter2uiv(location: WebGLUniformLocation) {\n    return (value: any) => {\n      (this._device.context as WebGL2RenderingContext).uniform2uiv(location, (value.getArray && value.getArray()) || value);\n    };\n  }\n  private getUniformSetter3uiv(location: WebGLUniformLocation) {\n    return (value: any) => {\n      (this._device.context as WebGL2RenderingContext).uniform3uiv(location, (value.getArray && value.getArray()) || value);\n    };\n  }\n  private getUniformSetter4uiv(location: WebGLUniformLocation) {\n    return (value: any) => {\n      (this._device.context as WebGL2RenderingContext).uniform4uiv(location, (value.getArray && value.getArray()) || value);\n    };\n  }\n  private getUniformSetterMatrix2(location: WebGLUniformLocation) {\n    return (value: any) => {\n      this._device.context.uniformMatrix2fv(\n        location,\n        false,\n        (value.getArray && value.getArray()) || value,\n      );\n    };\n  }\n  private getUniformSetterMatrix23(location: WebGLUniformLocation) {\n    return (value: any) => {\n      (this._device.context as WebGL2RenderingContext).uniformMatrix2x3fv(\n        location,\n        false,\n        (value.getArray && value.getArray()) || value,\n      );\n    };\n  }\n  private getUniformSetterMatrix24(location: WebGLUniformLocation) {\n    return (value: any) => {\n      (this._device.context as WebGL2RenderingContext).uniformMatrix2x4fv(\n        location,\n        false,\n        (value.getArray && value.getArray()) || value,\n      );\n    };\n  }\n  private getUniformSetterMatrix32(location: WebGLUniformLocation) {\n    return (value: any) => {\n      (this._device.context as WebGL2RenderingContext).uniformMatrix3x2fv(\n        location,\n        false,\n        (value.getArray && value.getArray()) || value,\n      );\n    };\n  }\n  private getUniformSetterMatrix3(location: WebGLUniformLocation) {\n    return (value: any) => {\n      (this._device.context as WebGL2RenderingContext).uniformMatrix3fv(\n        location,\n        false,\n        (value.getArray && value.getArray()) || value,\n      );\n    };\n  }\n  private getUniformSetterMatrix34(location: WebGLUniformLocation) {\n    return (value: any) => {\n      (this._device.context as WebGL2RenderingContext).uniformMatrix3x4fv(\n        location,\n        false,\n        (value.getArray && value.getArray()) || value,\n      );\n    };\n  }\n  private getUniformSetterMatrix42(location: WebGLUniformLocation) {\n    return (value: any) => {\n      (this._device.context as WebGL2RenderingContext).uniformMatrix4x2fv(\n        location,\n        false,\n        (value.getArray && value.getArray()) || value,\n      );\n    };\n  }\n  private getUniformSetterMatrix43(location: WebGLUniformLocation) {\n    return (value: any) => {\n      (this._device.context as WebGL2RenderingContext).uniformMatrix4x3fv(\n        location,\n        false,\n        (value.getArray && value.getArray()) || value,\n      );\n    };\n  }\n  private getUniformSetterMatrix4(location: WebGLUniformLocation) {\n    return (value: any) => {\n      this._device.context.uniformMatrix4fv(\n        location,\n        false,\n        (value.getArray && value.getArray()) || value,\n      );\n    };\n  }\n  private getSamplerSetter(location: WebGLUniformLocation, target: number, unit: number) {\n    const gl = this._device.context;\n    return isWebGL2(gl) ? (texture: [WebGLBaseTexture, WebGLTextureSampler]) => {\n      gl.uniform1i(location, unit);\n      gl.activeTexture(this._device.context.TEXTURE0 + unit);\n      gl.bindTexture(target, texture?.[0]?.object || null);\n      gl.bindSampler(unit, texture?.[1]?.object || null);\n    } : (texture: [WebGLBaseTexture, WebGLTextureSampler]) => {\n      gl.uniform1i(location, unit);\n      gl.activeTexture(this._device.context.TEXTURE0 + unit);\n      gl.bindTexture(target, texture?.[0]?.object || null);\n    };\n  }\n  private getSamplerArraySetter(\n    location: WebGLUniformLocation,\n    target: number,\n    unit: number,\n    size: number,\n  ) {\n    const units = new Int32Array(size);\n    for (let i = 0; i < size; i++) {\n      units[i] = unit + i;\n    }\n    const gl = this._device.context;\n    return isWebGL2(gl)\n      ? (textures: Array<WebGLBaseTexture>) => {\n        gl.uniform1iv(location, units);\n        textures.forEach((texture, index) => {\n          gl.activeTexture(this._device.context.TEXTURE0 + units[index]);\n          gl.bindTexture(target, texture?.object || null);\n          gl.bindSampler(units[index], texture?.sampler.object || null);\n        });\n      }\n      : (textures: Array<WebGLBaseTexture>) => {\n        gl.uniform1iv(location, units);\n        textures.forEach((texture, index) => {\n          gl.activeTexture(this._device.context.TEXTURE0 + units[index]);\n          gl.bindTexture(target, texture?.object || null);\n        });\n      };\n  }\n  private getTypedArrayInfo(type: number): { ctor: TypedArrayConstructor<UniformBlockArray>, elementSize: number } {\n    let ctor: TypedArrayConstructor<UniformBlockArray> = null;\n    let elementSize = 0;\n    switch (type) {\n      case WebGLEnum.INT:\n        ctor = Int32Array;\n        elementSize = 4;\n        break;\n      case WebGLEnum.INT_VEC2:\n        ctor = Int32Array;\n        elementSize = 8;\n        break;\n      case WebGLEnum.INT_VEC3:\n        ctor = Int32Array;\n        elementSize = 12;\n        break;\n      case WebGLEnum.INT_VEC4:\n        ctor = Int32Array;\n        elementSize = 16;\n        break;\n      case WebGLEnum.UNSIGNED_INT:\n      case WebGLEnum.BOOL:\n        ctor = Uint32Array;\n        elementSize = 4;\n        break;\n      case WebGLEnum.UNSIGNED_INT_VEC2:\n      case WebGLEnum.BOOL_VEC2:\n        ctor = Uint32Array;\n        elementSize = 8;\n        break;\n      case WebGLEnum.UNSIGNED_INT_VEC3:\n      case WebGLEnum.BOOL_VEC3:\n        ctor = Uint32Array;\n        elementSize = 12;\n        break;\n      case WebGLEnum.UNSIGNED_INT_VEC4:\n      case WebGLEnum.BOOL_VEC4:\n        ctor = Uint32Array;\n        elementSize = 16;\n        break;\n      case WebGLEnum.FLOAT:\n        ctor = Float32Array;\n        elementSize = 4;\n        break;\n      case WebGLEnum.FLOAT_VEC2:\n        ctor = Float32Array;\n        elementSize = 8;\n        break;\n      case WebGLEnum.FLOAT_VEC3:\n        ctor = Float32Array;\n        elementSize = 12;\n        break;\n      case WebGLEnum.FLOAT_VEC4:\n      case WebGLEnum.FLOAT_MAT2:\n        ctor = Float32Array;\n        elementSize = 16;\n        break;\n      case WebGLEnum.FLOAT_MAT2x3:\n      case WebGLEnum.FLOAT_MAT3x2:\n        ctor = Float32Array;\n        elementSize = 24;\n        break;\n      case WebGLEnum.FLOAT_MAT2x4:\n      case WebGLEnum.FLOAT_MAT4x2:\n        ctor = Float32Array;\n        elementSize = 32;\n        break;\n      case WebGLEnum.FLOAT_MAT3:\n        ctor = Float32Array;\n        elementSize = 36;\n        break;\n      case WebGLEnum.FLOAT_MAT3x4:\n      case WebGLEnum.FLOAT_MAT4x3:\n        ctor = Float32Array;\n        elementSize = 48;\n        break;\n      case WebGLEnum.FLOAT_MAT4:\n        ctor = Float32Array;\n        elementSize = 64;\n        break;\n    }\n    return { ctor, elementSize };\n  }\n}\n"],"names":[],"mappings":"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"}