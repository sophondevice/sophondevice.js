{"version":3,"file":"shadowmap.shaderlib.js","sources":["../../../../../libs/device/src/scene/renderers/shadowmap.shaderlib.ts"],"sourcesContent":["import { ShaderLib } from \"../materiallib\";\r\nimport { TextureFormat, PBInsideFunctionScope, PBShaderExp, isDepthTextureFormat, PBGlobalScope, PBIfScope } from \"../../device\";\r\nimport { LIGHT_TYPE_DIRECTIONAL, LIGHT_TYPE_POINT, LIGHT_TYPE_SPOT } from \"../values\";\r\n\r\nconst PCF_KERNEL_3x3 = [\r\n  [0.5, 1.0, 0.5],\r\n  [1.0, 1.0, 1.0],\r\n  [0.5, 1.0, 0.5],\r\n];\r\nconst PCF_KERNEL_SUM_3x3 = 7;\r\n\r\nconst PCF_KERNEL_5x5 = [\r\n  [0.0, 0.5, 1.0, 0.5, 0.0],\r\n  [0.5, 1.0, 1.0, 1.0, 0.5],\r\n  [1.0, 1.0, 1.0, 1.0, 1.0],\r\n  [0.5, 1.0, 1.0, 1.0, 0.5],\r\n  [0.0, 0.5, 1.0, 0.5, 0.0],\r\n];\r\nconst PCF_KERNEL_SUM_5x5 = 17;\r\n\r\nconst PCF_KERNEL_7x7 = [\r\n  [0.0, 0.0, 0.5, 1.0, 0.5, 0.0, 0.0],\r\n  [0.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.0],\r\n  [0.5, 1.0, 1.0, 1.0, 1.0, 1.0, 0.5],\r\n  [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],\r\n  [0.5, 1.0, 1.0, 1.0, 1.0, 1.0, 0.5],\r\n  [0.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.0],\r\n  [0.0, 0.0, 0.5, 1.0, 0.5, 0.0, 0.0],\r\n];\r\nconst PCF_KERNEL_SUM_7x7 = 33;\r\n\r\nconst PCF_KERNEL_9x9 = [\r\n  [0.0, 0.0, 0.0, 0.5, 1.0, 0.5, 0.0, 0.0, 0.0],\r\n  [0.0, 0.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.0, 0.0],\r\n  [0.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.0],\r\n  [0.5, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.5],\r\n  [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0],\r\n  [0.5, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.5],\r\n  [0.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.0],\r\n  [0.0, 0.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.0, 0.0],\r\n  [0.0, 0.0, 0.0, 0.5, 1.0, 0.5, 0.0, 0.0, 0.0],\r\n];\r\nconst PCF_KERNEL_SUM_9x9 = 53;\r\n\r\nconst PCF_POISSON_DISC = [\r\n  [0.511749, 0.547686],\r\n  [0.58929, 0.257224],\r\n  [0.165018, 0.57663],\r\n  [0.407692, 0.742285],\r\n  [0.707012, 0.646523],\r\n  [0.31463, 0.466825],\r\n  [0.801257, 0.485186],\r\n  [0.418136, 0.146517],\r\n  [0.579889, 0.0368284],\r\n  [0.79801, 0.140114],\r\n  [-0.0413185, 0.371455],\r\n  [-0.0529108, 0.627352],\r\n  [0.0821375, 0.882071],\r\n  [0.17308, 0.301207],\r\n  [-0.120452, 0.867216],\r\n  [0.371096, 0.916454],\r\n  [-0.178381, 0.146101],\r\n  [-0.276489, 0.550525],\r\n  [0.12542, 0.126643],\r\n  [-0.296654, 0.286879],\r\n  [0.261744, -0.00604975],\r\n  [-0.213417, 0.715776],\r\n  [0.425684, -0.153211],\r\n  [-0.480054, 0.321357],\r\n  [-0.0717878, -0.0250567],\r\n  [-0.328775, -0.169666],\r\n  [-0.394923, 0.130802],\r\n  [-0.553681, -0.176777],\r\n  [-0.722615, 0.120616],\r\n  [-0.693065, 0.309017],\r\n  [0.603193, 0.791471],\r\n  [-0.0754941, -0.297988],\r\n  [0.109303, -0.156472],\r\n  [0.260605, -0.280111],\r\n  [0.129731, -0.487954],\r\n  [-0.537315, 0.520494],\r\n  [-0.42758, 0.800607],\r\n  [0.77309, -0.0728102],\r\n  [0.908777, 0.328356],\r\n  [0.985341, 0.0759158],\r\n  [0.947536, -0.11837],\r\n  [-0.103315, -0.610747],\r\n  [0.337171, -0.584],\r\n  [0.210919, -0.720055],\r\n  [0.41894, -0.36769],\r\n  [-0.254228, -0.49368],\r\n  [-0.428562, -0.404037],\r\n  [-0.831732, -0.189615],\r\n  [-0.922642, 0.0888026],\r\n  [-0.865914, 0.427795],\r\n  [0.706117, -0.311662],\r\n  [0.545465, -0.520942],\r\n  [-0.695738, 0.664492],\r\n  [0.389421, -0.899007],\r\n  [0.48842, -0.708054],\r\n  [0.760298, -0.62735],\r\n  [-0.390788, -0.707388],\r\n  [-0.591046, -0.686721],\r\n  [-0.769903, -0.413775],\r\n  [-0.604457, -0.502571],\r\n  [-0.557234, 0.00451362],\r\n  [0.147572, -0.924353],\r\n  [-0.0662488, -0.892081],\r\n  [0.863832, -0.40720],\r\n];\r\n\r\nfunction getShadowMapTexelSize(scope: PBInsideFunctionScope): PBShaderExp {\r\n  const pb = scope.$builder;\r\n  return pb.getDeviceType() === 'webgl' ? scope.global.light.shadowCameraParams.w : scope.global.light.lightParams[5].w;\r\n}\r\n\r\nfunction getShadowMapSize(scope: PBInsideFunctionScope): PBShaderExp {\r\n  const pb = scope.$builder;\r\n  return pb.getDeviceType() === 'webgl' ? scope.global.light.shadowCameraParams.z : scope.global.light.lightParams[5].z;\r\n}\r\n\r\nexport function computeShadowMapDepth(scope: PBInsideFunctionScope, targetFormat: TextureFormat): PBShaderExp {\r\n  const funcNameComputeShadowMapDepth = 'lib_computeShadowMapDepth';\r\n  const pb = scope.$builder;\r\n  const lib = new ShaderLib(pb);\r\n  if (!pb.getFunction(funcNameComputeShadowMapDepth)) {\r\n    pb.globalScope.$function(funcNameComputeShadowMapDepth, [], function () {\r\n      if (isDepthTextureFormat(targetFormat)) {\r\n        // use native shadowmap\r\n        this.$return(pb.vec4(pb.emulateDepthClamp ? pb.clamp(scope.$inputs.clamppedDepth, 0, 1) : scope.$builtins.fragCoord.z, 0, 0, 1));\r\n      } else {\r\n        this.$l.depth = pb.float();\r\n        this.$if(pb.equal(this.global.light.lightType, LIGHT_TYPE_DIRECTIONAL), function () {\r\n          this.depth = pb.emulateDepthClamp ? pb.clamp(this.$inputs.clamppedDepth, 0, 1) : this.$builtins.fragCoord.z;\r\n        }).$elseif(pb.equal(this.global.light.lightType, LIGHT_TYPE_POINT), function () {\r\n          this.$l.lightSpacePos = pb.mul(this.global.light.viewMatrix, pb.vec4(this.$query(ShaderLib.USAGE_WORLD_POSITION).xyz, 1));\r\n          this.depth = pb.clamp(pb.div(pb.length(this.lightSpacePos.xyz), this.global.light.positionRange.w), 0, 1);\r\n        }).$else(function () {\r\n          this.$l.lightSpacePos = pb.mul(this.global.light.viewMatrix, pb.vec4(scope.$query(ShaderLib.USAGE_WORLD_POSITION).xyz, 1));\r\n          this.depth = pb.clamp(pb.div(pb.neg(this.lightSpacePos.z), scope.global.light.positionRange.w), 0, 1);\r\n        });\r\n        this.$return(targetFormat === TextureFormat.RGBA8UNORM ? lib.encodeNormalizedFloatToRGBA(this.depth) : pb.vec4(this.depth, 0, 0, 1));\r\n      }\r\n    });\r\n  }\r\n  return pb.globalScope[funcNameComputeShadowMapDepth]();\r\n}\r\n\r\nexport function computeReceiverPlaneDepthBias(scope: PBInsideFunctionScope, texCoord: PBShaderExp): PBShaderExp {\r\n  const funcNameComputeReceiverPlaneDepthBias = 'lib_computeReceiverPlaneDepthBias';\r\n  const pb = scope.$builder;\r\n  if (!pb.getFunction(funcNameComputeReceiverPlaneDepthBias)) {\r\n    pb.globalScope.$function(funcNameComputeReceiverPlaneDepthBias, [pb.vec4('coords')], function () {\r\n      this.$l.dx = pb.dpdx(this.coords);\r\n      this.$l.dy = pb.dpdy(this.coords);\r\n      this.$l.biasMultiply = pb.float(1);\r\n      this.$l.uv = pb.vec2(pb.sub(pb.mul(this.dy.y, this.dx.z), pb.mul(this.dx.y, this.dy.z)), pb.sub(pb.mul(this.dx.x, this.dy.z), pb.mul(this.dy.x, this.dx.z)));\r\n      this.$l.uv = pb.mul(this.$l.uv, pb.div(this.biasMultiply, pb.sub(pb.mul(this.dx.x, this.dy.y), pb.mul(this.dx.y, this.dy.x))));\r\n      // from unity shader\r\n      this.$l.minFractionalError = pb.float(0.01);\r\n      this.$l.fractionalSamplingError = pb.dot(pb.vec2(getShadowMapTexelSize(this)), pb.abs(this.$l.uv));\r\n      this.$l.staticBias = pb.min(this.$l.fractionalSamplingError, this.$l.minFractionalError);\r\n      // return\r\n      this.$return(pb.vec3(this.$l.uv, this.$l.staticBias));\r\n    });\r\n  }\r\n  return pb.globalScope[funcNameComputeReceiverPlaneDepthBias](texCoord);\r\n}\r\n\r\n// reference: github.com/google/filament\r\nfunction interleavedGradientNoise(scope: PBInsideFunctionScope, c: PBShaderExp): PBShaderExp {\r\n  const pb = scope.$builder;\r\n  const x = 0.06711056;\r\n  const y = 0.00583715;\r\n  const z = 52.9829189;\r\n  return pb.fract(pb.mul(z, pb.fract(pb.dot(c, pb.vec2(x, y)))));\r\n}\r\n\r\n// reference: github.com/google/filament\r\nfunction getRandomRotationMatrix(scope: PBInsideFunctionScope, fragCoord: PBShaderExp): PBShaderExp {\r\n  const funcNameGetRandomRotationMatrix = 'lib_getRandomRotationMatrix';\r\n  const pb = scope.$builder;\r\n  if (!pb.getFunction(funcNameGetRandomRotationMatrix)) {\r\n    pb.globalScope.$function(funcNameGetRandomRotationMatrix, [pb.vec2('fragCoord')], function () {\r\n      this.$l.randomAngle = pb.mul(interleavedGradientNoise(this, fragCoord), 2 * Math.PI);\r\n      this.$l.randomBase = pb.vec2(pb.cos(this.randomAngle), pb.sin(this.randomAngle));\r\n      this.$return(pb.mat2(this.randomBase.x, this.randomBase.y, pb.neg(this.randomBase.y), this.randomBase.x));\r\n    });\r\n  }\r\n  return pb.globalScope[funcNameGetRandomRotationMatrix](fragCoord);\r\n}\r\n\r\nfunction getPoissonDiscSampleRadius(scope: PBInsideFunctionScope): PBShaderExp {\r\n  const pb = scope.$builder;\r\n  return pb.device.getDeviceType() === 'webgl' ? scope.global.light.depthBias.z : scope.global.light.lightParams[4].z\r\n}\r\n\r\nfunction sampleShadowMapPCF(scope: PBInsideFunctionScope, shadowMapFormat: TextureFormat, pos: PBShaderExp, offset: PBShaderExp, depth: PBShaderExp, cascade?: PBShaderExp, receiverPlaneDepthBias?: PBShaderExp): PBShaderExp {\r\n  const funcNameSampleShadowMapPCF = 'lib_sampleShadowMapPCF';\r\n  const pb = scope.$builder;\r\n  const lib = new ShaderLib(pb);\r\n  const nativeShadowMap = isDepthTextureFormat(shadowMapFormat);\r\n  if (!pb.getFunction(funcNameSampleShadowMapPCF)) {\r\n    pb.globalScope.$function(funcNameSampleShadowMapPCF, [\r\n      pb.vec2('coords'),\r\n      pb.float('z'),\r\n      pb.vec2('offset'),\r\n      ...(cascade ? [pb.int('cascade')] : []),\r\n      ...(receiverPlaneDepthBias ? [pb.vec3('receiverPlaneDepthBias')] : [])\r\n    ], function () {\r\n      const sampleDepth = (false && receiverPlaneDepthBias) ? pb.add(this.z, pb.dot(this.offset, this.receiverPlaneDepthBias.xy)) : this.z;\r\n      const uv = pb.add(this.coords, this.offset);\r\n      if (nativeShadowMap) {\r\n        this.$return(cascade && pb.getDeviceType() !== 'webgl'\r\n          ? pb.textureArraySampleCompareLevel(this.shadowMap, uv, this.cascade, sampleDepth)\r\n          : pb.textureSampleCompareLevel(this.shadowMap, uv, sampleDepth));\r\n      } else {\r\n        this.$l.shadowTex = cascade && pb.getDeviceType() !== 'webgl'\r\n          ? pb.textureArraySampleLevel(this.shadowMap, uv, this.cascade, 0)\r\n          : pb.textureSampleLevel(this.shadowMap, uv, 0);\r\n        if (shadowMapFormat === TextureFormat.RGBA8UNORM) {\r\n          this.shadowTex.x = lib.decodeNormalizedFloatFromRGBA(this.shadowTex);\r\n        }\r\n        this.$return(pb.step(sampleDepth, this.shadowTex.x));\r\n      }\r\n    });\r\n  }\r\n  return pb.globalScope[funcNameSampleShadowMapPCF](\r\n    pos,\r\n    depth,\r\n    offset,\r\n    ...(cascade ? [cascade] : []),\r\n    ...(receiverPlaneDepthBias ? [receiverPlaneDepthBias] : []));\r\n}\r\n\r\nfunction sampleShadowMap(scope: PBInsideFunctionScope, lightType: number, shadowMapFormat: TextureFormat, pos: PBShaderExp, depth: PBShaderExp, cascade?: PBShaderExp): PBShaderExp {\r\n  const funcNameSampleShadowMap = 'lib_sampleShadowMap';\r\n  const pb = scope.$builder;\r\n  const lib = new ShaderLib(pb);\r\n  const nativeShadowMap = isDepthTextureFormat(shadowMapFormat);\r\n  if (!pb.getFunction(funcNameSampleShadowMap)) {\r\n    pb.globalScope.$function(funcNameSampleShadowMap, [lightType === LIGHT_TYPE_POINT ? pb.vec3('coords') : pb.vec2('coords'), pb.float('z'), ...(cascade ? [pb.int('cascade')] : [])], function () {\r\n      if (lightType === LIGHT_TYPE_POINT) {\r\n        if (nativeShadowMap) {\r\n          this.$return(pb.clamp(pb.textureSampleCompareLevel(this.shadowMap, this.coords, this.z), 0, 1));\r\n        } else {\r\n          this.$l.shadowTex = pb.textureSampleLevel(this.shadowMap, this.coords, 0);\r\n          if (shadowMapFormat === TextureFormat.RGBA8UNORM) {\r\n            this.shadowTex.x = lib.decodeNormalizedFloatFromRGBA(this.shadowTex);\r\n          }\r\n          this.$return(pb.step(this.z, this.shadowTex.x));\r\n        }\r\n      } else {\r\n        if (nativeShadowMap) {\r\n          this.$return(cascade && pb.getDeviceType() !== 'webgl'\r\n            ? pb.textureArraySampleCompareLevel(this.shadowMap, this.coords, this.cascade, this.z)\r\n            : pb.textureSampleCompareLevel(this.shadowMap, this.coords, this.z));\r\n        } else {\r\n          this.$l.shadowTex = cascade && pb.getDeviceType() !== 'webgl'\r\n            ? pb.textureArraySampleLevel(this.shadowMap, this.coords, this.cascade, 0)\r\n            : pb.textureSampleLevel(this.shadowMap, this.coords, 0);\r\n          if (shadowMapFormat === TextureFormat.RGBA8UNORM) {\r\n            this.shadowTex.x = lib.decodeNormalizedFloatFromRGBA(this.shadowTex);\r\n          }\r\n          this.$return(pb.step(this.z, this.shadowTex.x));\r\n        }\r\n      }\r\n    });\r\n  }\r\n  return cascade ? pb.globalScope[funcNameSampleShadowMap](pos, depth, cascade) : pb.globalScope[funcNameSampleShadowMap](pos, depth);\r\n}\r\n\r\nfunction chebyshevUpperBound(scope: PBInsideFunctionScope, distance: PBShaderExp, occluder: PBShaderExp): PBShaderExp {\r\n  const funcNameChebyshevUpperBound = 'lib_chebyshevUpperBound';\r\n  const pb = scope.$builder;\r\n  if (!pb.getFunction(funcNameChebyshevUpperBound)) {\r\n    pb.globalScope.$function(funcNameChebyshevUpperBound, [pb.float('distance'), pb.vec2('occluder')], function () {\r\n      this.$l.shadow = pb.float(1);\r\n      this.$l.test = pb.step(this.distance, this.occluder.x);\r\n      this.$if(pb.notEqual(this.test, 1), function () {\r\n        this.$l.d = pb.sub(this.distance, this.occluder.x);\r\n        this.$l.variance = pb.max(pb.mul(this.occluder.y, this.occluder.y), 0);\r\n        const darkness = pb.device.getDeviceType() === 'webgl' ? this.global.light.depthBias.z : this.global.light.lightParams[4].z;\r\n        this.shadow = pb.div(this.variance, pb.add(this.variance, pb.mul(this.d, this.d)));\r\n        this.shadow = pb.clamp(pb.div(pb.sub(this.shadow, darkness), pb.sub(1, darkness)), 0, 1);\r\n      });\r\n      this.$return(this.shadow);\r\n    });\r\n  }\r\n  return pb.globalScope[funcNameChebyshevUpperBound](distance, occluder);\r\n}\r\n\r\nexport function filterShadowVSM(scope: PBInsideFunctionScope, lightType: number, shadowMapFormat: TextureFormat, texCoord: PBShaderExp, cascade?: PBShaderExp): PBShaderExp {\r\n  const funcNameFilterShadowVSM = 'lib_filterShadowVSM';\r\n  const pb = scope.$builder;\r\n  const lib = new ShaderLib(pb);\r\n  if (!pb.getFunction(funcNameFilterShadowVSM)) {\r\n    pb.globalScope.$function(funcNameFilterShadowVSM, [\r\n      pb.vec4('texCoord'),\r\n      ...(cascade ? [pb.int('cascade')] : [])\r\n    ], function () {\r\n      if (lightType === LIGHT_TYPE_POINT) {\r\n        this.$l.shadowTex = pb.textureSampleLevel(this.shadowMap, this.texCoord.xyz, 0);\r\n        this.$return(chebyshevUpperBound(this, this.texCoord.w, shadowMapFormat === TextureFormat.RGBA8UNORM ? lib.decode2HalfFromRGBA(this.shadowTex) : this.shadowTex.rg));\r\n      } else {\r\n        if (pb.getDeviceType() !== 'webgl' && cascade) {\r\n          this.$l.shadowTex = pb.textureArraySampleLevel(this.shadowMap, this.texCoord.xy, this.cascade, 0);\r\n        } else {\r\n          this.$l.shadowTex = pb.textureSampleLevel(this.shadowMap, this.texCoord.xy, 0);\r\n        }\r\n        this.$return(chebyshevUpperBound(this, this.texCoord.z, shadowMapFormat === TextureFormat.RGBA8UNORM ? lib.decode2HalfFromRGBA(this.shadowTex) : this.shadowTex.rg));\r\n      }\r\n    });\r\n  }\r\n  return pb.globalScope[funcNameFilterShadowVSM](texCoord, ...(cascade ? [cascade] : []));\r\n}\r\n\r\nexport function filterShadowESM(scope: PBInsideFunctionScope, lightType: number, shadowMapFormat: TextureFormat, texCoord: PBShaderExp, cascade?: PBShaderExp): PBShaderExp {\r\n  const funcNameFilterShadowESM = 'lib_filterShadowESM';\r\n  const pb = scope.$builder;\r\n  const lib = new ShaderLib(pb);\r\n  if (!pb.getFunction(funcNameFilterShadowESM)) {\r\n    pb.globalScope.$function(funcNameFilterShadowESM, [\r\n      pb.vec4('texCoord'),\r\n      ...(cascade ? [pb.int('cascade')] : [])\r\n    ], function () {\r\n      if (lightType === LIGHT_TYPE_POINT) {\r\n        this.$l.depth = pb.div(pb.length(this.shadowVertex.xyz), this.global.light.lightParams[0].w);\r\n        this.$l.shadowTex = pb.textureSampleLevel(this.shadowMap, this.texCoord.xyz, 0);\r\n        if (shadowMapFormat === TextureFormat.RGBA8UNORM) {\r\n          this.shadowTex.x = lib.decodeNormalizedFloatFromRGBA(this.shadowTex);\r\n        }\r\n      } else {\r\n        if (cascade && pb.getDeviceType() !== 'webgl') {\r\n          this.$l.shadowTex = pb.textureArraySampleLevel(this.shadowMap, this.texCoord.xy, this.cascade, 0);\r\n        } else {\r\n          this.$l.shadowTex = pb.textureSampleLevel(this.shadowMap, this.texCoord.xy, 0);\r\n        }\r\n        if (shadowMapFormat === TextureFormat.RGBA8UNORM) {\r\n          this.shadowTex.x = lib.decodeNormalizedFloatFromRGBA(this.shadowTex);\r\n        }\r\n        if (lightType === LIGHT_TYPE_SPOT) {\r\n          this.$l.nearFar = pb.getDeviceType() === 'webgl' ? this.global.light.shadowCameraParams.xy : this.global.light.lightParams[5].xy;\r\n          this.$l.depth = lib.nonLinearDepthToLinearNormalized(this.texCoord.z, this.nearFar);\r\n        } else {\r\n          this.$l.depth = this.texCoord.z;\r\n        }\r\n      }\r\n      const depthScale = pb.device.getDeviceType() === 'webgl' ? this.global.light.depthBias.z : this.global.light.lightParams[4].z;\r\n      this.$return(pb.clamp(pb.exp(pb.min(87, pb.mul(depthScale, pb.sub(this.shadowTex.x, this.depth)))), 0, 1));\r\n    });\r\n  }\r\n  return pb.globalScope[funcNameFilterShadowESM](\r\n    texCoord,\r\n    ...(cascade ? [cascade] : [])\r\n  );\r\n}\r\n\r\nexport function filterShadowPCF(scope: PBInsideFunctionScope, lightType: number, shadowMapFormat: TextureFormat, kernelSize: number, texCoord: PBShaderExp, receiverPlaneDepthBias?: PBShaderExp, cascade?: PBShaderExp): PBShaderExp {\r\n  const funcNameFilterShadowPCF = `lib_filterShadowPCF${kernelSize}x${kernelSize}`;\r\n  const pb = scope.$builder;\r\n  if (!pb.getFunction(funcNameFilterShadowPCF)) {\r\n    pb.globalScope.$function(funcNameFilterShadowPCF, [\r\n      pb.vec4('texCoord'),\r\n      ...(receiverPlaneDepthBias ? [pb.vec3('receiverPlaneDepthBias')] : []),\r\n      ...(cascade ? [pb.int('cascade')] : [])\r\n    ], function () {\r\n      this.$l.lightDepth = this.texCoord.z;\r\n      if (receiverPlaneDepthBias) {\r\n        this.lightDepth = pb.sub(this.lightDepth, this.receiverPlaneDepthBias.z);\r\n      }\r\n      const shadowMapTexelSize = getShadowMapTexelSize(this);\r\n      this.$l.uv = pb.add(pb.mul(this.texCoord.xy, pb.vec2(getShadowMapSize(this))), pb.vec2(0));\r\n      this.$l.st = pb.fract(this.uv);\r\n      this.$l.baseUV = pb.sub(pb.floor(this.uv), pb.vec2(0.5));\r\n      this.baseUV = pb.mul(this.baseUV, shadowMapTexelSize);\r\n      this.$l.shadow = pb.float(0);\r\n      if (kernelSize === 3) {\r\n        this.$l.uvw0 = pb.sub(pb.vec2(3), pb.mul(2, this.st));\r\n        this.$l.uvw1 = pb.add(pb.vec2(1), pb.mul(2, this.st));\r\n        this.$l.u = pb.mul(pb.vec2(pb.sub(pb.div(pb.sub(2, this.st.x), this.uvw0.x), 1), pb.add(pb.div(this.st.x, this.uvw1.x), 1)), shadowMapTexelSize);\r\n        this.$l.v = pb.mul(pb.vec2(pb.sub(pb.div(pb.sub(2, this.st.y), this.uvw0.y), 1), pb.add(pb.div(this.st.y, this.uvw1.y), 1)), shadowMapTexelSize);\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.vec2(this.u.x, this.v.x), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw0.x, this.uvw0.y));\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.vec2(this.u.y, this.v.x), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw1.x, this.uvw0.y));\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.vec2(this.u.x, this.v.y), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw0.x, this.uvw1.y));\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.vec2(this.u.y, this.v.y), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw1.x, this.uvw1.y));\r\n        this.shadow = pb.div(this.shadow, 16);\r\n      } else if (kernelSize === 5) {\r\n        this.$l.uvw0 = pb.sub(pb.vec2(4), pb.mul(this.st, 3));\r\n        this.$l.uvw1 = pb.vec2(7);\r\n        this.$l.uvw2 = pb.add(pb.vec2(1), pb.mul(this.st, 3));\r\n        this.$l.u = pb.mul(pb.vec3(pb.sub(pb.div(pb.sub(3, pb.mul(this.st.x, 2)), this.uvw0.x), 2), pb.div(pb.add(this.st.x, 3), this.uvw1.x), pb.add(pb.div(this.st.x, this.uvw2.x), 2)), shadowMapTexelSize);\r\n        this.$l.v = pb.mul(pb.vec3(pb.sub(pb.div(pb.sub(3, pb.mul(this.st.y, 2)), this.uvw0.y), 2), pb.div(pb.add(this.st.y, 3), this.uvw1.y), pb.add(pb.div(this.st.y, this.uvw2.y), 2)), shadowMapTexelSize);\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.vec2(this.u.x, this.v.x), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw0.x, this.uvw0.y));\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.vec2(this.u.y, this.v.x), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw1.x, this.uvw0.y));\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.vec2(this.u.z, this.v.x), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw2.x, this.uvw0.y));\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.vec2(this.u.x, this.v.y), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw0.x, this.uvw1.y));\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.vec2(this.u.y, this.v.y), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw1.x, this.uvw1.y));\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.vec2(this.u.z, this.v.y), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw2.x, this.uvw1.y));\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.vec2(this.u.x, this.v.z), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw0.x, this.uvw2.y));\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.vec2(this.u.y, this.v.z), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw1.x, this.uvw2.y));\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.vec2(this.u.z, this.v.z), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw2.x, this.uvw2.y));\r\n        this.shadow = pb.div(this.shadow, 144);\r\n      } else if (kernelSize === 7) {\r\n        this.$l.uvw0 = pb.sub(pb.mul(this.st, 5), pb.vec2(6));\r\n        this.$l.uvw1 = pb.sub(pb.mul(this.st, 11), pb.vec2(28));\r\n        this.$l.uvw2 = pb.sub(pb.mul(this.st, -11), pb.vec2(17));\r\n        this.$l.uvw3 = pb.sub(pb.mul(this.st, -5), 1);\r\n        this.$l.u = pb.vec4(\r\n          pb.sub(pb.div(pb.sub(pb.mul(this.st.x, 4), 5), this.uvw0.x), 3),\r\n          pb.sub(pb.div(pb.sub(pb.mul(this.st.x, 4), 16), this.uvw1.x), 1),\r\n          pb.add(pb.div(pb.sub(pb.mul(this.st.x, -7), 5), this.uvw2.x), 1),\r\n          pb.add(pb.div(pb.neg(this.st.x), this.uvw3.x), 3)\r\n        );\r\n        this.$l.v = pb.vec4(\r\n          pb.sub(pb.div(pb.sub(pb.mul(this.st.y, 4), 5), this.uvw0.y), 3),\r\n          pb.sub(pb.div(pb.sub(pb.mul(this.st.y, 4), 16), this.uvw1.y), 1),\r\n          pb.add(pb.div(pb.sub(pb.mul(this.st.y, -7), 5), this.uvw2.y), 1),\r\n          pb.add(pb.div(pb.neg(this.st.y), this.uvw3.y), 3)\r\n        );\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.mul(pb.vec2(this.u.x, this.v.x), shadowMapTexelSize), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw0.x, this.uvw0.y));\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.mul(pb.vec2(this.u.y, this.v.x), shadowMapTexelSize), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw1.x, this.uvw0.y));\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.mul(pb.vec2(this.u.z, this.v.x), shadowMapTexelSize), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw2.x, this.uvw0.y));\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.mul(pb.vec2(this.u.w, this.v.x), shadowMapTexelSize), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw3.x, this.uvw0.y));\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.mul(pb.vec2(this.u.x, this.v.y), shadowMapTexelSize), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw0.x, this.uvw1.y));\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.mul(pb.vec2(this.u.y, this.v.y), shadowMapTexelSize), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw1.x, this.uvw1.y));\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.mul(pb.vec2(this.u.z, this.v.y), shadowMapTexelSize), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw2.x, this.uvw1.y));\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.mul(pb.vec2(this.u.w, this.v.y), shadowMapTexelSize), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw3.x, this.uvw1.y));\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.mul(pb.vec2(this.u.x, this.v.z), shadowMapTexelSize), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw0.x, this.uvw2.y));\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.mul(pb.vec2(this.u.y, this.v.z), shadowMapTexelSize), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw1.x, this.uvw2.y));\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.mul(pb.vec2(this.u.z, this.v.z), shadowMapTexelSize), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw2.x, this.uvw2.y));\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.mul(pb.vec2(this.u.w, this.v.z), shadowMapTexelSize), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw3.x, this.uvw2.y));\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.mul(pb.vec2(this.u.x, this.v.w), shadowMapTexelSize), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw0.x, this.uvw3.y));\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.mul(pb.vec2(this.u.y, this.v.w), shadowMapTexelSize), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw1.x, this.uvw3.y));\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.mul(pb.vec2(this.u.z, this.v.w), shadowMapTexelSize), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw2.x, this.uvw3.y));\r\n        this.shadow = pb.add(this.shadow, pb.mul(sampleShadowMapPCF(this, shadowMapFormat, this.baseUV, pb.mul(pb.vec2(this.u.w, this.v.w), shadowMapTexelSize), this.lightDepth, this.cascade, this.receiverPlaneDepthBias), this.uvw3.x, this.uvw3.y));\r\n        this.shadow = pb.div(this.shadow, 2704);\r\n      }\r\n      this.$return(this.shadow);\r\n    });\r\n  }\r\n  return pb.globalScope[funcNameFilterShadowPCF](texCoord, ...(receiverPlaneDepthBias ? [receiverPlaneDepthBias] : []), ...(cascade ? [cascade] : []));\r\n}\r\n\r\nexport function filterShadowPoissonDisc(scope: PBInsideFunctionScope, lightType: number, shadowMapFormat: TextureFormat, tapCount: number, texCoord: PBShaderExp, receiverPlaneDepthBias?: PBShaderExp, cascade?: PBShaderExp): PBShaderExp {\r\n  const funcNameFilterShadowPoissonDisc = 'lib_filterShadowPoissonDisc';\r\n  const pb = scope.$builder;\r\n  if (!pb.getFunction(funcNameFilterShadowPoissonDisc)) {\r\n    pb.globalScope.$function(funcNameFilterShadowPoissonDisc, [\r\n      pb.vec4('texCoord'),\r\n      ...(receiverPlaneDepthBias ? [pb.vec3('receiverPlaneDepthBias')] : []),\r\n      ...(cascade ? [pb.int('cascade')] : [])\r\n    ], function () {\r\n      this.$l.lightDepth = this.texCoord.z;\r\n      if (receiverPlaneDepthBias) {\r\n        this.lightDepth = pb.sub(this.lightDepth, this.receiverPlaneDepthBias.z);\r\n      }\r\n      this.$l.duv = pb.vec2();\r\n      this.$l.filterRadius = pb.mul(getShadowMapTexelSize(this), getPoissonDiscSampleRadius(this));\r\n      this.$l.matrix = getRandomRotationMatrix(this, this.$builtins.fragCoord.xy);\r\n      this.$l.shadow = pb.float(0);\r\n      for (let i = 0; i < tapCount; i++) {\r\n        this.duv = pb.mul(this.matrix, pb.mul(pb.vec2(PCF_POISSON_DISC[i][0], PCF_POISSON_DISC[i][1]), this.filterRadius));\r\n        const sampleDepth = receiverPlaneDepthBias ? pb.add(this.lightDepth, pb.dot(this.duv, this.receiverPlaneDepthBias.xy)) : this.lightDepth;\r\n        this.shadow = pb.add(this.shadow, sampleShadowMap(this, lightType, shadowMapFormat, pb.add(this.texCoord.xy, this.duv), sampleDepth, this.cascade));\r\n      }\r\n      this.shadow = pb.div(this.shadow, tapCount);\r\n      this.$return(this.shadow);\r\n    });\r\n  }\r\n  return pb.globalScope[funcNameFilterShadowPoissonDisc](texCoord, ...(receiverPlaneDepthBias ? [receiverPlaneDepthBias] : []), ...(cascade ? [cascade] : []));\r\n}\r\n"],"names":[],"mappings":"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3B,IAAI,CAAC,EAAE,CAAC,IAAI,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;gBACtD,IAAI,CAAC,EAAE,CAAC,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC1B,IAAI,CAAC,EAAE,CAAC,IAAI,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;gBACtD,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,kBAAkB,CAAC,CAAC;gBACvM,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GA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"}