{"version":3,"file":"patch.js","sources":["../../../../../libs/device/src/scene/terrain/patch.ts"],"sourcesContent":["import { Vector3 } from \"@sophon/base\";\nimport { BoundingBox } from \"../bounding_volume\";\nimport { Primitive } from \"../primitive\";\nimport { PatchPosition } from \"./types\";\nimport { Device, GPUDataBuffer, makeVertexBufferType, PBStructTypeInfo, PrimitiveType, StructuredBuffer } from \"../../device\";\nimport type { Terrain } from './terrain';\nimport type { Quadtree } from \"./quadtree\";\nimport type { Scene } from \"../scene\";\nimport type { DrawContext } from \"../drawable\";\n\nlet patchId = 0;\nexport class TerrainPatch {\n  private _geometry: Primitive;\n  private _geometryLines: Primitive;\n  private _quadtree: Quadtree;\n  private _mipLevel: number;\n  private _offsetX: number;\n  private _offsetZ: number;\n  private _step: number;\n  private _boundingBox: BoundingBox;\n  private _lodDistance: number;\n  private _maxError: number;\n  private _parent: TerrainPatch;\n  private _offsetScale: StructuredBuffer;\n  private _id: number;\n  constructor() {\n    this._geometry = null;\n    this._geometryLines = null;\n    this._mipLevel = 0;\n    this._offsetX = 0;\n    this._offsetZ = 0;\n    this._boundingBox = null;\n    this._parent = null;\n    this._offsetScale = null;\n    this._quadtree = null;\n    this._step = 0;\n    this._lodDistance = 0;\n    this._id = patchId++;\n  }\n  initialize(scene: Scene, quadtree: Quadtree, parent: TerrainPatch, position: PatchPosition, baseVertices: StructuredBuffer, normals: Float32Array, elevations: Float32Array): boolean {\n    const device = scene.device;\n    const patchSize = quadtree.getPatchSize();\n    const rootSize = quadtree.getRootSize();\n    this._mipLevel = parent ? parent.getMipLevel() + 1 : 0;\n    const step = Math.floor((rootSize - 1) / (patchSize - 1)) >> this._mipLevel;\n    const interval = (patchSize - 1) * step;\n    const parentOffsetX = parent ? parent.getOffsetX() : 0;\n    const parentOffsetZ = parent ? parent.getOffsetZ() : 0;\n    switch (position) {\n      case PatchPosition.LeftTop:\n        this._offsetX = parentOffsetX;\n        this._offsetZ = parentOffsetZ;\n        break;\n      case PatchPosition.RightTop:\n        this._offsetX = parentOffsetX + interval;\n        this._offsetZ = parentOffsetZ;\n        break;\n      case PatchPosition.LeftBottom:\n        this._offsetX = parentOffsetX;\n        this._offsetZ = parentOffsetZ + interval;\n        break;\n      case PatchPosition.RightBottom:\n        this._offsetX = parentOffsetX + interval;\n        this._offsetZ = parentOffsetZ + interval;\n        break;\n      default:\n        return false;\n    }\n    if (this._offsetX + interval >= quadtree.getRootSizeX() || this._offsetZ + interval >= quadtree.getRootSizeZ()) {\n      baseVertices = null;\n    }\n    this._quadtree = quadtree;\n    this._step = step;\n    this._parent = parent;\n    this._geometry = baseVertices ? new Primitive(device) : null;\n    this._geometryLines = baseVertices ? new Primitive(device) : null;\n    this._maxError = baseVertices ? this.computeMaxError() : 0;\n    if (baseVertices) {\n      const scaleX = this._quadtree.getScaleX();\n      const scaleZ = this._quadtree.getScaleZ();\n      if (step === 1) {\n        this._boundingBox = new BoundingBox();\n        this._boundingBox.minPoint.x = this._offsetX * scaleX;\n        this._boundingBox.minPoint.y = Number.MAX_VALUE;\n        this._boundingBox.minPoint.z = this._offsetZ * scaleZ;\n        this._boundingBox.maxPoint.x = this._offsetX * scaleX + (this._quadtree.getPatchSize() - 1) * this._step * scaleX;\n        this._boundingBox.maxPoint.y = -Number.MAX_VALUE;\n        this._boundingBox.maxPoint.z = this._offsetZ * scaleZ + (this._quadtree.getPatchSize() - 1) * this._step * scaleZ;\n      }\n      this.setupVertices(device, this.computeSkirtLength(), baseVertices, normals, elevations);\n    }\n    return true;\n  }\n  setupCamera(viewportH: number, tanHalfFovy: number, maxPixelError: number): void {\n    if (maxPixelError > 0 && tanHalfFovy > 0) {\n      this._lodDistance = this.computeLodDistance(viewportH, tanHalfFovy, maxPixelError);\n    } else {\n      this._lodDistance = -1;\n    }\n  }\n  setupVertices(device: Device, skirtLength: number, baseVertices: StructuredBuffer, normalVectors: Float32Array, elevations: Float32Array): void {\n    const that = this;\n    function setNormalAndHeight(heights: Float32Array, normals: Float32Array, index: number, x: number, z: number, width: number, height: number, hDelta: number): number {\n      const k = x + z * width;\n      const h = elevations[k];\n      normals[index * 3 + 0] = normalVectors[k * 3 + 0];\n      normals[index * 3 + 1] = normalVectors[k * 3 + 1];\n      normals[index * 3 + 2] = normalVectors[k * 3 + 2];\n      heights[index] = h + hDelta;\n      if (that._boundingBox) {\n        if (that._boundingBox.maxPoint.y < h) {\n          that._boundingBox.maxPoint.y = h;\n        }\n        if (that._boundingBox.minPoint.y > h) {\n          that._boundingBox.minPoint.y = h;\n        }\n      }\n      return index + 1;\n    }\n    const patchSize = this._quadtree.getPatchSize();\n    const numVerts = (patchSize + 2) * (patchSize + 2);\n    const heights = new Float32Array(numVerts);\n    const normals = new Float32Array(numVerts * 3);\n    let x = this._offsetX;\n    let z = this._offsetZ;\n    let t = 0;\n    const hf = this._quadtree.getHeightField();\n    const w = hf.getSizeX();\n    const h = hf.getSizeZ();\n    t = setNormalAndHeight(heights, normals, t, x, z, w, h, -skirtLength);\n    for (let i = 0; i < patchSize; i++, x += this._step) {\n      t = setNormalAndHeight(heights, normals, t, x, z, w, h, -skirtLength);\n    }\n    t = setNormalAndHeight(heights, normals, t, x - this._step, z, w, h, -skirtLength);\n    z = this._offsetZ;\n    for (let i = 0; i < patchSize; i++, z += this._step) {\n      x = this._offsetX;\n      t = setNormalAndHeight(heights, normals, t, x, z, w, h, -skirtLength);\n      for (let j = 0; j < patchSize; j++, x += this._step) {\n        t = setNormalAndHeight(heights, normals, t, x, z, w, h, 0);\n      }\n      t = setNormalAndHeight(heights, normals, t, x - this._step, z, w, h, -skirtLength);\n    }\n    x = this._offsetX;\n    z -= this._step;\n    t = setNormalAndHeight(heights, normals, t, x, z, w, h, -skirtLength);\n    for (let i = 0; i < patchSize; i++, x += this._step) {\n      t = setNormalAndHeight(heights, normals, t, x, z, w, h, -skirtLength);\n    }\n    t = setNormalAndHeight(heights, normals, t, x - this._step, z, w, h, -skirtLength);\n    const heightArray = device.createStructuredBuffer(makeVertexBufferType(numVerts, 'custom0_f32'), { usage: 'vertex', managed: true }, heights);\n    const normalArray = device.createStructuredBuffer(makeVertexBufferType(numVerts, 'normal_f32x3'), { usage: 'vertex', managed: true }, normals);\n    this._geometry.setVertexBuffer(baseVertices);\n    this._geometry.setVertexBuffer(normalArray);\n    this._geometry.setVertexBuffer(heightArray);\n    this._geometry.setIndexBuffer(this._quadtree.getIndices());\n    this._geometry.indexStart = 0;\n    this._geometry.indexCount = this._quadtree.getIndices().length;\n    this._geometry.primitiveType = PrimitiveType.TriangleStrip;\n    this._geometryLines.setVertexBuffer(baseVertices);\n    this._geometryLines.setVertexBuffer(normalArray);\n    this._geometryLines.setVertexBuffer(heightArray);\n    this._geometryLines.setIndexBuffer(this._quadtree.getIndicesWireframe());\n    this._geometryLines.indexStart = 0;\n    this._geometryLines.indexCount = this._quadtree.getIndicesWireframe().length;\n    this._geometryLines.primitiveType = PrimitiveType.LineList;\n  }\n  getOffsetScale(terrain: Terrain, ctx: DrawContext): StructuredBuffer {\n    if (!this._offsetScale) {\n      const terrainProgram = terrain.material.getOrCreateProgram(ctx);\n      const scaleX = this._quadtree.getScaleX();\n      const scaleZ = this._quadtree.getScaleZ();\n      const v = new Float32Array([this._step * scaleX, this._offsetX * scaleX, this._step * scaleZ, this._offsetZ * scaleZ]);\n      this._offsetScale = ctx.renderPass.device.createStructuredBuffer(terrainProgram.programs[ctx.materialFunc].getBindingInfo('scaleOffset').type as PBStructTypeInfo, { usage: 'uniform' }, v);\n      this._offsetScale.restoreHandler = async obj => {\n        (obj as GPUDataBuffer).bufferSubData(0, v);\n      };\n    }\n    return this._offsetScale;\n  }\n  getBoundingBox(): BoundingBox {\n    return this._boundingBox;\n  }\n  setBoundingBox(bbox: BoundingBox): void {\n    this._boundingBox = bbox;\n  }\n  getMipLevel(): number {\n    return this._mipLevel;\n  }\n  getOffsetX(): number {\n    return this._offsetX;\n  }\n  getOffsetZ(): number {\n    return this._offsetZ;\n  }\n  getStep(): number {\n    return this._step;\n  }\n  getLODDistance(): number {\n    return this._lodDistance;\n  }\n  getGeometry(): Primitive {\n    return this._geometry;\n  }\n  getGeometryWireframe(): Primitive {\n    return this._geometryLines;\n  }\n  getHeight(x: number, z: number): number {\n    const startX = this._offsetX + this._step * Math.floor((x - this._offsetX) / this._step);\n    const startZ = this._offsetZ + this._step * Math.floor((z - this._offsetZ) / this._step);\n    const endX = startX == x ? startX : startX + this._step;\n    const endZ = startZ == z ? startZ : startZ + this._step;\n    const hf = this._quadtree.getHeightField();\n    const lt_height = hf.getHeight(startX, startZ);\n    const rt_height = hf.getHeight(endX, startZ);\n    const lb_height = hf.getHeight(startX, endZ);\n    const rb_height = hf.getHeight(endX, endZ);\n    const t1 = (x - startX) / this._step;\n    const t2 = (z - startZ) / this._step;\n    const h1 = lt_height + (rt_height - lt_height) * t1;\n    const h2 = lb_height + (rb_height - lb_height) * t1;\n    return h1 + (h2 - h1) * t2;\n  }\n  computeMaxError(): number {\n    if (this._step === 1) {\n      return 0;\n    }\n    let maxError = 0;\n    const dimension = this._step * (this._quadtree.getPatchSize() - 1);\n    const rootSize = this._quadtree.getRootSize();\n    const hf = this._quadtree.getHeightField();\n    for (let i = this._offsetZ; i <= this._offsetZ + dimension; i++) {\n      for (let j = this._offsetX; j <= this._offsetX + dimension; j++) {\n        const i00 = this._offsetZ + Math.floor((i - this._offsetZ) / this._step) * this._step;\n        const j00 = this._offsetX + Math.floor((j - this._offsetX) / this._step) * this._step;\n        if (i00 === rootSize - 1 || j00 === rootSize - 1) {\n          continue;\n        }\n        const i11 = i00 + this._step;\n        const j11 = j00 + this._step;\n        const h00 = hf.getHeight(j00, i00);\n        const h01 = hf.getHeight(j11, i00);\n        const h10 = hf.getHeight(j00, i11);\n        const h11 = hf.getHeight(j11, i11);\n        const factorZ = (i - i00) / this._step;\n        const factorX = (j - j00) / this._step;\n        const h = hf.getHeight(j, i);\n        const h0 = h00 + factorX * (h01 - h00);\n        const h1 = h10 + factorX * (h11 - h10);\n        const h2 = h0 + factorZ * (h1 - h0);\n        const err = Math.abs(h - h2);\n        if (err > maxError) {\n          maxError = err;\n        }\n      }\n    }\n    return maxError;\n  }\n  computeSkirtLength(): number {\n    let skirtLength = 0;\n    let p = this._parent;\n    while (p) {\n      const f = this.computeErrorMetric(p);\n      if (f > skirtLength) {\n        skirtLength = f;\n      }\n      p = p._parent;\n    }\n    return skirtLength;\n  }\n  computeErrorMetric(other: TerrainPatch): number {\n    let errMetric = 0;\n    if (other.getMipLevel() > this._mipLevel) {\n      const otherOffsetX = other.getOffsetX();\n      const otherOffsetZ = other.getOffsetZ();\n      const otherStep = other.getStep();\n      const otherDimension = other.getStep() * this._quadtree.getPatchSize();\n      for (let i = otherOffsetZ; i < otherOffsetZ + otherDimension; i += otherStep) {\n        for (let j = otherOffsetX; j < otherOffsetX + otherDimension; j += otherStep) {\n          const err = Math.abs(this.getHeight(j, i) - other.getHeight(j, i));\n          if (err > errMetric) {\n            errMetric = err;\n          }\n        }\n      }\n    } else if (other.getMipLevel() < this._mipLevel) {\n      const dimension = this._step * (this._quadtree.getPatchSize() - 1);\n      for (let i = this._offsetZ; i <= this._offsetZ + dimension; i += this._step) {\n        for (let j = this._offsetX; j <= this._offsetX + dimension; j += this._step) {\n          const err = Math.abs(this.getHeight(j, i) - other.getHeight(j, i));\n          if (err > errMetric) {\n            errMetric = err;\n          }\n        }\n      }\n    }\n    return errMetric;\n  }\n  computeBoundingBox(box: BoundingBox): void {\n    const [maxHeight, minHeight] = this.computeHeightBound();\n    const scaleX = this._quadtree.getScaleX();\n    const scaleZ = this._quadtree.getScaleZ();\n    box.minPoint = new Vector3(this._offsetX * scaleX, minHeight, this._offsetZ * scaleZ);\n    box.maxPoint = new Vector3(this._offsetX * scaleX + (this._quadtree.getPatchSize() - 1) * this._step * scaleX, maxHeight, this._offsetZ * scaleZ + (this._quadtree.getPatchSize() - 1) * this._step * scaleZ);\n  }\n  computeLodDistance(viewportH: number, tanHalfFovy: number, maxPixelError: number): number {\n    return 0.5 * this._maxError * viewportH / (maxPixelError * tanHalfFovy);\n  }\n  sqrDistanceToPoint(point: Vector3) {\n    const bbox = this.getBoundingBox();\n    const radius = Math.sqrt(bbox.extents.x * bbox.extents.x + bbox.extents.z * bbox.extents.z);\n    const dx = point.x - bbox.center.x;\n    const dz = point.z - bbox.center.z;\n    const s = Math.max(0, Math.sqrt(dx * dx + dz * dz) - radius);\n    const t = point.y > bbox.maxPoint.y ? point.y - bbox.maxPoint.y : point.y < bbox.minPoint.y ? bbox.minPoint.y - point.y : 0;\n    return s * s + t * t;\n  }\n  sqrDistancePointToTriangle(P: Vector3, t0: Vector3, t1: Vector3, t2: Vector3): number {\n    const B = t0;\n    const E0 = Vector3.sub(t1, B);\n    const E1 = Vector3.sub(t2, B);\n    const D = Vector3.sub(B, P);\n    const a = Vector3.dot(E0, E0);\n    const b = Vector3.dot(E0, E1);\n    const c = Vector3.dot(E1, E1);\n    const d = Vector3.dot(E0, D);\n    const e = Vector3.dot(E1, D);\n    const f = Vector3.dot(D, D);\n    const det = a * c - b * b;\n    let s = b * e - c * d;\n    let t = b * d - a * e;\n    let sqrDistance: number;\n    if (s + t <= det) {\n      if (s < 0) {\n        if (t < 0) {\n          if (d < 0) {\n            t = 0;\n            if (-d >= a) {\n              s = 1;\n              sqrDistance = a + 2 * d + f;\n            } else {\n              s = -d / a;\n              sqrDistance = d * s + f;\n            }\n          } else {\n            s = 0;\n            if (e >= 0) {\n              t = 0;\n              sqrDistance = f;\n            } else {\n              if (-e >= c) {\n                t = 1;\n                sqrDistance = c + 2 * e + f;\n              } else {\n                t = -e / c;\n                sqrDistance = e * t + f;\n              }\n            }\n          }\n        } else {\n          s = 0;\n          if (e >= 0) {\n            t = 0;\n            sqrDistance = f;\n          } else {\n            if (-e >= c) {\n              t = 1;\n              sqrDistance = c + 2 * e + f;\n            } else {\n              t = -e / c;\n              sqrDistance = e * t + f;\n            }\n          }\n        }\n      } else {\n        if (t < 0) {\n          t = 0;\n          if (d >= 0) {\n            s = 0;\n            sqrDistance = f;\n          } else {\n            if (-d >= a) {\n              s = 1;\n              sqrDistance = a + 2 * d + f;\n            } else {\n              s = -d / a;\n              sqrDistance = d * s + f;\n            }\n          }\n        } else {\n          s /= det;\n          t /= det;\n          sqrDistance = s * (a * s + b * t + 2 * d) + t * (b * s + c * t + 2 * e) + f;\n        }\n      }\n    } else {\n      if (s < 0) {\n        const tmp0 = b + d;\n        const tmp1 = c + e;\n        if (tmp1 > tmp0) {\n          const numer = tmp1 - tmp0;\n          const denom = a - 2 * b + c;\n          if (numer >= denom) {\n            s = 1;\n            t = 0;\n            sqrDistance = a + 2 * d + f;\n          } else {\n            s = numer / denom;\n            t = 1 - s;\n            sqrDistance = s * (a * s + b * t + 2 * d) + t * (b * s + c * t + 2 * e) + f;\n          }\n        } else {\n          s = 0;\n          if (tmp1 <= 0) {\n            t = 1;\n            sqrDistance = c + 2 * e + f;\n          } else {\n            if (e >= 0) {\n              t = 0;\n              sqrDistance = f;\n            } else {\n              t = -e / c;\n              sqrDistance = e * t + f;\n            }\n          }\n        }\n      } else {\n        if (t < 0) {\n          const tmp0 = b + e;\n          const tmp1 = a + d;\n          if (tmp1 > tmp0) {\n            const numer = tmp1 - tmp0;\n            const denom = a - 2 * b + c;\n            if (numer >= denom) {\n              t = 1;\n              s = 0;\n              sqrDistance = c + 2 * e + f;\n            } else {\n              t = numer / denom;\n              s = 1 - t;\n              sqrDistance = s * (a * s + b * t + 2 * d) + t * (b * s + c * t + 2 * e) + f;\n            }\n          } else {\n            t = 0;\n            if (tmp1 <= 0) {\n              s = 1;\n              sqrDistance = a + 2 * d + f;\n            } else {\n              if (d >= 0) {\n                s = 0;\n                sqrDistance = f;\n              } else {\n                s = -d / a;\n                sqrDistance = d * s + f;\n              }\n            }\n          }\n        } else {\n          const numer = c + e - b - d;\n          if (numer <= 0) {\n            s = 0;\n            t = 1;\n            sqrDistance = c + 2 * e + f;\n          } else {\n            const denom = a - 2 * b + c;\n            if (numer >= denom) {\n              s = 1;\n              t = 0;\n              sqrDistance = a + 2 * d + f;\n            } else {\n              s = numer / denom;\n              t = 1 - s;\n              sqrDistance = s * (a * s + b * t + 2 * d) + t * (b * s + c * t + 2 * e) + f;\n            }\n          }\n        }\n      }\n    }\n    if (sqrDistance < 0) {\n      sqrDistance = 0;\n    }\n    return sqrDistance;\n  }\n  computeHeightBound(): [number, number] {\n    let maxHeight = -Number.MAX_VALUE;\n    let minHeight = Number.MAX_VALUE;\n    const dimension = this._step * (this._quadtree.getPatchSize() - 1);\n    const hf = this._quadtree.getHeightField();\n    const z = Math.min(hf.getSizeZ() - 1, this._offsetZ + dimension);\n    const x = Math.min(hf.getSizeX() - 1, this._offsetX + dimension);\n    for (let i = this._offsetZ; i <= z; i++) {\n      for (let j = this._offsetX; j <= x; j++) {\n        const h = hf.getHeight(j, i);\n        if (h > maxHeight) {\n          maxHeight = h;\n        }\n        if (h < minHeight) {\n          minHeight = h;\n        }\n      }\n    }\n    return [maxHeight, minHeight];\n  }\n  isDummy(): boolean {\n    return !this._geometry && !!this._quadtree;\n  }\n}\n"],"names":[],"mappings":"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"}