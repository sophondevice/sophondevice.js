{"version":3,"file":"animationtrack.js","sources":["../../../../libs/device/src/scene/animationtrack.ts"],"sourcesContent":["import type { Device } from \"../device\";\nimport type { Interpolator } from \"./interpolator\";\n\nexport class AnimationTrack {\n  protected _interpolator: Interpolator;\n  protected _currentPlayTime: number;\n  protected _playing: boolean;\n  constructor(interpolator: Interpolator) {\n    this._currentPlayTime = 0;\n    this._playing = false;\n    this._interpolator = interpolator;\n  }\n  get interpolator(): Interpolator {\n    return this._interpolator;\n  }\n  get playing(): boolean {\n    return this._playing;\n  }\n  start() {\n    this._playing = true;\n  }\n  stop() {\n    this._playing = false;\n  }\n  rewind() {\n    this._currentPlayTime = 0;\n  }\n  reset() {\n    this.stop();\n    this._currentPlayTime = 0;\n  }\n  update(device: Device, result: Float32Array, playTime: number, duration: number) {\n    this._interpolator.interpolate(this._currentPlayTime, duration, result);\n  }\n}\n"],"names":[],"mappings":";MAGa,cAAc,CAAA;AACf,IAAA,aAAa,CAAe;AAC5B,IAAA,gBAAgB,CAAS;AACzB,IAAA,QAAQ,CAAU;AAC5B,IAAA,WAAA,CAAY,YAA0B,EAAA;AACpC,QAAA,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;AAC1B,QAAA,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;AACtB,QAAA,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;KACnC;AACD,IAAA,IAAI,YAAY,GAAA;QACd,OAAO,IAAI,CAAC,aAAa,CAAC;KAC3B;AACD,IAAA,IAAI,OAAO,GAAA;QACT,OAAO,IAAI,CAAC,QAAQ,CAAC;KACtB;IACD,KAAK,GAAA;AACH,QAAA,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;KACtB;IACD,IAAI,GAAA;AACF,QAAA,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;KACvB;IACD,MAAM,GAAA;AACJ,QAAA,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;KAC3B;IACD,KAAK,GAAA;QACH,IAAI,CAAC,IAAI,EAAE,CAAC;AACZ,QAAA,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;KAC3B;AACD,IAAA,MAAM,CAAC,MAAc,EAAE,MAAoB,EAAE,QAAgB,EAAE,QAAgB,EAAA;AAC7E,QAAA,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,gBAAgB,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;KACzE;AACF;;;;"}