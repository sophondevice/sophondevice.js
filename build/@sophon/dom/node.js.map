{"version":3,"file":"node.js","sources":["../../../libs/dom/src/node.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-unused-vars */\nimport { REventTarget, REvent, REventListener, REventHandlerOptions } from '@sophon/base';\nimport { RCoord, RColor, GUIEventPathBuilder } from './types';\nimport { RRectPrimitive, RPolygonPrimitive, RPrimitiveBatchList } from './primitive';\nimport { RNodeList, RLiveNodeList } from './nodelist';\nimport { UIRect, UILayout } from './layout';\nimport { unescapeCSSString, ElementStyle, IStyleSheet } from './style';\nimport { RValueChangeEvent, RElementLayoutEvent, RDOMTreeEvent, RElementDrawEvent, RElementBuildContentEvent, RTextContentChangeEvent, RMouseEvent } from './events';\nimport { NodeType } from './values';\nimport { Font } from './font';\nimport type { RText } from './components/text';\nimport type { RElement } from './element';\nimport type { RDocument } from './document';\nimport type { GUIRenderer } from './renderer';\nimport type { TextureAtlas } from './texture_atlas';\nimport type { GUI } from './gui';\n\nexport interface RNode extends REventTarget {\n  addEventListener(\n    type: 'mousedown' | 'mouseup' | 'mousemove' | 'mouseclick' | 'mousedblclick',\n    listener: REventListener<RMouseEvent>,\n    options?: REventHandlerOptions,\n  ): void;\n  addEventListener(type: string, listener: REventListener, options?: REventHandlerOptions): void;\n}\n\nconst defaultCursor = 'default';\nconst tmpUV1 = { x: 0, y: 0 };\nconst tmpUV2 = { x: 0, y: 0 };\n\nexport interface INodeVisitor {\n  beginTraverseNode(w: RNode);\n  endTraverseNode(w: RNode);\n  visitNode(w: RNode): void;\n}\n\nexport class RNode extends REventTarget {\n  /** @internal */\n  protected static readonly PSEUDO_NONE = 0;\n  /** @internal */\n  protected static readonly PSEUDO_BEFORE = 1;\n  /** @internal */\n  protected static readonly PSEUDO_AFTER = 2;\n  /** @internal */\n  private static readonly _drawEvent = new RElementDrawEvent();\n  static readonly UNKNOWN_NODE = NodeType.UNKNOWN_NODE;\n  static readonly ELEMENT_NODE = NodeType.ELEMENT_NODE;\n  static readonly TEXT_NODE = NodeType.TEXT_NODE;\n  static readonly DOCUMENT_NODE = NodeType.DOCUMENT_NODE;\n  /** @internal */\n  private static _defaultFontSize = '12px';\n  /** @internal */\n  private static _defaultFontFamily = 'arial';\n  /** @internal */\n  protected _uiscene: GUI;\n  /** @internal */\n  protected _parent: RNode;\n  /** @internal */\n  protected _childNodes: RNode[];\n  /** @internal */\n  protected _children: RNodeList;\n  /** @internal */\n  protected _childrenElements: RNodeList;\n  /** @internal */\n  protected _renderOrder: number[];\n  /** @internal */\n  protected _renderOrderChanged: boolean;\n  /** @internal */\n  protected _hScroll: RElement;\n  /** @internal */\n  protected _vScroll: RElement;\n  /** @internal */\n  protected _layout: UILayout;\n  /** @internal */\n  protected _layoutChangeStamp: number;\n  /** @internal */\n  protected _disableCounter: number;\n  /** @internal */\n  protected _mouseIn: boolean;\n  /** @internal */\n  protected _mouseDown: boolean;\n  /** @internal */\n  protected _state: number;\n  /** @internal */\n  protected _batchList: RPrimitiveBatchList;\n  /** @internal */\n  protected _numQuads: number;\n  /** @internal */\n  protected _contentDirty: boolean;\n  /** @internal */\n  protected _loadingTextures: unknown[];\n  /** @internal */\n  protected _backgroundColor: RColor;\n  /** @internal */\n  protected _backgroundImage: TextureAtlas;\n  /** @internal */\n  protected _borderLeftColor: RColor;\n  /** @internal */\n  protected _borderTopColor: RColor;\n  /** @internal */\n  protected _borderRightColor: RColor;\n  /** @internal */\n  protected _borderBottomColor: RColor;\n  /** @internal */\n  protected _style: ElementStyle;\n  /** @internal */\n  protected _hide: boolean;\n  /** @internal */\n  protected _internal: boolean;\n  /** @internal */\n  protected _pseudo: number;\n  /** @internal */\n  protected _font: Font;\n  /** @internal */\n  protected _cachedFontSize: string;\n  /** @internal */\n  protected _cachedFontFamily: string;\n  /** @internal */\n  protected _fontColor: RColor;\n  /** @internal */\n  protected _customDraw: boolean;\n  /** @internal */\n  protected _preBuildContentEvent: RElementBuildContentEvent;\n  /** @internal */\n  protected _postBuildContentEvent: RElementBuildContentEvent;\n  /** @internal */\n  protected _insertEvent: RDOMTreeEvent;\n  /** @internal */\n  protected _removeEvent: RDOMTreeEvent;\n  /** @internal */\n  constructor(uiscene: GUI) {\n    super(new GUIEventPathBuilder());\n    this._uiscene = uiscene;\n    this._parent = null;\n    this._childNodes = [];\n    this._children = new RLiveNodeList(this, RLiveNodeList.MODE_NON_INTERNAL);\n    this._childrenElements = new RLiveNodeList(this, RLiveNodeList.MODE_ELEMENT_NON_INTERNAL);\n    this._renderOrder = [];\n    this._renderOrderChanged = false;\n    this._hScroll = null;\n    this._vScroll = null;\n    this._loadingTextures = [];\n    this._backgroundColor = ElementStyle.defaultBackgroundColor;\n    this._backgroundImage = null;\n    this._borderLeftColor = ElementStyle.defaultBorderColor;\n    this._borderTopColor = ElementStyle.defaultBorderColor;\n    this._borderRightColor = ElementStyle.defaultBorderColor;\n    this._borderBottomColor = ElementStyle.defaultBorderColor;\n    this._layout = new UILayout(this);\n    this._style = new ElementStyle(this._layout);\n    this._layoutChangeStamp = -1;\n    this._disableCounter = 0;\n    this._batchList = new RPrimitiveBatchList(0, 0);\n    this._numQuads = 0;\n    this._contentDirty = true;\n    this._hide = false;\n    this._internal = false;\n    this._pseudo = RNode.PSEUDO_NONE;\n    this._font = null;\n    this._cachedFontSize = null;\n    this._cachedFontFamily = null;\n    this._fontColor = null;\n    this._customDraw = false;\n    this._preBuildContentEvent = new RElementBuildContentEvent(\n      RElementBuildContentEvent.NAME_PREBUILD,\n      this._batchList,\n    );\n    this._postBuildContentEvent = new RElementBuildContentEvent(\n      RElementBuildContentEvent.NAME_POSTBUILD,\n      this._batchList,\n    );\n    this._insertEvent = new RDOMTreeEvent(RDOMTreeEvent.NAME_INSERTED, null, this);\n    this._removeEvent = new RDOMTreeEvent(RDOMTreeEvent.NAME_REMOVED, null, this);\n    this._resetStyle();\n  }\n  get gui(): GUI {\n    return this._uiscene;\n  }\n  get nodeType(): number {\n    return RNode.UNKNOWN_NODE;\n  }\n  get nodeName(): string {\n    switch (this.nodeType) {\n      case RNode.ELEMENT_NODE:\n        return (this as unknown as RElement).tagName;\n      case RNode.TEXT_NODE:\n        return '#text';\n      case RNode.DOCUMENT_NODE:\n        return '#document';\n      default:\n        return '#unknown';\n    }\n  }\n  get nodeValue(): string {\n    switch (this.nodeType) {\n      case RNode.TEXT_NODE:\n        return this.textContent;\n      default:\n        return null;\n    }\n  }\n  get ownerDocument(): RDocument {\n    return this === (this._uiscene.document as RNode) ? null : this._uiscene.document || null;\n  }\n  get isConnected(): boolean {\n    return this._isSucceedingOf(this._uiscene.document);\n  }\n  get parentNode(): RNode {\n    return this._parent;\n  }\n  get parentElement(): RElement {\n    return this._parent && this._parent.nodeType === RNode.ELEMENT_NODE\n      ? (this._parent as unknown as RElement)\n      : null;\n  }\n  get childNodes(): RNodeList {\n    return this._children;\n  }\n  get style(): ElementStyle {\n    return this._style;\n  }\n  get textContent(): string {\n    let content = '';\n    for (let child = this.firstChild; child; child = child.nextSibling) {\n      content += child.textContent;\n    }\n    return content;\n  }\n  set textContent(text: string) {\n    text = String(text) || '';\n    text = text.trim().replace(/\\s+/, ' ');\n    const childrenToBeRemoved: RNode[] = [];\n    for (let child = this.firstChild; child; child = child.nextSibling) {\n      if (!child._isInternal()) {\n        childrenToBeRemoved.push(child);\n      }\n    }\n    for (const child of childrenToBeRemoved) {\n      child._remove();\n    }\n    if (\n      this._pseudo === RNode.PSEUDO_BEFORE ||\n      this._pseudo === RNode.PSEUDO_AFTER ||\n      text !== ''\n    ) {\n      this._append(text);\n    }\n  }\n  get batchList(): RPrimitiveBatchList {\n    this.checkContents();\n    return this._batchList;\n  }\n  get customDraw(): boolean {\n    return this._customDraw;\n  }\n  set customDraw(val: boolean) {\n    this._customDraw = val;\n  }\n  isElement(): this is RElement {\n    return this.nodeType === RNode.ELEMENT_NODE;\n  }\n  isDocument(): this is RDocument {\n    return this.nodeType === RNode.DOCUMENT_NODE;\n  }\n  normalize() {\n    let finished = false;\n    let child = this.firstChild;\n    while (!finished) {\n      finished = true;\n      for (; child; child = child.nextSibling) {\n        if (child._isText()) {\n          (child as RText)._normalize();\n          finished = false;\n          break;\n        }\n      }\n    }\n    for (child = this.firstChild; child; child = child.nextSibling) {\n      child.normalize();\n    }\n  }\n  get scrollX(): number {\n    return this._layout.desiredScrollX;\n  }\n  set scrollX(val: number) {\n    this.setScrollX(val);\n  }\n  setScrollX(val: number) {\n    if (this._layout.desiredScrollX !== val) {\n      this._layout.desiredScrollX = val;\n      this._syncLayout();\n    }\n  }\n  get scrollY(): number {\n    return this._layout.desiredScrollY;\n  }\n  set scrollY(val: number) {\n    this.setScrollY(val);\n  }\n  setScrollY(val: number) {\n    if (this._layout.desiredScrollY !== val) {\n      this._layout.desiredScrollY = val;\n      this._syncLayout();\n    }\n  }\n  setScroll(x: number, y: number) {\n    if (this._layout.desiredScrollX !== x || this._layout.desiredScrollY !== y) {\n      this._layout.desiredScrollX = x;\n      this._layout.desiredScrollY = y;\n      this._syncLayout();\n    }\n  }\n  getRect(): UIRect {\n    this._uiscene.updateLayout();\n    return this._layout.actualRect;\n  }\n  getClippedRect(): UIRect {\n    this._uiscene.updateLayout();\n    return this._layout.clippedRect;\n  }\n  getClientRect(): UIRect {\n    this._uiscene.updateLayout();\n    return this._layout.clientRect;\n  }\n  getBorderRect(): UIRect {\n    this._uiscene.updateLayout();\n    return this._layout.borderRect;\n  }\n  /*\n  enable () {\n      const parentCounter = this._parent ? this._parent._disableCounter : 0;\n      if (this._disableCounter > parentCounter) {\n          this._disable (-1);\n          this._updateState ();\n      }\n  }\n  disable () {\n      const parentCounter = this._parent ? this._parent._disableCounter : 0;\n      if (this._disableCounter === parentCounter) {\n          this._disable (1);\n          this._updateState ();\n      }\n  }\n  get enabled (): boolean {\n      return this._disableCounter === 0;\n  }\n  set enabled (enable: boolean) {\n      enable ? this.enable () : this.disable ();\n  }\n  */\n  get nextSibling(): RNode {\n    return this._getNextSibling(false);\n  }\n  get previousSibling(): RNode {\n    return this._getPreviousSibling(false);\n  }\n  /** @internal */\n  protected _remove(): RNode {\n    let parent: RNode = null;\n    if (this._parent) {\n      parent = this._parent;\n      const index = this._parent._childNodes.indexOf(this);\n      console.assert(index >= 0, 'remove: node is not child');\n      const focus = this._uiscene.getFocus();\n      if (focus && focus._isSucceedingOf(this)) {\n        this._uiscene.setFocus(null);\n      }\n      const captured = this._uiscene.getCapture();\n      if (captured && captured._isSucceedingOf(this)) {\n        this._uiscene.setCapture(null);\n      }\n      this._parent._removeChild(index);\n      this._parent = null;\n      this._disable(-this._disableCounter);\n    } else {\n      return null;\n    }\n    this._removeEvent.parent = parent;\n    this._uiscene.dispatchEvent(this._removeEvent);\n    return this;\n  }\n  /** @internal */\n  protected _before(...nodes: (RNode | string)[]): void {\n    console.assert(!!this.parentNode, 'Failed to execute before: parent element must not be null');\n    console.assert(nodes.indexOf(this) < 0, 'Failed to execute before: cannot insert self node');\n    let first: RNode = this;\n    for (let i = nodes.length - 1; i >= 0; i--) {\n      const node = nodes[i];\n      if (typeof node === 'string') {\n        const textNode = this._uiscene.createTextNode();\n        textNode.textContent = node;\n        textNode.style.width = 'auto';\n        textNode.style.height = 'auto';\n        textNode.style.flex = '0 0 auto';\n        textNode.style.cursor = 'auto';\n        this.parentNode.insertBefore(textNode, first);\n        first = textNode;\n      } else if (node instanceof RNode) {\n        this.parentNode.insertBefore(node, first);\n        first = node;\n      }\n    }\n  }\n  /** @internal */\n  protected _after(...nodes: (RNode | string)[]): void {\n    console.assert(!!this.parentNode, 'Failed to execute after: parent element must not be null');\n    console.assert(nodes.indexOf(this) < 0, 'Failed to execute after: cannot insert self node');\n    const next: RNode = this.nextSibling;\n    if (next) {\n      next._before(...nodes);\n    } else {\n      this.parentNode._append(...nodes);\n    }\n  }\n  /** @internal */\n  protected _append(...nodes: (RNode | string)[]): void {\n    for (const node of nodes) {\n      if (typeof node === 'string') {\n        const textNode = this._uiscene.createTextNode();\n        textNode.textContent = node;\n        textNode.style.width = 'auto';\n        textNode.style.height = 'auto';\n        textNode.style.flex = '0 0 auto';\n        textNode.style.cursor = 'auto';\n        textNode.style.backgroundColor = 'rgba(0,0,0,0)';\n        this.appendChild(textNode);\n      } else if (node instanceof RNode) {\n        this.appendChild(node);\n      }\n    }\n  }\n  /** @internal */\n  protected _prepend(...nodes: (RNode | string)[]): void {\n    const first = this.firstChild;\n    if (!first) {\n      this._append(...nodes);\n    } else {\n      first._before(...nodes);\n    }\n  }\n  cloneNode(deep: boolean): RNode {\n    throw new Error(`Failed to call cloneNode(${deep})`);\n  }\n  getRootNode(): RNode {\n    let root: RNode = this;\n    while (root.parentNode) {\n      root = root.parentNode;\n    }\n    return root;\n  }\n  appendChild(child: RNode): RNode {\n    console.assert(!!child, `Failed to appendChild: element to be append is ${child}`);\n    console.assert(\n      !this._isSucceedingOf(child),\n      `Failed to appendChild: cannot append parent element`);\n    const ref = this.lastChild?._layout.nextSibling()?.element;\n    child._reparent(this, ref);\n    return child;\n  }\n  insertBefore(newElement: RNode, referenceElement: RNode) {\n    console.assert(\n      referenceElement && this === referenceElement.parentNode,\n      'Failed to insertBefore: reference element is not a valid elememnt or is not a child of this node');\n    console.assert(!!newElement, `Failed to insertBefore: element to be insert is ${newElement}`);\n    console.assert(\n      !this._isSucceedingOf(newElement),\n      `Failed to insertBefore: cannot insert parent element`);\n    newElement._reparent(this, referenceElement);\n    return newElement;\n  }\n  removeChild(child: RNode) {\n    console.assert(!!child, `Failed to removeChild: element to be remove is ${child}`);\n    console.assert(\n      this === child.parentNode,\n      'Failed to removeChild: element to be remove is not a child of this node');\n    return child._remove();\n  }\n  replaceChild(newChild: RNode, oldChild: RNode) {\n    console.assert(!!newChild, `Failed to replaceChild: element to be insert is ${newChild}`);\n    console.assert(!!oldChild, `Failed to replaceChild: element to be replaced is ${oldChild}`);\n    console.assert(\n      this === oldChild.parentNode,\n      'Failed to replaceChild: element to be replaced is not a child of this node');\n    if (newChild !== oldChild) {\n      const next = oldChild.nextSibling;\n      this.removeChild(oldChild);\n      if (next) {\n        this.insertBefore(newChild, next);\n      } else {\n        this.appendChild(newChild);\n      }\n    }\n    return oldChild;\n  }\n  get firstChild(): RNode {\n    return this._getFirstChild(false);\n  }\n  get lastChild(): RNode {\n    return this._getLastChild(false);\n  }\n  contains(child: RNode): boolean {\n    return child && child._isSucceedingOf(this);\n  }\n  hasChildNodes(): boolean {\n    return this.childNodes.length > 0;\n  }\n  setCapture() {\n    if (this._isSucceedingOf(this._uiscene.document)) {\n      this._uiscene.setCapture(this);\n    }\n  }\n  releaseCapture() {\n    if (this._uiscene.getCapture() === this) {\n      this._uiscene.setCapture(null);\n    }\n  }\n  traverse(v: INodeVisitor, inverse?: boolean, render?: boolean) {\n    v.beginTraverseNode(this);\n    if (!this._isVisible()) {\n      return;\n    }\n    if (render) {\n      if (this._renderOrderChanged) {\n        this._renderOrderChanged = false;\n        this._updateRenderOrders();\n      }\n      if (inverse) {\n        for (let i = this._renderOrder.length - 1; i >= 0; i--) {\n          this._childNodes[this._renderOrder[i]].traverse(v, inverse, render);\n        }\n        v.visitNode(this);\n      } else {\n        v.visitNode(this);\n        for (let i = 0; i < this._renderOrder.length; i++) {\n          this._childNodes[this._renderOrder[i]].traverse(v, inverse, render);\n        }\n      }\n    } else {\n      if (inverse) {\n        for (let i = this._childNodes.length - 1; i >= 0; i--) {\n          this._childNodes[i].traverse(v, inverse, render);\n        }\n        v.visitNode(this);\n      } else {\n        v.visitNode(this);\n        for (const child of this._childNodes) {\n          child.traverse(v, inverse, render);\n        }\n      }\n    }\n    v.endTraverseNode(this);\n  }\n  checkContents() {\n    const img = this.style.backgroundImage\n      ? this._uiscene.imageManager.getImage(this.style.backgroundImage)\n      : null;\n    if (img !== this._backgroundImage) {\n      this._backgroundImage = img;\n      this._contentDirty = true;\n    }\n    if (this._contentDirty) {\n      this._contentDirty = false;\n      this._batchList.clear();\n      const w = this._layout.actualRect.width;\n      const h = this._layout.actualRect.height;\n      if (w > 0 && h > 0) {\n        const v = this.toAbsolute({ x: 0, y: 0 });\n        this._batchList.x = v.x;\n        this._batchList.y = v.y;\n        this._buildVertexData();\n      }\n    }\n  }\n  draw(renderer: GUIRenderer) {\n    let drawDefault = true;\n    if (this._customDraw) {\n      this.gui.renderer.beginCustomDraw(this);\n      RNode._drawEvent.reset();\n      this.dispatchEvent(RNode._drawEvent);\n      this.gui.renderer.endCustomDraw(this);\n      if (RNode._drawEvent.defaultPrevented) {\n        drawDefault = false;\n      }\n    }\n    if (drawDefault) {\n      this.checkContents();\n      this._draw(renderer);\n    }\n  }\n  toAbsolute(v?: RCoord): RCoord {\n    return this._layout.toAbsolute(v);\n  }\n  /** @internal */\n  _getCachedFontSize(): string {\n    return this._cachedFontSize || this.parentNode?._getCachedFontSize() || RNode._defaultFontSize;\n  }\n  /** @internal */\n  _getCachedFontFamily(): string {\n    return (\n      this._cachedFontFamily || this.parentNode?._getCachedFontFamily() || RNode._defaultFontFamily\n    );\n  }\n  /** @internal */\n  _getCachedFont(): Font {\n    if (!this._font) {\n      this._font = Font.fetchFont(`${this._getCachedFontSize()} ${this._getCachedFontFamily()}`, this._uiscene.renderer.screenToDevice(1));\n      // this._font = new Font(`${this._getCachedFontSize()} ${this._getCachedFontFamily()}`);\n    }\n    return this._font;\n  }\n  /** @internal */\n  _getCachedFontColor(): RColor {\n    return (\n      this._fontColor || this.parentNode?._getCachedFontColor() || ElementStyle.defaultFontColor\n    );\n  }\n  /** @internal */\n  _updatePseudoElementStyles(types: Map<string, { stylesheet: IStyleSheet; extra: unknown }[]>) {\n    for (const name of ['before', 'after']) {\n      const info = types?.get(name);\n      let pseudo: number;\n      let node: RNode;\n      if (name === 'before') {\n        pseudo = RNode.PSEUDO_BEFORE;\n        node =\n          this._childNodes.length > 0 && this._childNodes[0]._getPseudo() === pseudo\n            ? this._childNodes[0]\n            : null;\n      } else {\n        pseudo = RNode.PSEUDO_AFTER;\n        node =\n          this._childNodes.length > 0 &&\n            this._childNodes[this._childNodes.length - 1]._getPseudo() === pseudo\n            ? this._childNodes[this._childNodes.length - 1]\n            : null;\n      }\n      if (info && !node) {\n        node = this.ownerDocument.createElement('div');\n        node._setInternal();\n        node._setPseudo(pseudo);\n        node.style.flex = '0 0 auto';\n        node._reparent(\n          this,\n          name === 'before' && this._childNodes.length > 0 ? this._childNodes[0] : null,\n        );\n        for (const s of info) {\n          node.style.applyStyleSheet(s.stylesheet, true);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const content = (info[info.length - 1].extra as any).content;\n        if (info.length > 0 && typeof content === 'string') {\n          const s = content.trim();\n          let match = s.match(/^'([^']*)'$/);\n          if (!match) {\n            match = s.match(/^\"([^\"]*)\"$/);\n          }\n          if (match) {\n            node.textContent = unescapeCSSString(match[1]);\n          }\n        }\n      } else if (node && !info) {\n        node._remove();\n      }\n    }\n  }\n  /** @internal */\n  _updateStyle(val: string) {\n    this._uiscene._markStyleRefreshForElement(this);\n  }\n  /** @internal */\n  _updateBorder() {\n    this._invalidateContent();\n  }\n  /** @internal */\n  _updateZIndex() {\n    if (this._parent) {\n      this._parent._markRenderOrderChanged();\n    }\n    return this;\n  }\n  /** @internal */\n  _updateCursor(val: string): void { }\n  /** @internal */\n  _updateDisplay(val: string): void {\n    this._hide = val === 'none';\n  }\n  /** @internal */\n  _updateBorderLeftColor(val: RColor): void {\n    this._borderLeftColor.r = val.r;\n    this._borderLeftColor.g = val.g;\n    this._borderLeftColor.b = val.b;\n    this._borderLeftColor.a = val.a;\n    this._invalidateContent();\n  }\n  /** @internal */\n  _updateBorderTopColor(val: RColor): void {\n    this._borderTopColor.r = val.r;\n    this._borderTopColor.g = val.g;\n    this._borderTopColor.b = val.b;\n    this._borderTopColor.a = val.a;\n    this._invalidateContent();\n  }\n  /** @internal */\n  _updateBorderRightColor(val: RColor): void {\n    this._borderRightColor.r = val.r;\n    this._borderRightColor.g = val.g;\n    this._borderRightColor.b = val.b;\n    this._borderRightColor.a = val.a;\n    this._invalidateContent();\n  }\n  /** @internal */\n  _updateBorderBottomColor(val: RColor): void {\n    this._borderBottomColor.r = val.r;\n    this._borderBottomColor.g = val.g;\n    this._borderBottomColor.b = val.b;\n    this._borderBottomColor.a = val.a;\n    this._invalidateContent();\n  }\n  /** @internal */\n  _updateBackgroundColor(val: RColor): void {\n    this._backgroundColor.r = val.r;\n    this._backgroundColor.g = val.g;\n    this._backgroundColor.b = val.b;\n    this._backgroundColor.a = val.a;\n    this._invalidateContent();\n  }\n  /** @internal */\n  _updateFont(val: string): void {\n    if (this.style.font === val) {\n      this._font = val ? Font.fetchFont(val, this._uiscene.renderer.screenToDevice(1)) : null;\n    }\n    this._invalidateContent();\n    this._invalidateLayout();\n    for (const child of this._childNodes) {\n      child._updateFont(val);\n    }\n  }\n  /** @internal */\n  _updateFontSize(val: string): void {\n    val = val || null;\n    if (this._cachedFontSize !== val) {\n      this._cachedFontSize = val;\n      this._font = null;\n      this._invalidateContent();\n      this._invalidateLayout();\n      for (const child of this._childNodes) {\n        child._invalidateFont(true, false);\n      }\n    }\n  }\n  /** @internal */\n  _updateFontFamily(val: string): void {\n    val = val || null;\n    if (this._cachedFontFamily !== val) {\n      this._cachedFontFamily = val;\n      this._font = null;\n      this._invalidateContent();\n      this._invalidateLayout();\n      for (const child of this._childNodes) {\n        child._invalidateFont(false, true);\n      }\n    }\n  }\n  /** @internal */\n  _updateFontColor(val: string): void {\n    if (this.style.color === val) {\n      this._fontColor = val ? this.style.parseColor(val) : null;\n    }\n    this._invalidateContent();\n    for (const child of this._childNodes) {\n      child._updateFontColor(val);\n    }\n  }\n  /** @internal */\n  _isSucceedingOf(w: RNode): boolean {\n    let p: RNode = this;\n    while (p && p !== w) {\n      p = p.parentNode;\n    }\n    return !!p;\n  }\n  /** @internal */\n  _isValid(): boolean {\n    return this._uiscene && this._isSucceedingOf(this._uiscene.document);\n  }\n  /** @internal */\n  _invalidateLayout() {\n    if (this._isSucceedingOf(this._uiscene.document)) {\n      this._layout.markDirty();\n      this._uiscene.invalidateLayout();\n    }\n  }\n  /** @internal */\n  _invalidateContent() {\n    this._contentDirty = true;\n  }\n  /** @internal */\n  _invalidateFont(sizeChange: boolean, familyChange: boolean) {\n    if (\n      (sizeChange && this._cachedFontSize === null) ||\n      (familyChange && this._cachedFontFamily === null)\n    ) {\n      this._font = null;\n      this._invalidateContent();\n      for (const child of this._childNodes) {\n        child._invalidateFont(sizeChange, familyChange);\n      }\n    }\n  }\n  /** @internal */\n  _reparent(p: RNode, at?: RNode): RNode {\n    if (this._parent !== p) {\n      this._remove();\n      this._parent = p;\n      if (p) {\n        p._insertChild(this, at ? p._childNodes.indexOf(at) : -1);\n        this._disable(p._disableCounter);\n        this._insertEvent.parent = p;\n        this._uiscene.dispatchEvent(this._insertEvent);\n      }\n    }\n    return this;\n  }\n  /** @internal */\n  _calcLayout() {\n    this._layout.calcLayout();\n    this._syncLayout();\n  }\n  /** @internal */\n  _getClipper(clipToClient: boolean): UIRect {\n    const clipper: UIRect =\n      this._layout.clippedRect ||\n      (clipToClient\n        ? this._layout.clientRect\n        : {\n          x: 0,\n          y: 0,\n          width: this._layout.actualRect.width,\n          height: this._layout.actualRect.height,\n        });\n    return clipper.width > 0 && clipper.height > 0 ? clipper : null;\n  }\n  /** @internal */\n  _measureContentSize(rc: UIRect): UIRect {\n    rc.width = 0;\n    rc.height = 0;\n    return rc;\n  }\n  /** @internal */\n  _onMouseIn(x: number, y: number) {\n    const cursor = this.style.cursor || defaultCursor;\n    if (cursor !== 'auto') {\n      this._uiscene.renderer.setCursorStyle(cursor);\n    }\n  }\n  /** @internal */\n  _onMouseOut(x: number, y: number) { }\n  /** @internal */\n  _onMouseEnter(x: number, y: number) {\n    this._mouseIn = true;\n    this._updateState();\n  }\n  /** @internal */\n  _onMouseLeave(x: number, y: number) {\n    this._mouseIn = false;\n    this._updateState();\n  }\n  /** @internal */\n  _onMouseDown(x: number, y: number) {\n    this._mouseDown = true;\n    this._updateState();\n  }\n  /** @internal */\n  _onMouseUp(x: number, y: number) {\n    this._mouseDown = false;\n    this._updateState();\n  }\n  /** @internal */\n  _getDefaultStyleSheet(): IStyleSheet {\n    const style = {} as IStyleSheet;\n    style.flex = '0 1 auto';\n    style.flexDirection = 'row';\n    style.width = 'auto';\n    style.height = 'auto';\n    return style;\n  }\n  /** @internal */\n  _resetStyle() {\n    this._font = null;\n    this._fontColor = null;\n    this.style.reset();\n    this.style.applyStyleSheet(this._getDefaultStyleSheet(), false);\n  }\n  /** @internal */\n  _applyInlineStyles() { }\n  /** @internal */\n  _isVisible(): boolean {\n    return !this._hide && (!this._parent || this._parent._isVisible());\n  }\n  /** @internal */\n  _getLayout(): UILayout {\n    return this._layout;\n  }\n  /** @internal */\n  _syncLayout() {\n    this._layout.calcLayoutScroll();\n    this._layout.calcLayoutClip();\n    this._notifyLayoutEvents();\n  }\n  /** @internal */\n  protected _updateState() {\n    if (this._pseudo === RNode.PSEUDO_NONE) {\n      this._uiscene._markStyleRefreshForElement(this);\n    }\n  }\n  /** @internal */\n  protected _draw(renderer: GUIRenderer) {\n    if (this._batchList.length > 0) {\n      this._uiscene._drawBatchList(this._batchList);\n    }\n  }\n  /** @internal */\n  protected _buildVertexData() {\n    const w = this._layout.actualRect.width;\n    const h = this._layout.actualRect.height;\n    const img = this._backgroundImage;\n    let drawPatch9 = !!(img?.topLeftPatch9 && img?.bottomRightPatch9);\n    if (drawPatch9) {\n      if (\n        img.topLeftPatch9.x + img.bottomRightPatch9.x > this._layout.actualRect.height ||\n        img.topLeftPatch9.y + img.bottomRightPatch9.y > this._layout.actualRect.width\n      ) {\n        drawPatch9 = false;\n      }\n    }\n    const color = this._backgroundColor;\n    const clipper = this._getClipper(false);\n    if (clipper) {\n      if (color.a > 0) {\n        if (!drawPatch9) {\n          const u1 = img?.uvMin.x || 0;\n          const v1 = img?.uvMin.y || 0;\n          const u2 = img?.uvMax.x || 0;\n          const v2 = img?.uvMax.y || 0;\n          this._batchList.addPrimitive(\n            new RRectPrimitive(0, 0, w, h, u1, v1, u2, v2),\n            clipper,\n            this._backgroundImage?.texture || null,\n            color,\n          );\n        } else {\n          let t = img.topLeftPatch9.x;\n          let l = img.topLeftPatch9.y;\n          let b = img.bottomRightPatch9.x;\n          let r = img.bottomRightPatch9.y;\n          const u1 = img.uvMin.x;\n          const v1 = img.uvMin.y;\n          const u2 = img.uvMax.x;\n          const v2 = img.uvMax.y;\n          const aw = (this._uiscene.renderer.getTextureWidth(img.texture) * (u2 - u1) + 0.5) | 0;\n          const ah = (this._uiscene.renderer.getTextureHeight(img.texture) * (v2 - v1) + 0.5) | 0;\n          const ul = u1 + (u2 - u1) * l;\n          const ur = u1 + (u2 - u1) * r;\n          const vt = v1 + (v2 - v1) * t;\n          const vb = v1 + (v2 - v1) * b;\n          t = (t * ah) | 0;\n          l = (l * aw) | 0;\n          b = ah - ((b * ah) | 0);\n          r = aw - ((r * aw) | 0);\n          const quads = [\n            t === 0 || l === 0 ? null : [0, 0, l, t, u1, v1, ul, vt],\n            t === 0 ? null : [t, 0, w - l - r, t, ul, v1, ur, vt],\n            t === 0 || r === 0 ? null : [w - r, 0, r, t, ur, v1, u2, vt],\n            t + b === h ? null : [0, t, l, h - t - b, u1, vt, ul, vb],\n            t + b === h ? null : [l, t, w - l - r, h - t - b, ul, vt, ur, vb],\n            t + b === h ? null : [w - r, t, r, h - t - b, ur, vt, u2, vb],\n            b === 0 || l === 0 ? null : [0, h - b, l, b, u1, vb, ul, v2],\n            b === 0 ? null : [l, h - b, w - l - r, b, ul, vb, ur, v2],\n            b === 0 || r === 0 ? null : [w - r, h - b, r, b, ur, vb, u2, v2],\n          ];\n          for (const q of quads) {\n            if (q) {\n              tmpUV1.x = q[4];\n              tmpUV1.y = q[5];\n              tmpUV2.x = q[6];\n              tmpUV2.y = q[7];\n              this._batchList.addPrimitive(\n                new RRectPrimitive(q[0], q[1], q[2], q[3], q[4], q[5], q[6], q[7]),\n                clipper,\n                this._backgroundImage?.texture || null,\n                color,\n              );\n            }\n          }\n        }\n      }\n\n      const borderLeft = this.style.borderLeftWidth\n        ? parseInt(this.style.borderLeftWidth as string)\n        : 0;\n      const borderTop = this.style.borderTopWidth\n        ? parseInt(this.style.borderTopWidth as string)\n        : 0;\n      const borderRight = this.style.borderRightWidth\n        ? parseInt(this.style.borderRightWidth as string)\n        : 0;\n      const borderBottom = this.style.borderBottomWidth\n        ? parseInt(this.style.borderBottomWidth as string)\n        : 0;\n      const borderColorLeft = this._borderLeftColor;\n      const borderColorTop = this._borderTopColor;\n      const borderColorRight = this._borderRightColor;\n      const borderColorBottom = this._borderBottomColor;\n      if (borderLeft && borderColorLeft.a > 0) {\n        this._batchList.addPrimitive(\n          new RPolygonPrimitive([\n            { x: 0, y: 0 },\n            { x: borderLeft, y: borderTop },\n            { x: borderLeft, y: h - borderBottom },\n            { x: 0, y: h },\n          ]),\n          clipper,\n          null,\n          borderColorLeft,\n        );\n      }\n      if (borderTop && borderColorTop.a > 0) {\n        this._batchList.addPrimitive(\n          new RPolygonPrimitive([\n            { x: 0, y: 0 },\n            { x: w, y: 0 },\n            { x: w - borderRight, y: borderTop },\n            { x: borderLeft, y: borderTop },\n          ]),\n          clipper,\n          null,\n          borderColorTop,\n        );\n      }\n      if (borderRight && borderColorRight.a > 0) {\n        this._batchList.addPrimitive(\n          new RPolygonPrimitive([\n            { x: w - borderRight, y: borderTop },\n            { x: w, y: 0 },\n            { x: w, y: h },\n            { x: w - borderRight, y: h - borderBottom },\n          ]),\n          clipper,\n          null,\n          borderColorRight,\n        );\n      }\n      if (borderBottom && borderColorBottom.a > 0) {\n        this._batchList.addPrimitive(\n          new RPolygonPrimitive([\n            { x: 0, y: h },\n            { x: borderLeft, y: h - borderBottom },\n            { x: w - borderRight, y: h - borderBottom },\n            { x: w, y: h },\n          ]),\n          clipper,\n          null,\n          borderColorBottom,\n        );\n      }\n    }\n  }\n  /** @internal */\n  _isText(): boolean {\n    return false;\n  }\n  /** @internal */\n  _isInternal(): boolean {\n    return this._internal;\n  }\n  /** @internal */\n  _setInternal(): void {\n    this._internal = true;\n  }\n  /** @internal */\n  _getPseudo(): number {\n    return this._pseudo;\n  }\n  /** @internal */\n  _setPseudo(val: number) {\n    this._pseudo = val;\n  }\n  /** @internal */\n  _isHover(): boolean {\n    return this._mouseIn;\n  }\n  /** @internal */\n  _isActive(): boolean {\n    return this._mouseDown;\n  }\n  /** @internal */\n  _disable(count: number) {\n    this._disableCounter += count;\n    for (const child of this._childNodes) {\n      child._disable(count);\n    }\n  }\n  /** @internal */\n  _markRenderOrderChanged() {\n    this._renderOrderChanged = true;\n  }\n  /** @internal */\n  _updateRenderOrders() {\n    this._renderOrder = this._childNodes.map((val, index) => index);\n    // do stable sort\n    this._renderOrder.sort(\n      (a, b) => this._childNodes[a]._getZIndex() - this._childNodes[b]._getZIndex() || a - b,\n    );\n  }\n  /** @internal */\n  _notifyLayoutEvents() {\n    if (this._layout.changeStamp !== this._layoutChangeStamp) {\n      this._layoutChangeStamp = this._layout.changeStamp;\n      this._invalidateContent();\n      this.dispatchEvent(new RElementLayoutEvent());\n    }\n    this._updateScrollState();\n    for (const child of this._childNodes) {\n      child._notifyLayoutEvents();\n    }\n  }\n  /** @internal */\n  _notifyTextContentEvents() {\n    this.dispatchEvent(new RTextContentChangeEvent());\n  }\n  /** @internal */\n  _getZIndex(): number {\n    let val = Number(this.style.zIndex);\n    if (Number.isNaN(val)) {\n      val = 0;\n    }\n    return val;\n  }\n  /** @internal */\n  _removeChild(index: number) {\n    this._layout.removeChild(this._childNodes[index]._getLayout());\n    this._childNodes.splice(index, 1);\n    this._invalidateLayout();\n    this._markRenderOrderChanged();\n  }\n  /** @internal */\n  _insertChild(child: RNode, index = -1) {\n    if (index >= 0) {\n      let p = this._childNodes[index];\n      this._layout.insertChild(child._getLayout(), p._getLayout());\n      this._childNodes.splice(index, 0, child);\n      if (child.nodeType === RNode.ELEMENT_NODE) {\n        for (; p; p = p.nextSibling) {\n          if (p.nodeType === RNode.ELEMENT_NODE) {\n            break;\n          }\n        }\n      }\n    } else {\n      this._layout.appendChild(child._getLayout());\n      this._childNodes.push(child);\n    }\n    this._invalidateLayout();\n    this._markRenderOrderChanged();\n  }\n  /** @internal */\n  _getChildren(): RNode[] {\n    return this._childNodes;\n  }\n  /** @internal */\n  protected _getFirstChild(element: boolean): RNode {\n    for (\n      let child = this._layout.firstChild()?.element;\n      child;\n      child = child._layout.nextSibling()?.element\n    ) {\n      if (!child._isInternal() && (!element || child.nodeType === RNode.ELEMENT_NODE)) {\n        return child;\n      }\n    }\n    return null;\n  }\n  /** @internal */\n  _getLastChild(element: boolean): RNode {\n    for (\n      let child = this._layout.lastChild()?.element;\n      child;\n      child = child._layout.previousSibling()?.element\n    ) {\n      if (!child._isInternal() && (!element || child.nodeType === RNode.ELEMENT_NODE)) {\n        return child;\n      }\n    }\n    return null;\n  }\n  /** @internal */\n  _getNextSibling(element: boolean): RNode {\n    let result: RNode = this;\n    do {\n      result = result._layout.nextSibling()?.element || null;\n    } while (\n      result &&\n      (result._isInternal() || (!!element && result.nodeType !== RNode.ELEMENT_NODE))\n    );\n    return result;\n  }\n  /** @internal */\n  _getPreviousSibling(element: boolean): RNode {\n    let result: RNode = this;\n    do {\n      result = result._layout.previousSibling()?.element || null;\n    } while (\n      result &&\n      (result._isInternal() || (!!element && result.nodeType !== RNode.ELEMENT_NODE))\n    );\n    return result;\n  }\n  /** @internal */\n  _init(): void {\n  }\n  /** @internal */\n  protected _updateScrollState(): void {\n    const overflowX = this.style.overflowX || 'auto';\n    const overflowY = this.style.overflowY || 'auto';\n    let xOverflow =\n      overflowX === 'scroll' ||\n      (overflowX === 'auto' &&\n        this._layout.scrollRect !== null &&\n        this._layout.scrollRect.width > this._layout.actualRect.width);\n    let yOverflow =\n      overflowY === 'scroll' ||\n      (overflowY === 'auto' &&\n        this._layout.scrollRect !== null &&\n        this._layout.scrollRect.height > this._layout.actualRect.height);\n    const scrollBarSize = 12;\n    const blockSize = 8;\n    const buttonSize = 12;\n    if (xOverflow) {\n      const width = yOverflow\n        ? this._layout.clientRect.width - scrollBarSize\n        : this._layout.clientRect.width;\n      if (this._layout.clientRect.height < scrollBarSize || width < 2 * buttonSize + blockSize) {\n        xOverflow = false;\n      } else {\n        if (!this._hScroll) {\n          this._hScroll = this._uiscene.createElement('scrollbar');\n          this._hScroll.style.position = 'fixed';\n          this._hScroll.style.zIndex = 999999;\n          this._hScroll.style.height = scrollBarSize;\n          this._hScroll.setAttribute('orientation', 'horizonal');\n          this._hScroll.setAttribute('blockSize', String(blockSize));\n          this._hScroll.setAttribute('buttonSize', String(buttonSize));\n          this._hScroll._setInternal();\n          this._hScroll.addDefaultEventListener(RValueChangeEvent.NAME, (e: REvent) => {\n            const data: RValueChangeEvent = e as RValueChangeEvent;\n            this.scrollX = data.value;\n          });\n          this.appendChild(this._hScroll);\n        }\n        this._hScroll.setAttribute('rangeStart', String(this._layout.minScrollX));\n        this._hScroll.setAttribute('rangeEnd', String(this._layout.maxScrollX));\n        this._hScroll.setAttribute('value', String(this.scrollX));\n        this._hScroll.style.left = this._layout.clientRect.x - this._layout.borderRect.x;\n        this._hScroll.style.width = width;\n        this._hScroll.style.bottom =\n          this._layout.borderRect.height -\n          this._layout.clientRect.height -\n          this._layout.clientRect.y +\n          this._layout.borderRect.y;\n      }\n    }\n    if (!xOverflow && this._hScroll) {\n      this.removeChild(this._hScroll);\n      this._hScroll = null;\n    }\n    if (yOverflow) {\n      const height = xOverflow\n        ? this._layout.clientRect.height - scrollBarSize\n        : this._layout.clientRect.height;\n      if (this._layout.clientRect.width < scrollBarSize || height < 2 * buttonSize + blockSize) {\n        yOverflow = false;\n      } else {\n        if (!this._vScroll) {\n          this._vScroll = this._uiscene.createElement('scrollbar');\n          this._vScroll.style.position = 'fixed';\n          this._vScroll.style.zIndex = 999999;\n          this._vScroll.style.width = scrollBarSize;\n          this._vScroll.setAttribute('orientation', 'vertical');\n          this._vScroll.setAttribute('blockSize', String(blockSize));\n          this._vScroll.setAttribute('buttonSize', String(buttonSize));\n          this._vScroll._setInternal();\n          this._vScroll.addDefaultEventListener(RValueChangeEvent.NAME, (e: REvent) => {\n            const data: RValueChangeEvent = e as RValueChangeEvent;\n            this.scrollY = data.value;\n          });\n          this.appendChild(this._vScroll);\n        }\n        this._vScroll.setAttribute('rangeStart', String(this._layout.minScrollY));\n        this._vScroll.setAttribute('rangeEnd', String(this._layout.maxScrollY));\n        this._vScroll.setAttribute('value', String(this.scrollY));\n        this._vScroll.style.top = this._layout.clientRect.y - this._layout.borderRect.y;\n        this._vScroll.style.height = height;\n        this._vScroll.style.right =\n          this._layout.borderRect.width -\n          this._layout.clientRect.width -\n          this._layout.clientRect.x +\n          this._layout.borderRect.x;\n      }\n    }\n    if (!yOverflow && this._vScroll) {\n      this.removeChild(this._vScroll);\n      this._vScroll = null;\n    }\n  }\n}\n"],"names":[],"mappings":"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"}