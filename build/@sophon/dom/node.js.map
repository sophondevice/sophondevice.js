{"version":3,"file":"node.js","sources":["../../../libs/dom/src/node.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport { REventTarget, REvent, REventListener, REventHandlerOptions } from '@sophon/base';\r\nimport { RCoord, RColor, GUIEventPathBuilder } from './types';\r\nimport { RRectPrimitive, RPolygonPrimitive, RPrimitiveBatchList } from './primitive';\r\nimport { RNodeList, RLiveNodeList } from './nodelist';\r\nimport { UIRect, UILayout } from './layout';\r\nimport { unescapeCSSString, ElementStyle, IStyleSheet } from './style';\r\nimport { RValueChangeEvent, RElementLayoutEvent, RDOMTreeEvent, RElementDrawEvent, RElementBuildContentEvent, RTextContentChangeEvent, RMouseEvent } from './events';\r\nimport { NodeType } from './values';\r\nimport { Font } from './font';\r\nimport type { RText } from './components/text';\r\nimport type { RElement } from './element';\r\nimport type { RDocument } from './document';\r\nimport type { GUIRenderer } from './renderer';\r\nimport type { TextureAtlas } from './texture_atlas';\r\nimport type { GUI } from './gui';\r\n\r\nexport interface RNode extends REventTarget {\r\n  addEventListener(\r\n    type: 'mousedown' | 'mouseup' | 'mousemove' | 'mouseclick' | 'mousedblclick',\r\n    listener: REventListener<RMouseEvent>,\r\n    options?: REventHandlerOptions,\r\n  ): void;\r\n  addEventListener(type: string, listener: REventListener, options?: REventHandlerOptions): void;\r\n}\r\n\r\nconst defaultCursor = 'default';\r\nconst tmpUV1 = { x: 0, y: 0 };\r\nconst tmpUV2 = { x: 0, y: 0 };\r\n\r\nexport interface INodeVisitor {\r\n  beginTraverseNode(w: RNode);\r\n  endTraverseNode(w: RNode);\r\n  visitNode(w: RNode): void;\r\n}\r\n\r\nexport class RNode extends REventTarget {\r\n  /** @internal */\r\n  protected static readonly PSEUDO_NONE = 0;\r\n  /** @internal */\r\n  protected static readonly PSEUDO_BEFORE = 1;\r\n  /** @internal */\r\n  protected static readonly PSEUDO_AFTER = 2;\r\n  /** @internal */\r\n  private static readonly _drawEvent = new RElementDrawEvent();\r\n  static readonly UNKNOWN_NODE = NodeType.UNKNOWN_NODE;\r\n  static readonly ELEMENT_NODE = NodeType.ELEMENT_NODE;\r\n  static readonly TEXT_NODE = NodeType.TEXT_NODE;\r\n  static readonly DOCUMENT_NODE = NodeType.DOCUMENT_NODE;\r\n  /** @internal */\r\n  private static _defaultFontSize = '12px';\r\n  /** @internal */\r\n  private static _defaultFontFamily = 'arial';\r\n  /** @internal */\r\n  protected _uiscene: GUI;\r\n  /** @internal */\r\n  protected _parent: RNode;\r\n  /** @internal */\r\n  protected _childNodes: RNode[];\r\n  /** @internal */\r\n  protected _children: RNodeList;\r\n  /** @internal */\r\n  protected _childrenElements: RNodeList;\r\n  /** @internal */\r\n  protected _renderOrder: number[];\r\n  /** @internal */\r\n  protected _renderOrderChanged: boolean;\r\n  /** @internal */\r\n  protected _hScroll: RElement;\r\n  /** @internal */\r\n  protected _vScroll: RElement;\r\n  /** @internal */\r\n  protected _layout: UILayout;\r\n  /** @internal */\r\n  protected _layoutChangeStamp: number;\r\n  /** @internal */\r\n  protected _disableCounter: number;\r\n  /** @internal */\r\n  protected _mouseIn: boolean;\r\n  /** @internal */\r\n  protected _mouseDown: boolean;\r\n  /** @internal */\r\n  protected _state: number;\r\n  /** @internal */\r\n  protected _batchList: RPrimitiveBatchList;\r\n  /** @internal */\r\n  protected _numQuads: number;\r\n  /** @internal */\r\n  protected _contentDirty: boolean;\r\n  /** @internal */\r\n  protected _loadingTextures: unknown[];\r\n  /** @internal */\r\n  protected _backgroundColor: RColor;\r\n  /** @internal */\r\n  protected _backgroundImage: TextureAtlas;\r\n  /** @internal */\r\n  protected _borderLeftColor: RColor;\r\n  /** @internal */\r\n  protected _borderTopColor: RColor;\r\n  /** @internal */\r\n  protected _borderRightColor: RColor;\r\n  /** @internal */\r\n  protected _borderBottomColor: RColor;\r\n  /** @internal */\r\n  protected _style: ElementStyle;\r\n  /** @internal */\r\n  protected _hide: boolean;\r\n  /** @internal */\r\n  protected _internal: boolean;\r\n  /** @internal */\r\n  protected _pseudo: number;\r\n  /** @internal */\r\n  protected _font: Font;\r\n  /** @internal */\r\n  protected _cachedFontSize: string;\r\n  /** @internal */\r\n  protected _cachedFontFamily: string;\r\n  /** @internal */\r\n  protected _fontColor: RColor;\r\n  /** @internal */\r\n  protected _customDraw: boolean;\r\n  /** @internal */\r\n  protected _preBuildContentEvent: RElementBuildContentEvent;\r\n  /** @internal */\r\n  protected _postBuildContentEvent: RElementBuildContentEvent;\r\n  /** @internal */\r\n  protected _insertEvent: RDOMTreeEvent;\r\n  /** @internal */\r\n  protected _removeEvent: RDOMTreeEvent;\r\n  /** @internal */\r\n  constructor(uiscene: GUI) {\r\n    super(new GUIEventPathBuilder());\r\n    this._uiscene = uiscene;\r\n    this._parent = null;\r\n    this._childNodes = [];\r\n    this._children = new RLiveNodeList(this, RLiveNodeList.MODE_NON_INTERNAL);\r\n    this._childrenElements = new RLiveNodeList(this, RLiveNodeList.MODE_ELEMENT_NON_INTERNAL);\r\n    this._renderOrder = [];\r\n    this._renderOrderChanged = false;\r\n    this._hScroll = null;\r\n    this._vScroll = null;\r\n    this._loadingTextures = [];\r\n    this._backgroundColor = ElementStyle.defaultBackgroundColor;\r\n    this._backgroundImage = null;\r\n    this._borderLeftColor = ElementStyle.defaultBorderColor;\r\n    this._borderTopColor = ElementStyle.defaultBorderColor;\r\n    this._borderRightColor = ElementStyle.defaultBorderColor;\r\n    this._borderBottomColor = ElementStyle.defaultBorderColor;\r\n    this._layout = new UILayout(this);\r\n    this._style = new ElementStyle(this._layout);\r\n    this._layoutChangeStamp = -1;\r\n    this._disableCounter = 0;\r\n    this._batchList = new RPrimitiveBatchList(0, 0);\r\n    this._numQuads = 0;\r\n    this._contentDirty = true;\r\n    this._hide = false;\r\n    this._internal = false;\r\n    this._pseudo = RNode.PSEUDO_NONE;\r\n    this._font = null;\r\n    this._cachedFontSize = null;\r\n    this._cachedFontFamily = null;\r\n    this._fontColor = null;\r\n    this._customDraw = false;\r\n    this._preBuildContentEvent = new RElementBuildContentEvent(\r\n      RElementBuildContentEvent.NAME_PREBUILD,\r\n      this._batchList,\r\n    );\r\n    this._postBuildContentEvent = new RElementBuildContentEvent(\r\n      RElementBuildContentEvent.NAME_POSTBUILD,\r\n      this._batchList,\r\n    );\r\n    this._insertEvent = new RDOMTreeEvent(RDOMTreeEvent.NAME_INSERTED, null, this);\r\n    this._removeEvent = new RDOMTreeEvent(RDOMTreeEvent.NAME_REMOVED, null, this);\r\n    this._resetStyle();\r\n  }\r\n  get gui(): GUI {\r\n    return this._uiscene;\r\n  }\r\n  get nodeType(): number {\r\n    return RNode.UNKNOWN_NODE;\r\n  }\r\n  get nodeName(): string {\r\n    switch (this.nodeType) {\r\n      case RNode.ELEMENT_NODE:\r\n        return (this as unknown as RElement).tagName;\r\n      case RNode.TEXT_NODE:\r\n        return '#text';\r\n      case RNode.DOCUMENT_NODE:\r\n        return '#document';\r\n      default:\r\n        return '#unknown';\r\n    }\r\n  }\r\n  get nodeValue(): string {\r\n    switch (this.nodeType) {\r\n      case RNode.TEXT_NODE:\r\n        return this.textContent;\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n  get ownerDocument(): RDocument {\r\n    return this === (this._uiscene.document as RNode) ? null : this._uiscene.document || null;\r\n  }\r\n  get isConnected(): boolean {\r\n    return this._isSucceedingOf(this._uiscene.document);\r\n  }\r\n  get parentNode(): RNode {\r\n    return this._parent;\r\n  }\r\n  get parentElement(): RElement {\r\n    return this._parent && this._parent.nodeType === RNode.ELEMENT_NODE\r\n      ? (this._parent as unknown as RElement)\r\n      : null;\r\n  }\r\n  get childNodes(): RNodeList {\r\n    return this._children;\r\n  }\r\n  get style(): ElementStyle {\r\n    return this._style;\r\n  }\r\n  get textContent(): string {\r\n    let content = '';\r\n    for (let child = this.firstChild; child; child = child.nextSibling) {\r\n      content += child.textContent;\r\n    }\r\n    return content;\r\n  }\r\n  set textContent(text: string) {\r\n    text = String(text) || '';\r\n    text = text.trim().replace(/\\s+/, ' ');\r\n    const childrenToBeRemoved: RNode[] = [];\r\n    for (let child = this.firstChild; child; child = child.nextSibling) {\r\n      if (!child._isInternal()) {\r\n        childrenToBeRemoved.push(child);\r\n      }\r\n    }\r\n    for (const child of childrenToBeRemoved) {\r\n      child._remove();\r\n    }\r\n    if (\r\n      this._pseudo === RNode.PSEUDO_BEFORE ||\r\n      this._pseudo === RNode.PSEUDO_AFTER ||\r\n      text !== ''\r\n    ) {\r\n      this._append(text);\r\n    }\r\n  }\r\n  get batchList(): RPrimitiveBatchList {\r\n    this.checkContents();\r\n    return this._batchList;\r\n  }\r\n  get customDraw(): boolean {\r\n    return this._customDraw;\r\n  }\r\n  set customDraw(val: boolean) {\r\n    this._customDraw = val;\r\n  }\r\n  isElement(): this is RElement {\r\n    return this.nodeType === RNode.ELEMENT_NODE;\r\n  }\r\n  isDocument(): this is RDocument {\r\n    return this.nodeType === RNode.DOCUMENT_NODE;\r\n  }\r\n  normalize() {\r\n    let finished = false;\r\n    let child = this.firstChild;\r\n    while (!finished) {\r\n      finished = true;\r\n      for (; child; child = child.nextSibling) {\r\n        if (child._isText()) {\r\n          (child as RText)._normalize();\r\n          finished = false;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    for (child = this.firstChild; child; child = child.nextSibling) {\r\n      child.normalize();\r\n    }\r\n  }\r\n  get scrollX(): number {\r\n    return this._layout.desiredScrollX;\r\n  }\r\n  set scrollX(val: number) {\r\n    this.setScrollX(val);\r\n  }\r\n  setScrollX(val: number) {\r\n    if (this._layout.desiredScrollX !== val) {\r\n      this._layout.desiredScrollX = val;\r\n      this._syncLayout();\r\n    }\r\n  }\r\n  get scrollY(): number {\r\n    return this._layout.desiredScrollY;\r\n  }\r\n  set scrollY(val: number) {\r\n    this.setScrollY(val);\r\n  }\r\n  setScrollY(val: number) {\r\n    if (this._layout.desiredScrollY !== val) {\r\n      this._layout.desiredScrollY = val;\r\n      this._syncLayout();\r\n    }\r\n  }\r\n  setScroll(x: number, y: number) {\r\n    if (this._layout.desiredScrollX !== x || this._layout.desiredScrollY !== y) {\r\n      this._layout.desiredScrollX = x;\r\n      this._layout.desiredScrollY = y;\r\n      this._syncLayout();\r\n    }\r\n  }\r\n  getRect(): UIRect {\r\n    this._uiscene.updateLayout();\r\n    return this._layout.actualRect;\r\n  }\r\n  getClippedRect(): UIRect {\r\n    this._uiscene.updateLayout();\r\n    return this._layout.clippedRect;\r\n  }\r\n  getClientRect(): UIRect {\r\n    this._uiscene.updateLayout();\r\n    return this._layout.clientRect;\r\n  }\r\n  getBorderRect(): UIRect {\r\n    this._uiscene.updateLayout();\r\n    return this._layout.borderRect;\r\n  }\r\n  /*\r\n  enable () {\r\n      const parentCounter = this._parent ? this._parent._disableCounter : 0;\r\n      if (this._disableCounter > parentCounter) {\r\n          this._disable (-1);\r\n          this._updateState ();\r\n      }\r\n  }\r\n  disable () {\r\n      const parentCounter = this._parent ? this._parent._disableCounter : 0;\r\n      if (this._disableCounter === parentCounter) {\r\n          this._disable (1);\r\n          this._updateState ();\r\n      }\r\n  }\r\n  get enabled (): boolean {\r\n      return this._disableCounter === 0;\r\n  }\r\n  set enabled (enable: boolean) {\r\n      enable ? this.enable () : this.disable ();\r\n  }\r\n  */\r\n  get nextSibling(): RNode {\r\n    return this._getNextSibling(false);\r\n  }\r\n  get previousSibling(): RNode {\r\n    return this._getPreviousSibling(false);\r\n  }\r\n  /** @internal */\r\n  protected _remove(): RNode {\r\n    let parent: RNode = null;\r\n    if (this._parent) {\r\n      parent = this._parent;\r\n      const index = this._parent._childNodes.indexOf(this);\r\n      console.assert(index >= 0, 'remove: node is not child');\r\n      const focus = this._uiscene.getFocus();\r\n      if (focus && focus._isSucceedingOf(this)) {\r\n        this._uiscene.setFocus(null);\r\n      }\r\n      const captured = this._uiscene.getCapture();\r\n      if (captured && captured._isSucceedingOf(this)) {\r\n        this._uiscene.setCapture(null);\r\n      }\r\n      this._parent._removeChild(index);\r\n      this._parent = null;\r\n      this._disable(-this._disableCounter);\r\n    } else {\r\n      return null;\r\n    }\r\n    this._removeEvent.parent = parent;\r\n    this._uiscene.dispatchEvent(this._removeEvent);\r\n    return this;\r\n  }\r\n  /** @internal */\r\n  protected _before(...nodes: (RNode | string)[]): void {\r\n    console.assert(!!this.parentNode, 'Failed to execute before: parent element must not be null');\r\n    console.assert(nodes.indexOf(this) < 0, 'Failed to execute before: cannot insert self node');\r\n    let first: RNode = this;\r\n    for (let i = nodes.length - 1; i >= 0; i--) {\r\n      const node = nodes[i];\r\n      if (typeof node === 'string') {\r\n        const textNode = this._uiscene.createTextNode();\r\n        textNode.textContent = node;\r\n        textNode.style.width = 'auto';\r\n        textNode.style.height = 'auto';\r\n        textNode.style.flex = '0 0 auto';\r\n        textNode.style.cursor = 'auto';\r\n        this.parentNode.insertBefore(textNode, first);\r\n        first = textNode;\r\n      } else if (node instanceof RNode) {\r\n        this.parentNode.insertBefore(node, first);\r\n        first = node;\r\n      }\r\n    }\r\n  }\r\n  /** @internal */\r\n  protected _after(...nodes: (RNode | string)[]): void {\r\n    console.assert(!!this.parentNode, 'Failed to execute after: parent element must not be null');\r\n    console.assert(nodes.indexOf(this) < 0, 'Failed to execute after: cannot insert self node');\r\n    const next: RNode = this.nextSibling;\r\n    if (next) {\r\n      next._before(...nodes);\r\n    } else {\r\n      this.parentNode._append(...nodes);\r\n    }\r\n  }\r\n  /** @internal */\r\n  protected _append(...nodes: (RNode | string)[]): void {\r\n    for (const node of nodes) {\r\n      if (typeof node === 'string') {\r\n        const textNode = this._uiscene.createTextNode();\r\n        textNode.textContent = node;\r\n        textNode.style.width = 'auto';\r\n        textNode.style.height = 'auto';\r\n        textNode.style.flex = '0 0 auto';\r\n        textNode.style.cursor = 'auto';\r\n        textNode.style.backgroundColor = 'rgba(0,0,0,0)';\r\n        this.appendChild(textNode);\r\n      } else if (node instanceof RNode) {\r\n        this.appendChild(node);\r\n      }\r\n    }\r\n  }\r\n  /** @internal */\r\n  protected _prepend(...nodes: (RNode | string)[]): void {\r\n    const first = this.firstChild;\r\n    if (!first) {\r\n      this._append(...nodes);\r\n    } else {\r\n      first._before(...nodes);\r\n    }\r\n  }\r\n  cloneNode(deep: boolean): RNode {\r\n    throw new Error(`Failed to call cloneNode(${deep})`);\r\n  }\r\n  getRootNode(): RNode {\r\n    let root: RNode = this;\r\n    while (root.parentNode) {\r\n      root = root.parentNode;\r\n    }\r\n    return root;\r\n  }\r\n  appendChild(child: RNode): RNode {\r\n    console.assert(!!child, `Failed to appendChild: element to be append is ${child}`);\r\n    console.assert(\r\n      !this._isSucceedingOf(child),\r\n      `Failed to appendChild: cannot append parent element`);\r\n    const ref = this.lastChild?._layout.nextSibling()?.element;\r\n    child._reparent(this, ref);\r\n    return child;\r\n  }\r\n  insertBefore(newElement: RNode, referenceElement: RNode) {\r\n    console.assert(\r\n      referenceElement && this === referenceElement.parentNode,\r\n      'Failed to insertBefore: reference element is not a valid elememnt or is not a child of this node');\r\n    console.assert(!!newElement, `Failed to insertBefore: element to be insert is ${newElement}`);\r\n    console.assert(\r\n      !this._isSucceedingOf(newElement),\r\n      `Failed to insertBefore: cannot insert parent element`);\r\n    newElement._reparent(this, referenceElement);\r\n    return newElement;\r\n  }\r\n  removeChild(child: RNode) {\r\n    console.assert(!!child, `Failed to removeChild: element to be remove is ${child}`);\r\n    console.assert(\r\n      this === child.parentNode,\r\n      'Failed to removeChild: element to be remove is not a child of this node');\r\n    return child._remove();\r\n  }\r\n  replaceChild(newChild: RNode, oldChild: RNode) {\r\n    console.assert(!!newChild, `Failed to replaceChild: element to be insert is ${newChild}`);\r\n    console.assert(!!oldChild, `Failed to replaceChild: element to be replaced is ${oldChild}`);\r\n    console.assert(\r\n      this === oldChild.parentNode,\r\n      'Failed to replaceChild: element to be replaced is not a child of this node');\r\n    if (newChild !== oldChild) {\r\n      const next = oldChild.nextSibling;\r\n      this.removeChild(oldChild);\r\n      if (next) {\r\n        this.insertBefore(newChild, next);\r\n      } else {\r\n        this.appendChild(newChild);\r\n      }\r\n    }\r\n    return oldChild;\r\n  }\r\n  get firstChild(): RNode {\r\n    return this._getFirstChild(false);\r\n  }\r\n  get lastChild(): RNode {\r\n    return this._getLastChild(false);\r\n  }\r\n  contains(child: RNode): boolean {\r\n    return child && child._isSucceedingOf(this);\r\n  }\r\n  hasChildNodes(): boolean {\r\n    return this.childNodes.length > 0;\r\n  }\r\n  setCapture() {\r\n    if (this._isSucceedingOf(this._uiscene.document)) {\r\n      this._uiscene.setCapture(this);\r\n    }\r\n  }\r\n  releaseCapture() {\r\n    if (this._uiscene.getCapture() === this) {\r\n      this._uiscene.setCapture(null);\r\n    }\r\n  }\r\n  traverse(v: INodeVisitor, inverse?: boolean, render?: boolean) {\r\n    v.beginTraverseNode(this);\r\n    if (!this._isVisible()) {\r\n      return;\r\n    }\r\n    if (render) {\r\n      if (this._renderOrderChanged) {\r\n        this._renderOrderChanged = false;\r\n        this._updateRenderOrders();\r\n      }\r\n      if (inverse) {\r\n        for (let i = this._renderOrder.length - 1; i >= 0; i--) {\r\n          this._childNodes[this._renderOrder[i]].traverse(v, inverse, render);\r\n        }\r\n        v.visitNode(this);\r\n      } else {\r\n        v.visitNode(this);\r\n        for (let i = 0; i < this._renderOrder.length; i++) {\r\n          this._childNodes[this._renderOrder[i]].traverse(v, inverse, render);\r\n        }\r\n      }\r\n    } else {\r\n      if (inverse) {\r\n        for (let i = this._childNodes.length - 1; i >= 0; i--) {\r\n          this._childNodes[i].traverse(v, inverse, render);\r\n        }\r\n        v.visitNode(this);\r\n      } else {\r\n        v.visitNode(this);\r\n        for (const child of this._childNodes) {\r\n          child.traverse(v, inverse, render);\r\n        }\r\n      }\r\n    }\r\n    v.endTraverseNode(this);\r\n  }\r\n  checkContents() {\r\n    const img = this.style.backgroundImage\r\n      ? this._uiscene.imageManager.getImage(this.style.backgroundImage)\r\n      : null;\r\n    if (img !== this._backgroundImage) {\r\n      this._backgroundImage = img;\r\n      this._contentDirty = true;\r\n    }\r\n    if (this._contentDirty) {\r\n      this._contentDirty = false;\r\n      this._batchList.clear();\r\n      const w = this._layout.actualRect.width;\r\n      const h = this._layout.actualRect.height;\r\n      if (w > 0 && h > 0) {\r\n        const v = this.toAbsolute({ x: 0, y: 0 });\r\n        this._batchList.x = v.x;\r\n        this._batchList.y = v.y;\r\n        this._buildVertexData();\r\n      }\r\n    }\r\n  }\r\n  draw(renderer: GUIRenderer) {\r\n    let drawDefault = true;\r\n    if (this._customDraw) {\r\n      this.gui.renderer.beginCustomDraw(this);\r\n      RNode._drawEvent.reset();\r\n      this.dispatchEvent(RNode._drawEvent);\r\n      this.gui.renderer.endCustomDraw(this);\r\n      if (RNode._drawEvent.defaultPrevented) {\r\n        drawDefault = false;\r\n      }\r\n    }\r\n    if (drawDefault) {\r\n      this.checkContents();\r\n      this._draw(renderer);\r\n    }\r\n  }\r\n  toAbsolute(v?: RCoord): RCoord {\r\n    return this._layout.toAbsolute(v);\r\n  }\r\n  /** @internal */\r\n  _getCachedFontSize(): string {\r\n    return this._cachedFontSize || this.parentNode?._getCachedFontSize() || RNode._defaultFontSize;\r\n  }\r\n  /** @internal */\r\n  _getCachedFontFamily(): string {\r\n    return (\r\n      this._cachedFontFamily || this.parentNode?._getCachedFontFamily() || RNode._defaultFontFamily\r\n    );\r\n  }\r\n  /** @internal */\r\n  _getCachedFont(): Font {\r\n    if (!this._font) {\r\n      this._font = Font.fetchFont(`${this._getCachedFontSize()} ${this._getCachedFontFamily()}`, this._uiscene.renderer.screenToDevice(1));\r\n      // this._font = new Font(`${this._getCachedFontSize()} ${this._getCachedFontFamily()}`);\r\n    }\r\n    return this._font;\r\n  }\r\n  /** @internal */\r\n  _getCachedFontColor(): RColor {\r\n    return (\r\n      this._fontColor || this.parentNode?._getCachedFontColor() || ElementStyle.defaultFontColor\r\n    );\r\n  }\r\n  /** @internal */\r\n  _updatePseudoElementStyles(types: Map<string, { stylesheet: IStyleSheet; extra: unknown }[]>) {\r\n    for (const name of ['before', 'after']) {\r\n      const info = types?.get(name);\r\n      let pseudo: number;\r\n      let node: RNode;\r\n      if (name === 'before') {\r\n        pseudo = RNode.PSEUDO_BEFORE;\r\n        node =\r\n          this._childNodes.length > 0 && this._childNodes[0]._getPseudo() === pseudo\r\n            ? this._childNodes[0]\r\n            : null;\r\n      } else {\r\n        pseudo = RNode.PSEUDO_AFTER;\r\n        node =\r\n          this._childNodes.length > 0 &&\r\n            this._childNodes[this._childNodes.length - 1]._getPseudo() === pseudo\r\n            ? this._childNodes[this._childNodes.length - 1]\r\n            : null;\r\n      }\r\n      if (info && !node) {\r\n        node = this.ownerDocument.createElement('div');\r\n        node._setInternal();\r\n        node._setPseudo(pseudo);\r\n        node.style.flex = '0 0 auto';\r\n        node._reparent(\r\n          this,\r\n          name === 'before' && this._childNodes.length > 0 ? this._childNodes[0] : null,\r\n        );\r\n        for (const s of info) {\r\n          node.style.applyStyleSheet(s.stylesheet, true);\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        const content = (info[info.length - 1].extra as any).content;\r\n        if (info.length > 0 && typeof content === 'string') {\r\n          const s = content.trim();\r\n          let match = s.match(/^'([^']*)'$/);\r\n          if (!match) {\r\n            match = s.match(/^\"([^\"]*)\"$/);\r\n          }\r\n          if (match) {\r\n            node.textContent = unescapeCSSString(match[1]);\r\n          }\r\n        }\r\n      } else if (node && !info) {\r\n        node._remove();\r\n      }\r\n    }\r\n  }\r\n  /** @internal */\r\n  _updateStyle(val: string) {\r\n    this._uiscene._markStyleRefreshForElement(this);\r\n  }\r\n  /** @internal */\r\n  _updateBorder() {\r\n    this._invalidateContent();\r\n  }\r\n  /** @internal */\r\n  _updateZIndex() {\r\n    if (this._parent) {\r\n      this._parent._markRenderOrderChanged();\r\n    }\r\n    return this;\r\n  }\r\n  /** @internal */\r\n  _updateCursor(val: string): void { }\r\n  /** @internal */\r\n  _updateDisplay(val: string): void {\r\n    this._hide = val === 'none';\r\n  }\r\n  /** @internal */\r\n  _updateBorderLeftColor(val: RColor): void {\r\n    this._borderLeftColor.r = val.r;\r\n    this._borderLeftColor.g = val.g;\r\n    this._borderLeftColor.b = val.b;\r\n    this._borderLeftColor.a = val.a;\r\n    this._invalidateContent();\r\n  }\r\n  /** @internal */\r\n  _updateBorderTopColor(val: RColor): void {\r\n    this._borderTopColor.r = val.r;\r\n    this._borderTopColor.g = val.g;\r\n    this._borderTopColor.b = val.b;\r\n    this._borderTopColor.a = val.a;\r\n    this._invalidateContent();\r\n  }\r\n  /** @internal */\r\n  _updateBorderRightColor(val: RColor): void {\r\n    this._borderRightColor.r = val.r;\r\n    this._borderRightColor.g = val.g;\r\n    this._borderRightColor.b = val.b;\r\n    this._borderRightColor.a = val.a;\r\n    this._invalidateContent();\r\n  }\r\n  /** @internal */\r\n  _updateBorderBottomColor(val: RColor): void {\r\n    this._borderBottomColor.r = val.r;\r\n    this._borderBottomColor.g = val.g;\r\n    this._borderBottomColor.b = val.b;\r\n    this._borderBottomColor.a = val.a;\r\n    this._invalidateContent();\r\n  }\r\n  /** @internal */\r\n  _updateBackgroundColor(val: RColor): void {\r\n    this._backgroundColor.r = val.r;\r\n    this._backgroundColor.g = val.g;\r\n    this._backgroundColor.b = val.b;\r\n    this._backgroundColor.a = val.a;\r\n    this._invalidateContent();\r\n  }\r\n  /** @internal */\r\n  _updateFont(val: string): void {\r\n    if (this.style.font === val) {\r\n      this._font = val ? Font.fetchFont(val, this._uiscene.renderer.screenToDevice(1)) : null;\r\n    }\r\n    this._invalidateContent();\r\n    this._invalidateLayout();\r\n    for (const child of this._childNodes) {\r\n      child._updateFont(val);\r\n    }\r\n  }\r\n  /** @internal */\r\n  _updateFontSize(val: string): void {\r\n    val = val || null;\r\n    if (this._cachedFontSize !== val) {\r\n      this._cachedFontSize = val;\r\n      this._font = null;\r\n      this._invalidateContent();\r\n      this._invalidateLayout();\r\n      for (const child of this._childNodes) {\r\n        child._invalidateFont(true, false);\r\n      }\r\n    }\r\n  }\r\n  /** @internal */\r\n  _updateFontFamily(val: string): void {\r\n    val = val || null;\r\n    if (this._cachedFontFamily !== val) {\r\n      this._cachedFontFamily = val;\r\n      this._font = null;\r\n      this._invalidateContent();\r\n      this._invalidateLayout();\r\n      for (const child of this._childNodes) {\r\n        child._invalidateFont(false, true);\r\n      }\r\n    }\r\n  }\r\n  /** @internal */\r\n  _updateFontColor(val: string): void {\r\n    if (this.style.color === val) {\r\n      this._fontColor = val ? this.style.parseColor(val) : null;\r\n    }\r\n    this._invalidateContent();\r\n    for (const child of this._childNodes) {\r\n      child._updateFontColor(val);\r\n    }\r\n  }\r\n  /** @internal */\r\n  _isSucceedingOf(w: RNode): boolean {\r\n    let p: RNode = this;\r\n    while (p && p !== w) {\r\n      p = p.parentNode;\r\n    }\r\n    return !!p;\r\n  }\r\n  /** @internal */\r\n  _isValid(): boolean {\r\n    return this._uiscene && this._isSucceedingOf(this._uiscene.document);\r\n  }\r\n  /** @internal */\r\n  _invalidateLayout() {\r\n    if (this._isSucceedingOf(this._uiscene.document)) {\r\n      this._layout.markDirty();\r\n      this._uiscene.invalidateLayout();\r\n    }\r\n  }\r\n  /** @internal */\r\n  _invalidateContent() {\r\n    this._contentDirty = true;\r\n  }\r\n  /** @internal */\r\n  _invalidateFont(sizeChange: boolean, familyChange: boolean) {\r\n    if (\r\n      (sizeChange && this._cachedFontSize === null) ||\r\n      (familyChange && this._cachedFontFamily === null)\r\n    ) {\r\n      this._font = null;\r\n      this._invalidateContent();\r\n      for (const child of this._childNodes) {\r\n        child._invalidateFont(sizeChange, familyChange);\r\n      }\r\n    }\r\n  }\r\n  /** @internal */\r\n  _reparent(p: RNode, at?: RNode): RNode {\r\n    if (this._parent !== p) {\r\n      this._remove();\r\n      this._parent = p;\r\n      if (p) {\r\n        p._insertChild(this, at ? p._childNodes.indexOf(at) : -1);\r\n        this._disable(p._disableCounter);\r\n        this._insertEvent.parent = p;\r\n        this._uiscene.dispatchEvent(this._insertEvent);\r\n      }\r\n    }\r\n    return this;\r\n  }\r\n  /** @internal */\r\n  _calcLayout() {\r\n    this._layout.calcLayout();\r\n    this._syncLayout();\r\n  }\r\n  /** @internal */\r\n  _getClipper(clipToClient: boolean): UIRect {\r\n    const clipper: UIRect =\r\n      this._layout.clippedRect ||\r\n      (clipToClient\r\n        ? this._layout.clientRect\r\n        : {\r\n          x: 0,\r\n          y: 0,\r\n          width: this._layout.actualRect.width,\r\n          height: this._layout.actualRect.height,\r\n        });\r\n    return clipper.width > 0 && clipper.height > 0 ? clipper : null;\r\n  }\r\n  /** @internal */\r\n  _measureContentSize(rc: UIRect): UIRect {\r\n    rc.width = 0;\r\n    rc.height = 0;\r\n    return rc;\r\n  }\r\n  /** @internal */\r\n  _onMouseIn(x: number, y: number) {\r\n    const cursor = this.style.cursor || defaultCursor;\r\n    if (cursor !== 'auto') {\r\n      this._uiscene.renderer.setCursorStyle(cursor);\r\n    }\r\n  }\r\n  /** @internal */\r\n  _onMouseOut(x: number, y: number) { }\r\n  /** @internal */\r\n  _onMouseEnter(x: number, y: number) {\r\n    this._mouseIn = true;\r\n    this._updateState();\r\n  }\r\n  /** @internal */\r\n  _onMouseLeave(x: number, y: number) {\r\n    this._mouseIn = false;\r\n    this._updateState();\r\n  }\r\n  /** @internal */\r\n  _onMouseDown(x: number, y: number) {\r\n    this._mouseDown = true;\r\n    this._updateState();\r\n  }\r\n  /** @internal */\r\n  _onMouseUp(x: number, y: number) {\r\n    this._mouseDown = false;\r\n    this._updateState();\r\n  }\r\n  /** @internal */\r\n  _getDefaultStyleSheet(): IStyleSheet {\r\n    const style = {} as IStyleSheet;\r\n    style.flex = '0 1 auto';\r\n    style.flexDirection = 'row';\r\n    style.width = 'auto';\r\n    style.height = 'auto';\r\n    return style;\r\n  }\r\n  /** @internal */\r\n  _resetStyle() {\r\n    this._font = null;\r\n    this._fontColor = null;\r\n    this.style.reset();\r\n    this.style.applyStyleSheet(this._getDefaultStyleSheet(), false);\r\n  }\r\n  /** @internal */\r\n  _applyInlineStyles() { }\r\n  /** @internal */\r\n  _isVisible(): boolean {\r\n    return !this._hide && (!this._parent || this._parent._isVisible());\r\n  }\r\n  /** @internal */\r\n  _getLayout(): UILayout {\r\n    return this._layout;\r\n  }\r\n  /** @internal */\r\n  _syncLayout() {\r\n    this._layout.calcLayoutScroll();\r\n    this._layout.calcLayoutClip();\r\n    this._notifyLayoutEvents();\r\n  }\r\n  /** @internal */\r\n  protected _updateState() {\r\n    if (this._pseudo === RNode.PSEUDO_NONE) {\r\n      this._uiscene._markStyleRefreshForElement(this);\r\n    }\r\n  }\r\n  /** @internal */\r\n  protected _draw(renderer: GUIRenderer) {\r\n    if (this._batchList.length > 0) {\r\n      this._uiscene._drawBatchList(this._batchList);\r\n    }\r\n  }\r\n  /** @internal */\r\n  protected _buildVertexData() {\r\n    const w = this._layout.actualRect.width;\r\n    const h = this._layout.actualRect.height;\r\n    const img = this._backgroundImage;\r\n    let drawPatch9 = !!(img?.topLeftPatch9 && img?.bottomRightPatch9);\r\n    if (drawPatch9) {\r\n      if (\r\n        img.topLeftPatch9.x + img.bottomRightPatch9.x > this._layout.actualRect.height ||\r\n        img.topLeftPatch9.y + img.bottomRightPatch9.y > this._layout.actualRect.width\r\n      ) {\r\n        drawPatch9 = false;\r\n      }\r\n    }\r\n    const color = this._backgroundColor;\r\n    const clipper = this._getClipper(false);\r\n    if (clipper) {\r\n      if (color.a > 0) {\r\n        if (!drawPatch9) {\r\n          const u1 = img?.uvMin.x || 0;\r\n          const v1 = img?.uvMin.y || 0;\r\n          const u2 = img?.uvMax.x || 0;\r\n          const v2 = img?.uvMax.y || 0;\r\n          this._batchList.addPrimitive(\r\n            new RRectPrimitive(0, 0, w, h, u1, v1, u2, v2),\r\n            clipper,\r\n            this._backgroundImage?.texture || null,\r\n            color,\r\n          );\r\n        } else {\r\n          let t = img.topLeftPatch9.x;\r\n          let l = img.topLeftPatch9.y;\r\n          let b = img.bottomRightPatch9.x;\r\n          let r = img.bottomRightPatch9.y;\r\n          const u1 = img.uvMin.x;\r\n          const v1 = img.uvMin.y;\r\n          const u2 = img.uvMax.x;\r\n          const v2 = img.uvMax.y;\r\n          const aw = (this._uiscene.renderer.getTextureWidth(img.texture) * (u2 - u1) + 0.5) | 0;\r\n          const ah = (this._uiscene.renderer.getTextureHeight(img.texture) * (v2 - v1) + 0.5) | 0;\r\n          const ul = u1 + (u2 - u1) * l;\r\n          const ur = u1 + (u2 - u1) * r;\r\n          const vt = v1 + (v2 - v1) * t;\r\n          const vb = v1 + (v2 - v1) * b;\r\n          t = (t * ah) | 0;\r\n          l = (l * aw) | 0;\r\n          b = ah - ((b * ah) | 0);\r\n          r = aw - ((r * aw) | 0);\r\n          const quads = [\r\n            t === 0 || l === 0 ? null : [0, 0, l, t, u1, v1, ul, vt],\r\n            t === 0 ? null : [t, 0, w - l - r, t, ul, v1, ur, vt],\r\n            t === 0 || r === 0 ? null : [w - r, 0, r, t, ur, v1, u2, vt],\r\n            t + b === h ? null : [0, t, l, h - t - b, u1, vt, ul, vb],\r\n            t + b === h ? null : [l, t, w - l - r, h - t - b, ul, vt, ur, vb],\r\n            t + b === h ? null : [w - r, t, r, h - t - b, ur, vt, u2, vb],\r\n            b === 0 || l === 0 ? null : [0, h - b, l, b, u1, vb, ul, v2],\r\n            b === 0 ? null : [l, h - b, w - l - r, b, ul, vb, ur, v2],\r\n            b === 0 || r === 0 ? null : [w - r, h - b, r, b, ur, vb, u2, v2],\r\n          ];\r\n          for (const q of quads) {\r\n            if (q) {\r\n              tmpUV1.x = q[4];\r\n              tmpUV1.y = q[5];\r\n              tmpUV2.x = q[6];\r\n              tmpUV2.y = q[7];\r\n              this._batchList.addPrimitive(\r\n                new RRectPrimitive(q[0], q[1], q[2], q[3], q[4], q[5], q[6], q[7]),\r\n                clipper,\r\n                this._backgroundImage?.texture || null,\r\n                color,\r\n              );\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      const borderLeft = this.style.borderLeftWidth\r\n        ? parseInt(this.style.borderLeftWidth as string)\r\n        : 0;\r\n      const borderTop = this.style.borderTopWidth\r\n        ? parseInt(this.style.borderTopWidth as string)\r\n        : 0;\r\n      const borderRight = this.style.borderRightWidth\r\n        ? parseInt(this.style.borderRightWidth as string)\r\n        : 0;\r\n      const borderBottom = this.style.borderBottomWidth\r\n        ? parseInt(this.style.borderBottomWidth as string)\r\n        : 0;\r\n      const borderColorLeft = this._borderLeftColor;\r\n      const borderColorTop = this._borderTopColor;\r\n      const borderColorRight = this._borderRightColor;\r\n      const borderColorBottom = this._borderBottomColor;\r\n      if (borderLeft && borderColorLeft.a > 0) {\r\n        this._batchList.addPrimitive(\r\n          new RPolygonPrimitive([\r\n            { x: 0, y: 0 },\r\n            { x: borderLeft, y: borderTop },\r\n            { x: borderLeft, y: h - borderBottom },\r\n            { x: 0, y: h },\r\n          ]),\r\n          clipper,\r\n          null,\r\n          borderColorLeft,\r\n        );\r\n      }\r\n      if (borderTop && borderColorTop.a > 0) {\r\n        this._batchList.addPrimitive(\r\n          new RPolygonPrimitive([\r\n            { x: 0, y: 0 },\r\n            { x: w, y: 0 },\r\n            { x: w - borderRight, y: borderTop },\r\n            { x: borderLeft, y: borderTop },\r\n          ]),\r\n          clipper,\r\n          null,\r\n          borderColorTop,\r\n        );\r\n      }\r\n      if (borderRight && borderColorRight.a > 0) {\r\n        this._batchList.addPrimitive(\r\n          new RPolygonPrimitive([\r\n            { x: w - borderRight, y: borderTop },\r\n            { x: w, y: 0 },\r\n            { x: w, y: h },\r\n            { x: w - borderRight, y: h - borderBottom },\r\n          ]),\r\n          clipper,\r\n          null,\r\n          borderColorRight,\r\n        );\r\n      }\r\n      if (borderBottom && borderColorBottom.a > 0) {\r\n        this._batchList.addPrimitive(\r\n          new RPolygonPrimitive([\r\n            { x: 0, y: h },\r\n            { x: borderLeft, y: h - borderBottom },\r\n            { x: w - borderRight, y: h - borderBottom },\r\n            { x: w, y: h },\r\n          ]),\r\n          clipper,\r\n          null,\r\n          borderColorBottom,\r\n        );\r\n      }\r\n    }\r\n  }\r\n  /** @internal */\r\n  _isText(): boolean {\r\n    return false;\r\n  }\r\n  /** @internal */\r\n  _isInternal(): boolean {\r\n    return this._internal;\r\n  }\r\n  /** @internal */\r\n  _setInternal(): void {\r\n    this._internal = true;\r\n  }\r\n  /** @internal */\r\n  _getPseudo(): number {\r\n    return this._pseudo;\r\n  }\r\n  /** @internal */\r\n  _setPseudo(val: number) {\r\n    this._pseudo = val;\r\n  }\r\n  /** @internal */\r\n  _isHover(): boolean {\r\n    return this._mouseIn;\r\n  }\r\n  /** @internal */\r\n  _isActive(): boolean {\r\n    return this._mouseDown;\r\n  }\r\n  /** @internal */\r\n  _disable(count: number) {\r\n    this._disableCounter += count;\r\n    for (const child of this._childNodes) {\r\n      child._disable(count);\r\n    }\r\n  }\r\n  /** @internal */\r\n  _markRenderOrderChanged() {\r\n    this._renderOrderChanged = true;\r\n  }\r\n  /** @internal */\r\n  _updateRenderOrders() {\r\n    this._renderOrder = this._childNodes.map((val, index) => index);\r\n    // do stable sort\r\n    this._renderOrder.sort(\r\n      (a, b) => this._childNodes[a]._getZIndex() - this._childNodes[b]._getZIndex() || a - b,\r\n    );\r\n  }\r\n  /** @internal */\r\n  _notifyLayoutEvents() {\r\n    if (this._layout.changeStamp !== this._layoutChangeStamp) {\r\n      this._layoutChangeStamp = this._layout.changeStamp;\r\n      this._invalidateContent();\r\n      this.dispatchEvent(new RElementLayoutEvent());\r\n    }\r\n    this._updateScrollState();\r\n    for (const child of this._childNodes) {\r\n      child._notifyLayoutEvents();\r\n    }\r\n  }\r\n  /** @internal */\r\n  _notifyTextContentEvents() {\r\n    this.dispatchEvent(new RTextContentChangeEvent());\r\n  }\r\n  /** @internal */\r\n  _getZIndex(): number {\r\n    let val = Number(this.style.zIndex);\r\n    if (Number.isNaN(val)) {\r\n      val = 0;\r\n    }\r\n    return val;\r\n  }\r\n  /** @internal */\r\n  _removeChild(index: number) {\r\n    this._layout.removeChild(this._childNodes[index]._getLayout());\r\n    this._childNodes.splice(index, 1);\r\n    this._invalidateLayout();\r\n    this._markRenderOrderChanged();\r\n  }\r\n  /** @internal */\r\n  _insertChild(child: RNode, index = -1) {\r\n    if (index >= 0) {\r\n      let p = this._childNodes[index];\r\n      this._layout.insertChild(child._getLayout(), p._getLayout());\r\n      this._childNodes.splice(index, 0, child);\r\n      if (child.nodeType === RNode.ELEMENT_NODE) {\r\n        for (; p; p = p.nextSibling) {\r\n          if (p.nodeType === RNode.ELEMENT_NODE) {\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      this._layout.appendChild(child._getLayout());\r\n      this._childNodes.push(child);\r\n    }\r\n    this._invalidateLayout();\r\n    this._markRenderOrderChanged();\r\n  }\r\n  /** @internal */\r\n  _getChildren(): RNode[] {\r\n    return this._childNodes;\r\n  }\r\n  /** @internal */\r\n  protected _getFirstChild(element: boolean): RNode {\r\n    for (\r\n      let child = this._layout.firstChild()?.element;\r\n      child;\r\n      child = child._layout.nextSibling()?.element\r\n    ) {\r\n      if (!child._isInternal() && (!element || child.nodeType === RNode.ELEMENT_NODE)) {\r\n        return child;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n  /** @internal */\r\n  _getLastChild(element: boolean): RNode {\r\n    for (\r\n      let child = this._layout.lastChild()?.element;\r\n      child;\r\n      child = child._layout.previousSibling()?.element\r\n    ) {\r\n      if (!child._isInternal() && (!element || child.nodeType === RNode.ELEMENT_NODE)) {\r\n        return child;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n  /** @internal */\r\n  _getNextSibling(element: boolean): RNode {\r\n    let result: RNode = this;\r\n    do {\r\n      result = result._layout.nextSibling()?.element || null;\r\n    } while (\r\n      result &&\r\n      (result._isInternal() || (!!element && result.nodeType !== RNode.ELEMENT_NODE))\r\n    );\r\n    return result;\r\n  }\r\n  /** @internal */\r\n  _getPreviousSibling(element: boolean): RNode {\r\n    let result: RNode = this;\r\n    do {\r\n      result = result._layout.previousSibling()?.element || null;\r\n    } while (\r\n      result &&\r\n      (result._isInternal() || (!!element && result.nodeType !== RNode.ELEMENT_NODE))\r\n    );\r\n    return result;\r\n  }\r\n  /** @internal */\r\n  _init(): void {\r\n  }\r\n  /** @internal */\r\n  protected _updateScrollState(): void {\r\n    const overflowX = this.style.overflowX || 'auto';\r\n    const overflowY = this.style.overflowY || 'auto';\r\n    let xOverflow =\r\n      overflowX === 'scroll' ||\r\n      (overflowX === 'auto' &&\r\n        this._layout.scrollRect !== null &&\r\n        this._layout.scrollRect.width > this._layout.actualRect.width);\r\n    let yOverflow =\r\n      overflowY === 'scroll' ||\r\n      (overflowY === 'auto' &&\r\n        this._layout.scrollRect !== null &&\r\n        this._layout.scrollRect.height > this._layout.actualRect.height);\r\n    const scrollBarSize = 12;\r\n    const blockSize = 8;\r\n    const buttonSize = 12;\r\n    if (xOverflow) {\r\n      const width = yOverflow\r\n        ? this._layout.clientRect.width - scrollBarSize\r\n        : this._layout.clientRect.width;\r\n      if (this._layout.clientRect.height < scrollBarSize || width < 2 * buttonSize + blockSize) {\r\n        xOverflow = false;\r\n      } else {\r\n        if (!this._hScroll) {\r\n          this._hScroll = this._uiscene.createElement('scrollbar');\r\n          this._hScroll.style.position = 'fixed';\r\n          this._hScroll.style.zIndex = 999999;\r\n          this._hScroll.style.height = scrollBarSize;\r\n          this._hScroll.setAttribute('orientation', 'horizonal');\r\n          this._hScroll.setAttribute('blockSize', String(blockSize));\r\n          this._hScroll.setAttribute('buttonSize', String(buttonSize));\r\n          this._hScroll._setInternal();\r\n          this._hScroll.addDefaultEventListener(RValueChangeEvent.NAME, (e: REvent) => {\r\n            const data: RValueChangeEvent = e as RValueChangeEvent;\r\n            this.scrollX = data.value;\r\n          });\r\n          this.appendChild(this._hScroll);\r\n        }\r\n        this._hScroll.setAttribute('rangeStart', String(this._layout.minScrollX));\r\n        this._hScroll.setAttribute('rangeEnd', String(this._layout.maxScrollX));\r\n        this._hScroll.setAttribute('value', String(this.scrollX));\r\n        this._hScroll.style.left = this._layout.clientRect.x - this._layout.borderRect.x;\r\n        this._hScroll.style.width = width;\r\n        this._hScroll.style.bottom =\r\n          this._layout.borderRect.height -\r\n          this._layout.clientRect.height -\r\n          this._layout.clientRect.y +\r\n          this._layout.borderRect.y;\r\n      }\r\n    }\r\n    if (!xOverflow && this._hScroll) {\r\n      this.removeChild(this._hScroll);\r\n      this._hScroll = null;\r\n    }\r\n    if (yOverflow) {\r\n      const height = xOverflow\r\n        ? this._layout.clientRect.height - scrollBarSize\r\n        : this._layout.clientRect.height;\r\n      if (this._layout.clientRect.width < scrollBarSize || height < 2 * buttonSize + blockSize) {\r\n        yOverflow = false;\r\n      } else {\r\n        if (!this._vScroll) {\r\n          this._vScroll = this._uiscene.createElement('scrollbar');\r\n          this._vScroll.style.position = 'fixed';\r\n          this._vScroll.style.zIndex = 999999;\r\n          this._vScroll.style.width = scrollBarSize;\r\n          this._vScroll.setAttribute('orientation', 'vertical');\r\n          this._vScroll.setAttribute('blockSize', String(blockSize));\r\n          this._vScroll.setAttribute('buttonSize', String(buttonSize));\r\n          this._vScroll._setInternal();\r\n          this._vScroll.addDefaultEventListener(RValueChangeEvent.NAME, (e: REvent) => {\r\n            const data: RValueChangeEvent = e as RValueChangeEvent;\r\n            this.scrollY = data.value;\r\n          });\r\n          this.appendChild(this._vScroll);\r\n        }\r\n        this._vScroll.setAttribute('rangeStart', String(this._layout.minScrollY));\r\n        this._vScroll.setAttribute('rangeEnd', String(this._layout.maxScrollY));\r\n        this._vScroll.setAttribute('value', String(this.scrollY));\r\n        this._vScroll.style.top = this._layout.clientRect.y - this._layout.borderRect.y;\r\n        this._vScroll.style.height = height;\r\n        this._vScroll.style.right =\r\n          this._layout.borderRect.width -\r\n          this._layout.clientRect.width -\r\n          this._layout.clientRect.x +\r\n          this._layout.borderRect.x;\r\n      }\r\n    }\r\n    if (!yOverflow && this._vScroll) {\r\n      this.removeChild(this._vScroll);\r\n      this._vScroll = null;\r\n    }\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}