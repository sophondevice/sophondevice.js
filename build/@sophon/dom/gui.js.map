{"version":3,"file":"gui.js","sources":["../../../libs/dom/src/gui.ts"],"sourcesContent":["import { REvent, REventTarget } from '@sophon/base';\nimport * as Yoga from './typeflex/api';\nimport { injectGUIEvents, GUIRenderer } from './renderer';\nimport { RColor, GUIEventPathBuilder } from './types';\nimport { GlyphManager, IGlyphInfo } from './glyph_manager';\nimport { ImageManager } from './image_manager';\nimport { GUIHitTestVisitor } from './hittest_visitor';\nimport { UILayout, UIRect } from './layout';\nimport { RNode } from './node';\nimport { RText } from './components/text';\nimport { RDocument } from './document';\nimport { IStyleSheet, parseStyleSheet } from './style';\nimport { RDOMTreeEvent, RMouseEvent, RDragEvent, RKeyEvent, RFocusEvent } from './events';\nimport { RSelector, Rule } from './selector';\nimport { DummyElement } from './dummy_element';\nimport { RElement } from './element';\nimport { Input } from './components/input';\nimport { StyleElement } from './style_element';\nimport { RFlowElement } from './flow_element';\nimport { Button } from './components/button';\nimport { ScrollBar } from './components/scrollbar';\nimport { Option, Select } from './components/select';\nimport { Slider } from './components/slider';\nimport type { Texture2D, AssetManager } from '@sophon/device';\nimport type { Font } from './font';\nimport type { RPrimitiveBatchList } from './primitive';\n\ninterface IElementConstructor {\n  new(gui: GUI, ...args: unknown[]): RElement;\n}\n\nclass DrawVisitor {\n  private _renderer: GUIRenderer;\n  private _drawDragImage: boolean;\n  private _gui: GUI;\n  constructor(gui: GUI) {\n    this._gui = gui;\n    this._renderer = gui.renderer;\n    this._drawDragImage = false;\n  }\n  beginTraverse() { }\n  beginTraverseNode(w: RNode) {\n    const dragSession = this._gui.getDragSession();\n    if (\n      dragSession &&\n      dragSession.started &&\n      w === dragSession.node &&\n      dragSession.dragImage.length === 0\n    ) {\n      this._drawDragImage = true;\n    }\n  }\n  endTraverseNode(w: RNode) {\n    if (this._drawDragImage) {\n      const dragSession = this._gui.getDragSession();\n      if (dragSession && dragSession.node === w) {\n        this._drawDragImage = false;\n      }\n    }\n  }\n  endTraverse() {\n    const dragSession = this._gui.getDragSession();\n    if (dragSession && dragSession.started) {\n      const offsetX = this._gui.mouseX - dragSession.startX;\n      const offsetY = this._gui.mouseY - dragSession.startY;\n      for (const batchList of dragSession.dragImage) {\n        // TODO: optimize this (avoid vertices rebuilding by using material uniform)\n        const x = batchList.x;\n        const y = batchList.y;\n        batchList.x += offsetX;\n        batchList.y += offsetY;\n        this._gui._drawBatchList(batchList);\n        batchList.x = x;\n        batchList.y = y;\n      }\n    }\n  }\n  visitNode(w: RNode) {\n    w.draw(this._renderer);\n    if (this._drawDragImage) {\n      this._gui.getDragSession().dragImage.push(\n        w.batchList.clone({\n          colorTransformFunc: (c) => {\n            return { r: c.r, g: c.g, b: c.b, a: c.a * 0.5 };\n          },\n        }),\n      );\n    }\n  }\n}\n\nexport class ElementRegistry {\n  /** @internal */\n  private _constructors: { [tagname: string]: IElementConstructor };\n  constructor(tags?: { [tagname: string]: IElementConstructor }) {\n    this._constructors = {};\n    if (tags) {\n      for (const tag in tags) {\n        this.register(tags[tag], tag);\n      }\n    }\n  }\n  register(ctor: IElementConstructor, tagName: string) {\n    console.assert(!!ctor, 'Failed to register element type with null constructor');\n    console.assert(!!tagName, 'Failed to register element type with null tag name getter');\n    if (typeof tagName === 'string') {\n      console.assert(\n        !this._constructors[tagName],\n        'Failed to register element type: tagname already registered');\n      this._constructors[tagName] = ctor;\n    }\n  }\n  createElement(gui: GUI, tagName: string): RElement {\n    const ctor = this._constructors[tagName] || this._constructors['div'];\n    const el = new ctor(gui);\n    el._setTagName(tagName);\n    return el;\n  }\n}\n\nconst elementRegistry = new ElementRegistry({\n  link: DummyElement,\n  head: DummyElement,\n  meta: DummyElement,\n  div: RElement,\n  html: RFlowElement,\n  body: RFlowElement,\n  style: StyleElement,\n  button: Button,\n  input: Input,\n  scrollbar: ScrollBar,\n  option: Option,\n  select: Select,\n  slider: Slider,\n});\n\nconst deviceMouseEvents = {\n  [RMouseEvent.NAME_RENDERER_MOUSEDOWN]: RMouseEvent.NAME_MOUSEDOWN,\n  [RMouseEvent.NAME_RENDERER_MOUSEUP]: RMouseEvent.NAME_MOUSEUP,\n  [RMouseEvent.NAME_RENDERER_MOUSEMOVE]: RMouseEvent.NAME_MOUSEMOVE,\n  [RMouseEvent.NAME_RENDERER_MOUSECLICK]: RMouseEvent.NAME_MOUSECLICK,\n  [RMouseEvent.NAME_RENDERER_MOUSEDBLCLICK]: RMouseEvent.NAME_MOUSEDBLCLICK,\n  [RMouseEvent.NAME_RENDERER_MOUSEWHEEL]: RMouseEvent.NAME_MOUSEWHEEL,\n};\n\nconst deviceKeyEvents = {\n  [RKeyEvent.NAME_RENDERER_KEYDOWN]: RKeyEvent.NAME_KEYDOWN,\n  [RKeyEvent.NAME_RENDERER_KEYUP]: RKeyEvent.NAME_KEYUP,\n  [RKeyEvent.NAME_RENDERER_KEYPRESS]: RKeyEvent.NAME_KEYPRESS,\n};\n\nconst DRAG_DISTANCE = 4;\nconst DRAGOVER_INTERVAL = 100;\n\nclass DragSession {\n  node: RNode;\n  overNode: RNode;\n  startX: number;\n  startY: number;\n  dataTransfer: DataTransfer;\n  timer: number;\n  started: boolean;\n  cachedDragOverEvent: RDragEvent;\n  dragImage: RPrimitiveBatchList[];\n  gui: GUI;\n  constructor(gui: GUI, node: RNode, x: number, y: number) {\n    this.node = node;\n    this.overNode = null;\n    this.startX = x;\n    this.startY = y;\n    this.dataTransfer = null;\n    this.timer = null;\n    this.started = false;\n    this.cachedDragOverEvent = null;\n    this.dragImage = null;\n    this.gui = gui;\n  }\n  update(): boolean {\n    if (\n      (!this.started && Math.abs(this.gui.mouseX - this.startX) >= DRAG_DISTANCE) ||\n      Math.abs(this.gui.mouseY - this.startY) >= DRAG_DISTANCE\n    ) {\n      if (!this.start(this.gui.mouseX, this.gui.mouseY, new DataTransfer())) {\n        return false;\n      }\n    }\n    if (this.started) {\n      const hover = this.gui.getHover();\n      if (hover.element !== this.overNode) {\n        if (this.overNode) {\n          const p = this.overNode.toAbsolute();\n          if (!this.overNode.isElement() || this.overNode.style.pointerEvents !== 'none') {\n            this.overNode.dispatchEvent(\n              new RDragEvent(\n                RDragEvent.NAME_DRAGLEAVE,\n                this.gui.mouseX,\n                this.gui.mouseY,\n                this.gui.mouseX - p.x,\n                this.gui.mouseY - p.y,\n                0,\n                this.gui.mouseButtonState,\n                this.gui.ctrlKey,\n                this.gui.shiftKey,\n                this.gui.altKey,\n                this.gui.metaKey,\n                this.dataTransfer,\n              ),\n            );\n          }\n        }\n        hover.element.dispatchEvent(\n          new RDragEvent(\n            RDragEvent.NAME_DRAGENTER,\n            this.gui.mouseX,\n            this.gui.mouseY,\n            hover.x,\n            hover.y,\n            0,\n            this.gui.mouseButtonState,\n            this.gui.ctrlKey,\n            this.gui.shiftKey,\n            this.gui.altKey,\n            this.gui.metaKey,\n            this.dataTransfer,\n          ),\n        );\n        this.overNode = hover.element;\n      }\n    }\n    return true;\n  }\n  start(x: number, y: number, dataTransfer: DataTransfer): boolean {\n    if (!this.started) {\n      if (this.node && (!this.node.isElement() || this.node.style.pointerEvents !== 'none')) {\n        const absPos = this.node.toAbsolute();\n        const dragStartEvent = new RDragEvent(\n          RDragEvent.NAME_DRAGSTART,\n          x,\n          y,\n          x - absPos.x,\n          y - absPos.y,\n          0,\n          this.gui.mouseButtonState,\n          this.gui.ctrlKey,\n          this.gui.shiftKey,\n          this.gui.altKey,\n          this.gui.metaKey,\n          dataTransfer,\n        );\n        this.node.dispatchEvent(dragStartEvent);\n        if (dragStartEvent.defaultPrevented) {\n          return false;\n        }\n      }\n      this.startX = x;\n      this.startY = y;\n      this.dataTransfer = dataTransfer;\n      this.started = true;\n      this.dragImage = [];\n      this.cachedDragOverEvent = new RDragEvent(\n        RDragEvent.NAME_DRAGOVER,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        false,\n        false,\n        false,\n        false,\n        null,\n      );\n      this.timer = window.setInterval(() => {\n        const hover = this.gui.getHover();\n        if (hover) {\n          this.cachedDragOverEvent.init(\n            x,\n            y,\n            hover.x,\n            hover.y,\n            0,\n            this.gui.mouseButtonState,\n            0,\n            0,\n            this.gui.ctrlKey,\n            this.gui.shiftKey,\n            this.gui.altKey,\n            this.gui.metaKey,\n          );\n          this.cachedDragOverEvent.dataTransfer = this.dataTransfer;\n          hover.element.dispatchEvent(this.cachedDragOverEvent);\n        }\n      }, DRAGOVER_INTERVAL);\n    }\n    return true;\n  }\n  end(drop: boolean) {\n    if (this.started) {\n      if (drop) {\n        const hover = this.gui.getHover();\n        if (hover) {\n          hover.element.dispatchEvent(\n            new RDragEvent(\n              RDragEvent.NAME_DRAGDROP,\n              this.gui.mouseX,\n              this.gui.mouseY,\n              hover.x,\n              hover.y,\n              0,\n              this.gui.mouseButtonState,\n              this.gui.ctrlKey,\n              this.gui.shiftKey,\n              this.gui.altKey,\n              this.gui.metaKey,\n              this.dataTransfer,\n            ),\n          );\n        }\n      }\n      if (this.node && (!this.node.isElement() || this.node.style.pointerEvents !== 'none')) {\n        const absPos = this.node.toAbsolute();\n        this.node.dispatchEvent(\n          new RDragEvent(\n            RDragEvent.NAME_DRAGEND,\n            this.gui.mouseX,\n            this.gui.mouseY,\n            this.gui.mouseX - absPos.x,\n            this.gui.mouseY - absPos.y,\n            0,\n            this.gui.mouseButtonState,\n            this.gui.ctrlKey,\n            this.gui.shiftKey,\n            this.gui.altKey,\n            this.gui.metaKey,\n            this.dataTransfer,\n          ),\n        );\n      }\n\n      this.started = false;\n      this.dataTransfer = null;\n      this.dragImage = null;\n      this.cachedDragOverEvent = null;\n      window.clearInterval(this.timer);\n      this.timer = null;\n    }\n  }\n}\n\nexport class GUI extends REventTarget {\n  /** @internal */\n  protected _renderer: GUIRenderer;\n  /** @internal */\n  protected _imageManager: ImageManager;\n  /** @internal */\n  protected _glyphManager: GlyphManager;\n  /** @internal */\n  protected _document: RDocument;\n  /** @internal */\n  protected _focusElement: RNode;\n  /** @internal */\n  protected _activeElement: RNode;\n  /** @internal */\n  protected _captureElement: RNode;\n  /** @internal */\n  protected _layoutDirty: boolean;\n  /** @internal */\n  protected _updatingLayout: boolean;\n  /** @internal */\n  protected _topLayout: UILayout;\n  /** @internal */\n  protected _hoverElements: { element: RNode; x: number; y: number }[];\n  /** @internal */\n  protected _bounds: UIRect;\n  /** @internal */\n  protected _rendererWidth: number;\n  /** @internal */\n  protected _rendererHeight: number;\n  /** @internal */\n  protected _styleRefreshList: RNode[];\n  /** @internal */\n  protected _styleFullRefresh: boolean;\n  /** @internal */\n  protected _ruleListImported: {\n    rule: Rule;\n    stylesheet: IStyleSheet;\n    extra: unknown;\n  }[];\n  /** @internal */\n  protected _guiLoading: boolean;\n  /** @internal */\n  protected _styleUpdating: boolean;\n  /** @internal */\n  protected _domTag: number;\n  /** @internal */\n  protected _baseURI: string;\n  /** @internal */\n  protected _drawVisitor: DrawVisitor;\n  /** @internal */\n  protected _dragSession: DragSession;\n  /** @internal */\n  protected _mouseX: number;\n  /** @internal */\n  protected _mouseY: number;\n  /** @internal */\n  protected _buttonState: number;\n  /** @internal */\n  protected _ctrlKey: boolean;\n  /** @internal */\n  protected _shiftKey: boolean;\n  /** @internal */\n  protected _altKey: boolean;\n  /** @internal */\n  protected _metaKey: boolean;\n  /** @internal */\n  protected _styleElements: RElement[];\n  /** @internal */\n  protected _assetManager: AssetManager;\n\n  constructor(renderer: GUIRenderer, bounds?: UIRect) {\n    super(new GUIEventPathBuilder());\n    this._renderer = renderer;\n    this._drawVisitor = new DrawVisitor(this);\n    this._imageManager = new ImageManager(this._renderer);\n    this._glyphManager = new GlyphManager(this._renderer);\n    this._assetManager = this._renderer.device.createAssetManager();\n    this._document = null;\n    this._focusElement = null;\n    this._activeElement = null;\n    this._captureElement = null;\n    this._hoverElements = [];\n    this._layoutDirty = false;\n    this._updatingLayout = false;\n    this._bounds = bounds ? { ...bounds } : null;\n    this._styleRefreshList = [];\n    this._styleFullRefresh = false;\n    this._ruleListImported = [];\n    this._guiLoading = false;\n    this._styleUpdating = false;\n    this._domTag = 0;\n    this._baseURI = '';\n    this._dragSession = null;\n    this._mouseX = 0;\n    this._mouseY = 0;\n    this._buttonState = 0;\n    this._ctrlKey = false;\n    this._shiftKey = false;\n    this._altKey = false;\n    this._metaKey = false;\n    this._styleElements = [];\n    this._topLayout = new UILayout(null);\n    this._rendererWidth = this._renderer.getDrawingBufferWidth();\n    this._rendererHeight = this._renderer.getDrawingBufferHeight();\n    this._topLayout.node.setDisplay(Yoga.DISPLAY_FLEX);\n    this._topLayout.node.setPadding(Yoga.EDGE_LEFT, 0);\n    this._topLayout.node.setPadding(Yoga.EDGE_TOP, 0);\n    this._topLayout.node.setPadding(Yoga.EDGE_RIGHT, 0);\n    this._topLayout.node.setPadding(Yoga.EDGE_BOTTOM, 0);\n    this._topLayout.node.setPositionType(Yoga.POSITION_TYPE_ABSOLUTE);\n    this._topLayout.node.setPosition(Yoga.EDGE_LEFT, this._bounds ? this._bounds.x : 0);\n    this._topLayout.node.setPosition(Yoga.EDGE_TOP, this._bounds ? this._bounds.y : 0);\n    this._topLayout.node.setWidth(this._bounds ? this._bounds.width : this._rendererWidth);\n    this._topLayout.node.setHeight(this._bounds ? this._bounds.height : this._rendererHeight);\n    (this._renderer as any).device?.addEventListener('device_restored', () => {\n      this._invalidateTextContents();\n    });\n    /*\n    this.addDefaultEventListener('resize', function (this: GUI) {\n      if (!this._bounds) {\n        this._topLayout.node.setWidth(this._renderer.getDrawingBufferWidth());\n        this._topLayout.node.setHeight(this._renderer.getDrawingBufferHeight());\n        this.invalidateLayout();\n        setTimeout(() => {\n          const inputs = this.document.querySelectorAll('input');\n          for (const input of inputs.values()) {\n            (input as unknown as Input)._updateHiddenInput();\n          }\n        }, 0);\n      }\n    });\n    */\n    this.addDefaultEventListener(RMouseEvent.NAME_RENDERER_DRAGENTER, function (this: GUI, e: REvent) {\n      const dragEvent: RDragEvent = e as RDragEvent;\n      this._syncMouseStates(dragEvent);\n      this._updateMouseLocation(dragEvent.x, dragEvent.y, dragEvent.button);\n      if (!this._dragSession) {\n        this._dragSession = new DragSession(this, null, dragEvent.x, dragEvent.y);\n        this._dragSession.start(dragEvent.x, dragEvent.y, dragEvent.dataTransfer);\n        this._dragSession.update();\n      }\n    });\n    this.addDefaultEventListener(RMouseEvent.NAME_RENDERER_DRAGOVER, function (this: GUI, e: REvent) {\n      const dragEvent: RDragEvent = e as RDragEvent;\n      this._syncMouseStates(dragEvent);\n      this._updateMouseLocation(dragEvent.x, dragEvent.y, dragEvent.button);\n      if (this._dragSession) {\n        this._dragSession.dataTransfer = dragEvent.dataTransfer;\n        this._dragSession.update();\n      }\n    });\n    this.addDefaultEventListener(RMouseEvent.NAME_RENDERER_DRAGDROP, function (this: GUI, e: REvent) {\n      const dragEvent: RDragEvent = e as RDragEvent;\n      this._syncMouseStates(dragEvent);\n      this._updateMouseLocation(dragEvent.x, dragEvent.y, dragEvent.button);\n      if (this._dragSession) {\n        this._dragSession.dataTransfer = dragEvent.dataTransfer;\n        this._dragSession.end(true);\n        this._dragSession = null;\n      }\n    });\n    for (const evt in deviceMouseEvents) {\n      this.addDefaultEventListener(evt, function (this: GUI, e: REvent) {\n        const mouseEvent: RMouseEvent = e as RMouseEvent;\n        this._syncMouseStates(mouseEvent);\n        let click = false;\n        let dragend = false;\n        let drop = false;\n        if (evt === RMouseEvent.NAME_RENDERER_MOUSEMOVE) {\n          this._updateMouseLocation(mouseEvent.x, mouseEvent.y, mouseEvent.button);\n        }\n        let info: { element: RNode; x: number; y: number } = null;\n        for (const el of this._hoverElements) {\n          if (\n            !el.element.isElement() ||\n            el.element.style.pointerEvents !== 'none'\n          ) {\n            info = el;\n            break;\n          }\n        }\n        if (evt === RMouseEvent.NAME_RENDERER_MOUSEDOWN) {\n          if (info && mouseEvent.button === 0) {\n            if (this._dragSession) {\n              this._dragSession.end(false);\n              this._dragSession = null;\n            }\n            this._activeElement = info.element;\n            this._activeElement._onMouseDown(info.x, info.y);\n            this.setFocus(info.element);\n            if (\n              this._activeElement.isElement() &&\n              this._activeElement.getAttribute('draggable') === 'true'\n            ) {\n              this._dragSession = new DragSession(\n                this,\n                this._activeElement,\n                mouseEvent.x,\n                mouseEvent.y,\n              );\n            }\n          }\n        } else if (evt === RMouseEvent.NAME_RENDERER_MOUSEUP) {\n          if (info && mouseEvent.button === 0) {\n            if (!this._dragSession || !this._dragSession.started) {\n              info.element._onMouseUp(info.x, info.y);\n              if (info.element === this._activeElement) {\n                click = true;\n              }\n            }\n            dragend = true;\n            drop = true;\n            this._activeElement = null;\n          }\n        }\n        if (dragend && this._dragSession) {\n          this._dragSession.end(drop);\n          this._dragSession = null;\n          this._updateMouseLocation(mouseEvent.x, mouseEvent.y, mouseEvent.button);\n        }\n        if (!this._dragSession || !this._dragSession.started) {\n          const me = new RMouseEvent(\n            deviceMouseEvents[evt],\n            mouseEvent.x,\n            mouseEvent.y,\n            info ? info.x : mouseEvent.x,\n            info ? info.y : mouseEvent.y,\n            mouseEvent.button,\n            mouseEvent.buttons,\n            mouseEvent.wheelDeltaX,\n            mouseEvent.wheelDeltaY,\n            mouseEvent.ctrlKey,\n            mouseEvent.shiftKey,\n            mouseEvent.altKey,\n            mouseEvent.metaKey,\n          );\n          (info ? info.element : this.document).dispatchEvent(me);\n          if (click) {\n            const ce = new RMouseEvent(\n              RMouseEvent.NAME_MOUSECLICK,\n              mouseEvent.x,\n              mouseEvent.y,\n              info ? info.x : mouseEvent.x,\n              info ? info.y : mouseEvent.y,\n              mouseEvent.button,\n              mouseEvent.buttons,\n              mouseEvent.wheelDeltaX,\n              mouseEvent.wheelDeltaY,\n              mouseEvent.ctrlKey,\n              mouseEvent.shiftKey,\n              mouseEvent.altKey,\n              mouseEvent.metaKey,\n            );\n            (info ? info.element : this.document).dispatchEvent(ce);\n          }\n        }\n      });\n    }\n    for (const evt in deviceKeyEvents) {\n      this.addDefaultEventListener(evt, function (this: GUI, e: REvent) {\n        const keyEvent = e as RKeyEvent;\n        this._ctrlKey = keyEvent.ctrlKey;\n        this._shiftKey = keyEvent.shiftKey;\n        this._altKey = keyEvent.altKey;\n        this._metaKey = keyEvent.metaKey;\n        if (this._focusElement) {\n          this._focusElement.dispatchEvent(\n            new RKeyEvent(\n              deviceKeyEvents[evt],\n              keyEvent.code,\n              keyEvent.key,\n              keyEvent.repeat,\n              keyEvent.ctrlKey,\n              keyEvent.shiftKey,\n              keyEvent.altKey,\n              keyEvent.metaKey,\n            ),\n          );\n        }\n      });\n    }\n    const domChangeFunc = function (this: GUI, e: REvent) {\n      const data: RDOMTreeEvent = e as RDOMTreeEvent;\n      this._domTag++;\n      if (data.node.isElement()) {\n        const el: RElement = data.node;\n        const numChildren = el.children.length;\n        let styleChanged = false;\n        if (e.type === RDOMTreeEvent.NAME_INSERTED) {\n          if (el.isConnected) {\n            if (el.tagName === 'style') {\n              this._styleElements.push(el);\n              styleChanged = true;\n            }\n            if (el._isText()) {\n              el._invalidateContent();\n            }\n            if (numChildren > 0) {\n              const styles = el.querySelectorAll('style');\n              styles.forEach((styleEl) => {\n                this._styleElements.push(styleEl as RElement);\n                styleChanged = true;\n              });\n            }\n          }\n        } else if (e.type === RDOMTreeEvent.NAME_REMOVED) {\n          if (data.parent.isConnected) {\n            if (el.tagName === 'style') {\n              const index = this._styleElements.indexOf(el);\n              console.assert(index >= 0, 'Style element not found');\n              this._styleElements.splice(index, 1);\n              styleChanged = true;\n            }\n            if (numChildren > 0) {\n              const styles = el.querySelectorAll('style');\n              styles.forEach((styleEl) => {\n                const index = this._styleElements.indexOf(styleEl as RElement);\n                console.assert(index >= 0, 'Style element not found');\n                this._styleElements.splice(index, 1);\n                styleChanged = true;\n              });\n            }\n          }\n        }\n        if (styleChanged) {\n          this.requireFullStyleRefresh();\n        } else {\n          this._markStyleRefreshForElement(data.parent || el);\n        }\n        if (\n          !this._guiLoading &&\n          (el.tagName === 'link' || (numChildren > 0 && el.querySelector('link')))\n        ) {\n          const linkElements = [...(el.tagName === 'link' ? [el] : []), ...el.querySelectorAll('link').values()];\n          linkElements.forEach(linkEl => {\n            this._importLinkContent(linkEl as RElement);\n          });\n        }\n      }\n    };\n    this.addDefaultEventListener(RDOMTreeEvent.NAME_INSERTED, domChangeFunc);\n    this.addDefaultEventListener(RDOMTreeEvent.NAME_REMOVED, domChangeFunc);\n    injectGUIEvents(this, this._renderer);\n    this._document = new RDocument(this);\n    this._topLayout.appendChild(this._document._getLayout());\n    const root = this._document.createElement('html');\n    root.append(this._document.createElement('head'));\n    root.append(this._document.createElement('body'));\n    this._document.append(root);\n    this._hoverElements.push({ element: this._document, x: 0, y: 0 });\n    this.invalidateLayout();\n    this.requireFullStyleRefresh();\n  }\n  get renderer() {\n    return this._renderer;\n  }\n  get bounds(): UIRect {\n    return this._bounds;\n  }\n  set bounds(rect: UIRect) {\n    this._bounds = rect ? { ...rect } : null;\n    this._topLayout.node.setPosition(Yoga.EDGE_LEFT, this._bounds ? this._bounds.x : 0);\n    this._topLayout.node.setPosition(Yoga.EDGE_TOP, this._bounds ? this._bounds.y : 0);\n    this._topLayout.node.setWidth(\n      this._bounds ? this._bounds.width : this._renderer.getDrawingBufferWidth(),\n    );\n    this._topLayout.node.setHeight(\n      this._bounds ? this._bounds.height : this._renderer.getDrawingBufferHeight(),\n    );\n    this.invalidateLayout();\n  }\n  get baseURI(): string {\n    return this._baseURI;\n  }\n  set baseURI(val: string) {\n    this._baseURI = val || '';\n  }\n  get document(): RDocument {\n    return this._document;\n  }\n  get imageManager(): ImageManager {\n    return this._imageManager;\n  }\n  get mouseX(): number {\n    return this._mouseX;\n  }\n  get mouseY(): number {\n    return this._mouseY;\n  }\n  get mouseButtonState(): number {\n    return this._buttonState;\n  }\n  get ctrlKey(): boolean {\n    return this._ctrlKey;\n  }\n  get shiftKey(): boolean {\n    return this._shiftKey;\n  }\n  get altKey(): boolean {\n    return this._altKey;\n  }\n  get metaKey(): boolean {\n    return this._metaKey;\n  }\n  /** @internal */\n  getDragSession(): DragSession {\n    return this._dragSession || null;\n  }\n  getHover(): { element: RNode; x: number; y: number } {\n    for (const info of this._hoverElements) {\n      if (!info.element.isElement() || info.element.style.pointerEvents !== 'none') {\n        return info;\n      }\n    }\n    return null;\n  }\n  getFocus(): RNode {\n    return this._focusElement;\n  }\n  setFocus(node: RNode) {\n    node = node || null;\n    if (node !== this._focusElement) {\n      if (this._focusElement) {\n        const focusElement = this._focusElement;\n        setTimeout(() => {\n          focusElement.dispatchEvent(new RFocusEvent(RFocusEvent.NAME_BLUR));\n        }, 0);\n      }\n      if (node) {\n        setTimeout(() => {\n          node.dispatchEvent(new RFocusEvent(RFocusEvent.NAME_FOCUS));\n        }, 0);\n      }\n      this._focusElement = node;\n      this.dispatchEvent(new RDOMTreeEvent(RDOMTreeEvent.NAME_FOCUSED, null, node));\n    }\n  }\n  getCapture() {\n    return this._captureElement;\n  }\n  setCapture(node: RNode) {\n    this._captureElement = node || null;\n  }\n  dispose() {\n    this._imageManager?.dispose();\n    this._imageManager = null;\n  }\n  /** @internal */\n  invalidateLayout() {\n    this._layoutDirty = true;\n  }\n  /** @internal */\n  requireFullStyleRefresh() {\n    if (!this._styleUpdating) {\n      this._styleFullRefresh = true;\n    }\n  }\n  /** @internal */\n  get domTag(): number {\n    return this._domTag;\n  }\n  /** @internal */\n  checkSize() {\n    if (!this._bounds) {\n      const width = this._renderer.getDrawingBufferWidth();\n      const height = this._renderer.getDrawingBufferHeight();\n      if (this._rendererWidth !== width || this._rendererHeight !== height) {\n        this._rendererWidth = width;\n        this._rendererHeight = height;\n        this._topLayout.node.setWidth(this._rendererWidth);\n        this._topLayout.node.setHeight(this._rendererHeight);\n        this.invalidateLayout();\n        setTimeout(() => {\n          const inputs = this.document.querySelectorAll('input');\n          for (const input of inputs.values()) {\n            (input as unknown as Input)._updateHiddenInput();\n          }\n        }, 0);\n      }\n    }\n  }\n  /** @internal */\n  checkAndRefreshStyle() {\n    if (this._document) {\n      if (this._styleFullRefresh) {\n        this._styleRefreshList.splice(0, this._styleRefreshList.length, this._document);\n      } else {\n        // skip removed elements and style elements\n        const validElements: RNode[] = [];\n        for (const e of this._styleRefreshList) {\n          if (\n            e.nodeType === RNode.ELEMENT_NODE &&\n            (e as RElement).tagName !== 'style' &&\n            e._isSucceedingOf(this._document)\n          ) {\n            validElements.push(e);\n          }\n        }\n        this._styleRefreshList = validElements;\n      }\n      if (this._styleRefreshList.length > 0) {\n        this._styleUpdating = true;\n        const styleElements = this._styleElements;\n        const processedElements: Set<RNode> = new Set();\n        const ruleList: {\n          rule: Rule;\n          stylesheet: IStyleSheet;\n          extra: unknown;\n        }[] = [...this._ruleListImported];\n        for (const el of styleElements) {\n          for (const def of (el as StyleElement).definitions) {\n            for (const rule of def.selector.rules()) {\n              ruleList.push({\n                rule: rule,\n                stylesheet: def.stylesheet,\n                extra: def.extra,\n              });\n            }\n          }\n        }\n        let allElements: RElement[] = null;\n        const pseudoMap: Map<\n          RNode,\n          Map<string, { stylesheet: IStyleSheet; extra: unknown }[]>\n        > = new Map();\n        if (this._styleFullRefresh) {\n          allElements = this._querySelectorAll(this._document, '*', true, true);\n        }\n        if (ruleList.length > 0) {\n          if (this._styleRefreshList.indexOf(this._document) >= 0) {\n            this._styleRefreshList.splice(0, this._styleRefreshList.length, this._document);\n          }\n          ruleList.sort((a, b) => {\n            return a.rule.specificity - b.rule.specificity;\n          });\n          for (const rule of ruleList) {\n            rule.rule.resolve(this._styleRefreshList, true, true, (node: RNode, type: string) => {\n              const pseudoTypes: Map<string, { stylesheet: IStyleSheet; extra: unknown }[]> =\n                pseudoMap.get(node) || new Map();\n              pseudoMap.set(node, pseudoTypes);\n              const styleList: { stylesheet: IStyleSheet; extra: unknown }[] =\n                pseudoTypes.get(type) || [];\n              pseudoTypes.set(type, styleList);\n              styleList.push({\n                stylesheet: rule.stylesheet,\n                extra: rule.extra,\n              });\n            });\n            for (const e of rule.rule.targets) {\n              if (e.nodeType !== RNode.DOCUMENT_NODE) {\n                if (!processedElements.has(e)) {\n                  e._resetStyle();\n                  processedElements.add(e);\n                }\n                e.style.applyStyleSheet(rule.stylesheet, false);\n              }\n              e._updatePseudoElementStyles(pseudoMap.get(e));\n            }\n            if (!this._styleFullRefresh) {\n              for (const e of pseudoMap) {\n                e[0]._updatePseudoElementStyles(e[1]);\n              }\n              pseudoMap.clear();\n            }\n          }\n          processedElements.forEach((e) => {\n            e._applyInlineStyles();\n          });\n        }\n        if (this._styleFullRefresh) {\n          for (const e of allElements) {\n            if (!processedElements.has(e)) {\n              e._resetStyle();\n              e._applyInlineStyles();\n            }\n            e._updatePseudoElementStyles(pseudoMap.get(e));\n          }\n        } else {\n          for (const e of this._styleRefreshList) {\n            if (!processedElements.has(e)) {\n              e._resetStyle();\n              e._applyInlineStyles();\n            }\n          }\n        }\n        this._styleUpdating = false;\n      }\n    }\n    this._styleRefreshList.splice(0, this._styleRefreshList.length);\n    this._styleFullRefresh = false;\n  }\n  /** @internal */\n  updateLayout() {\n    if (this._layoutDirty) {\n      if (this._updatingLayout) {\n        console.warn('updateLayout called recursively');\n      } else {\n        this._layoutDirty = false;\n        this._updatingLayout = true;\n        this._topLayout.calcLayout();\n        if (this._document) {\n          this._document._syncLayout();\n        }\n        this._updatingLayout = false;\n      }\n    }\n  }\n  /** @internal */\n  hitTest(x: number, y: number): { element: RNode; x: number; y: number }[] {\n    this.updateLayout();\n    const v = new GUIHitTestVisitor(x, y);\n    this._document.traverse(v, true, true);\n    let hits = v.getHits();\n    if (hits.length > 0) {\n      const topmost = hits[0].element;\n      hits = hits.filter((val) => val.element.contains(topmost));\n    }\n    return hits;\n  }\n  render() {\n    this.checkSize();\n    this.checkAndRefreshStyle();\n    this.updateLayout();\n    this._renderer.beginRender();\n    this._drawVisitor.beginTraverse();\n    this.document.traverse(this._drawVisitor, false, true);\n    this._drawVisitor.endTraverse();\n    this._renderer.endRender();\n  }\n  serializeToXML(): string {\n    return this._serializeToXML();\n  }\n  async deserializeFromXML(xml: string) {\n    this._guiLoading = true;\n    while (this._document.firstChild) {\n      this._document.removeChild(this._document.firstChild);\n    }\n    const parser = new DOMParser();\n    const dom = parser.parseFromString(xml, 'text/html');\n    if (dom.getElementsByTagName('parsererror').length > 0) {\n      return null;\n    }\n    const docElement = dom.documentElement;\n    this._document.append(this._deserializeElement(docElement));\n    const linkElements = this._document.querySelectorAll('link');\n    for (const link of linkElements.values()) {\n      await this._importLinkContent(link as RElement);\n    }\n    this._guiLoading = false;\n  }\n  async deserializeFromURL(url: string) {\n    this._guiLoading = true;\n    const content = await this._assetManager.fetchTextData(url);\n    if (content) {\n      const normalizedURL = this._assetManager.resolveURL(url);\n      const index = normalizedURL.lastIndexOf('/');\n      this._baseURI = normalizedURL.substring(0, index + 1);\n      await this.deserializeFromXML(content);\n    }\n    this._guiLoading = false;\n  }\n  createElement<T extends RElement = RElement>(tagName: string): T {\n    const el = elementRegistry.createElement(this, tagName) as T;\n    el._init();\n    return el;\n  }\n  createTextNode(): RText {\n    return new RText(this);\n  }\n  loadCSS(content: string) {\n    if (content) {\n      const entries = this._parseStyleContent(content);\n      for (const def of entries) {\n        for (const rule of def.selector.rules()) {\n          this._ruleListImported.push({\n            rule: rule,\n            stylesheet: def.stylesheet,\n            extra: def.extra,\n          });\n        }\n      }\n    }\n    this.requireFullStyleRefresh();\n  }\n  /** @internal */\n  async loadCSSFromURL(url: string) {\n    const content = await this._assetManager.fetchTextData(this._baseURI + url);\n    this.loadCSS(content);\n  }\n  /** @internal */\n  _invalidateTextContents(root?: RNode) {\n    root = root || this.document;\n    if (root._isText()) {\n      root._invalidateContent();\n      for (let child = root.firstChild; child; child = child.nextSibling) {\n        this._invalidateTextContents(child);\n      }\n    }\n  }\n  /** @internal */\n  _drawBatchList(batches: RPrimitiveBatchList) {\n    for (let i = 0; i < batches.length; i++) {\n      const batch = batches.getBatch(i);\n      const vertices = batches.getVertices(i);\n      const color = batch.color;\n      if (color.a > 0 && vertices) {\n        this._renderer.drawQuads(vertices, batch.texture || null);\n      }\n    }\n  }\n  /** @internal */\n  _getGlyphTexture(index: number): Texture2D {\n    return this._glyphManager.getGlyphTexture(index);\n  }\n  /** @internal */\n  _getGlyphInfo(char: string, font: Font, color: RColor): IGlyphInfo {\n    return this._glyphManager.getGlyphInfo(char, font, color);\n  }\n  /** @internal */\n  _getCharWidth(char: string, font: Font): number {\n    return this._glyphManager.getCharWidth(char, font);\n  }\n  /** @internal */\n  _measureStringWidth(str: string, charMargin: number, font: Font) {\n    return this._glyphManager.measureStringWidth(str, charMargin, font);\n  }\n  /** @internal */\n  _clipStringToWidth(str: string, width: number, charMargin: number, start: number, font: Font) {\n    return this._glyphManager.clipStringToWidth(str, width, charMargin, start, font);\n  }\n  /** @internal */\n  _querySelectorAll<T extends RElement>(root: RNode, selectors: string, excludeRoot: boolean, allowInternal: boolean): T[] {\n    return new RSelector(selectors).resolve(root, excludeRoot, allowInternal) as T[];\n  }\n  /** @internal */\n  _querySelectorOne<T extends RElement>(root: RNode, selectors: string, excludeRoot: boolean, allowInternal): T {\n    return this._querySelectorAll<T>(root, selectors, excludeRoot, allowInternal)[0] || null;\n  }\n  /** @internal */\n  _getTopLayout(): UILayout {\n    return this._topLayout;\n  }\n  /** @internal */\n  _getElementById(root: RNode, id: string): RElement {\n    if (root.nodeType === RNode.ELEMENT_NODE && (root as RElement).id === id) {\n      return root as RElement;\n    }\n    for (const child of root.childNodes.values()) {\n      const e = this._getElementById(child, id);\n      if (e) {\n        return e;\n      }\n    }\n    return null;\n  }\n  /** @internal */\n  _getElementsByTagName(root: RNode, tagName: string, results: RElement[]) {\n    if (root.nodeType === RNode.ELEMENT_NODE && (root as RElement).tagName === tagName) {\n      results.push(root as RElement);\n    }\n    for (const child of root.childNodes.values()) {\n      this._getElementsByTagName(child, tagName, results);\n    }\n    return null;\n  }\n  /** @internal */\n  _getElementsByClassName(root: RNode, classnames: string[], results: RElement[]) {\n    if (root.nodeType === RNode.ELEMENT_NODE) {\n      let matched = true;\n      const el = root as RElement;\n      for (const classname of classnames) {\n        if (!el.classList.contains(classname)) {\n          matched = false;\n          break;\n        }\n      }\n      if (matched) {\n        results.push(el);\n      }\n    }\n    for (const child of root.childNodes.values()) {\n      this._getElementsByClassName(child, classnames, results);\n    }\n    return null;\n  }\n  /** @internal */\n  _markStyleRefreshForElement(element: RNode) {\n    if (!this._styleUpdating && element && this._styleRefreshList.indexOf(element) < 0) {\n      this._styleRefreshList.push(element);\n    }\n  }\n  /** @internal */\n  _parseStyleContent(\n    content: string,\n  ): { selector: RSelector; stylesheet: IStyleSheet; extra: unknown }[] {\n    const result: {\n      selector: RSelector;\n      stylesheet: IStyleSheet;\n      extra: unknown;\n    }[] = [];\n    content = content\n      .split(/[\\r\\n]+/)\n      .join('')\n      .replace(/\\/\\*[\\s\\S]*?\\*\\//g, '');\n    for (; ;) {\n      const lbracket = content.indexOf('{');\n      const rbracket = content.indexOf('}');\n      if (lbracket < 0 || rbracket < 0 || lbracket > rbracket) {\n        break;\n      }\n      const sel = content.substring(0, lbracket).trim();\n      const styles = content.substring(lbracket + 1, rbracket);\n      content = content.substr(rbracket + 1);\n\n      const selector = new RSelector(sel);\n      if (selector.rules().length === 0) {\n        continue;\n      }\n      const extra = {};\n      const stylesheet = parseStyleSheet(styles, extra);\n      if (!stylesheet) {\n        continue;\n      }\n      result.push({ selector, stylesheet, extra });\n    }\n    return result;\n  }\n  /** @internal */\n  private _deserializeElement(el: Element): RElement {\n    const element = this.createElement(el.tagName.toLowerCase());\n    for (const attr of el.attributes) {\n      element.setAttribute(attr.name, attr.value);\n    }\n    for (const className of el.classList) {\n      element.classList.add(className);\n    }\n    for (const child of el.childNodes) {\n      if (child.nodeType === Node.TEXT_NODE) {\n        const text = child.textContent.trim().replace(/\\s+/, ' ');\n        if (text !== '') {\n          element.append(text);\n        }\n      } else if (child.nodeType === Node.ELEMENT_NODE) {\n        element.append(this._deserializeElement(child as Element));\n      }\n    }\n    return element;\n  }\n  /** @internal */\n  private async _importLinkContent(link: RElement) {\n    const rel = link.getAttribute('rel');\n    switch (rel) {\n      case 'stylesheet': {\n        await this.loadCSSFromURL(link.getAttribute('href'));\n        break;\n      }\n      default: {\n        throw new Error(`Invalid rel attribute for link: ${rel}`)\n      }\n    }\n  }\n  /** @internal */\n  private _serializeToXML(): string {\n    const doc = document.implementation.createDocument(null, 'node', null);\n    doc.firstChild.remove();\n    if (this.document.documentElement) {\n      doc.append(this._createDOMElement(this.document.documentElement, doc, null));\n      this._buildDOM(this.document.documentElement, doc, doc.documentElement);\n    }\n    return new XMLSerializer().serializeToString(doc);\n  }\n  /** @internal */\n  private _buildDOM(root: RNode, doc: Document, parent: Element | Document) {\n    for (const child of root.childNodes.values()) {\n      if (!child._isInternal()) {\n        const childElement = this._createDOMElement(child, doc, null);\n        parent.append(childElement);\n        if (childElement instanceof Element) {\n          this._buildDOM(child, doc, childElement);\n        }\n      }\n    }\n  }\n  /** @internal */\n  private _createDOMElement(el: RNode, doc: Document, out: Element | Node): Element | Node {\n    if (el._isText()) {\n      out = doc.createTextNode(el.textContent);\n    } else if (el.nodeType === RNode.ELEMENT_NODE) {\n      out = out || doc.createElement((el as RElement).tagName);\n      if ((el as RElement).className) {\n        (out as Element).className = (el as RElement).className;\n      }\n      for (const k of (el as RElement).attributes) {\n        (out as Element).setAttribute(k.name, k.value);\n      }\n    }\n    return out;\n  }\n  /** @internal */\n  private _syncMouseStates(evt: RMouseEvent) {\n    this._mouseX = evt.x;\n    this._mouseY = evt.y;\n    this._buttonState = evt.buttons;\n    this._ctrlKey = evt.ctrlKey;\n    this._shiftKey = evt.shiftKey;\n    this._altKey = evt.altKey;\n    this._metaKey = evt.metaKey;\n  }\n  /** @internal */\n  _updateMouseLocation(x: number, y: number, button: number) {\n    let hits: { element: RNode; x: number; y: number }[] = null;\n    if (this._captureElement) {\n      const v = this._captureElement.toAbsolute({ x: 0, y: 0 });\n      hits = [{ element: this._captureElement, x: x - v.x, y: y - v.y }];\n    } else {\n      hits = this.hitTest(x, y);\n    }\n    if (!this._dragSession) {\n      for (const info of this._hoverElements) {\n        if (!hits.find((hit) => hit.element === info.element)) {\n          const p = info.element.toAbsolute({ x: 0, y: 0 });\n          info.element._onMouseLeave(x - p.x, y - p.y);\n          if (!info.element.isElement() || info.element.style.pointerEvents !== 'none') {\n            info.element.dispatchEvent(\n              new RMouseEvent(\n                RMouseEvent.NAME_MOUSELEAVE,\n                x,\n                y,\n                x - p.x,\n                y - p.y,\n                button,\n                this._buttonState,\n                0,\n                0,\n                this._ctrlKey,\n                this._shiftKey,\n                this._altKey,\n                this._metaKey,\n              ),\n            );\n          }\n        }\n      }\n      for (const info of hits) {\n        if (!this._hoverElements.find((hit) => hit.element === info.element)) {\n          info.element._onMouseEnter(info.x, info.y);\n          if (!info.element.isElement() || info.element.style.pointerEvents !== 'none') {\n            info.element.dispatchEvent(\n              new RMouseEvent(\n                RMouseEvent.NAME_MOUSEENTER,\n                x,\n                y,\n                info.x,\n                info.y,\n                button,\n                this._buttonState,\n                0,\n                0,\n                this._ctrlKey,\n                this._shiftKey,\n                this._altKey,\n                this._metaKey,\n              ),\n            );\n          }\n        }\n      }\n      const lastHover = this.getHover();\n      let newHover: { element: RNode; x: number; y: number } = null;\n      for (const hit of hits) {\n        if (!hit.element.isElement() || hit.element.style.pointerEvents !== 'none') {\n          newHover = hit;\n          break;\n        }\n      }\n      if (lastHover.element !== newHover.element) {\n        const p = lastHover.element.toAbsolute({ x: 0, y: 0 });\n        lastHover.element._onMouseOut(x - p.x, y - p.y);\n        const evtOut = new RMouseEvent(\n          RMouseEvent.NAME_MOUSEOUT,\n          x,\n          y,\n          x - p.x,\n          y - p.y,\n          button,\n          this._buttonState,\n          0,\n          0,\n          this._ctrlKey,\n          this._shiftKey,\n          this._altKey,\n          this._metaKey,\n        );\n        evtOut.relatedTarget = newHover.element;\n        lastHover.element.dispatchEvent(evtOut);\n\n        newHover.element._onMouseIn(newHover.x, newHover.y);\n        const evtOver = new RMouseEvent(\n          RMouseEvent.NAME_MOUSEOVER,\n          x,\n          y,\n          newHover.x,\n          newHover.y,\n          button,\n          this._buttonState,\n          0,\n          0,\n          this._ctrlKey,\n          this._shiftKey,\n          this._altKey,\n          this._metaKey,\n        );\n        evtOver.relatedTarget = lastHover.element;\n        newHover.element.dispatchEvent(evtOver);\n      }\n    }\n    this._hoverElements = hits;\n\n    if (this._dragSession) {\n      if (!this._dragSession.update()) {\n        this._dragSession = null;\n      }\n    }\n  }\n}\n"],"names":["Yoga.DISPLAY_FLEX","Yoga.EDGE_LEFT","Yoga.EDGE_TOP","Yoga.EDGE_RIGHT","Yoga.EDGE_BOTTOM","Yoga.POSITION_TYPE_ABSOLUTE"],"mappings":"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"}