{"version":3,"file":"style_element.js","sources":["../../../libs/dom/src/style_element.ts"],"sourcesContent":["import {RElement} from './element';\nimport {RTextContentChangeEvent} from './events';\nimport type {GUI} from './gui';\nimport type {RSelector} from './selector';\nimport type {IStyleSheet} from './style';\n\n/** @internal */\nexport interface IStyleDefiniation {\n  selector: RSelector;\n  stylesheet: IStyleSheet;\n  extra: unknown;\n}\n\nexport class StyleElement extends RElement {\n  /** @internal */\n  private _definitions: IStyleDefiniation[];\n  constructor(uiscene: GUI) {\n    super(uiscene);\n    this._definitions = [];\n    this.addDefaultEventListener(RTextContentChangeEvent.NAME, () => {\n      this._update();\n    });\n  }\n  /** @internal */\n  get definitions(): IStyleDefiniation[] {\n    return this._definitions;\n  }\n  /** @internal */\n  private _update() {\n    this._definitions = this._uiscene._parseStyleContent(this.textContent);\n    if (this._isSucceedingOf(this._uiscene.document)) {\n      this._uiscene.requireFullStyleRefresh();\n    }\n  }\n  /** @internal */\n  _getDefaultStyleSheet(): IStyleSheet {\n    const style = {} as IStyleSheet;\n    style.display = 'none';\n    return style;\n  }\n}\n"],"names":[],"mappings":";;;;AAaM,MAAO,YAAa,SAAQ,QAAQ,CAAA;AAEhC,IAAA,YAAY,CAAsB;AAC1C,IAAA,WAAA,CAAY,OAAY,EAAA;QACtB,KAAK,CAAC,OAAO,CAAC,CAAC;AACf,QAAA,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,uBAAuB,CAAC,uBAAuB,CAAC,IAAI,EAAE,MAAK;YAC9D,IAAI,CAAC,OAAO,EAAE,CAAC;AACjB,SAAC,CAAC,CAAC;KACJ;AAED,IAAA,IAAI,WAAW,GAAA;QACb,OAAO,IAAI,CAAC,YAAY,CAAC;KAC1B;IAEO,OAAO,GAAA;AACb,QAAA,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,kBAAkB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QACvE,IAAI,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE;AAChD,YAAA,IAAI,CAAC,QAAQ,CAAC,uBAAuB,EAAE,CAAC;AACzC,SAAA;KACF;IAED,qBAAqB,GAAA;QACnB,MAAM,KAAK,GAAG,EAAiB,CAAC;AAChC,QAAA,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;AACvB,QAAA,OAAO,KAAK,CAAC;KACd;AACF;;;;"}