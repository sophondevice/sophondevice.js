{"version":3,"file":"style_element.js","sources":["../../../libs/dom/src/style_element.ts"],"sourcesContent":["import {RElement} from './element';\r\nimport {RTextContentChangeEvent} from './events';\r\nimport type {GUI} from './gui';\r\nimport type {RSelector} from './selector';\r\nimport type {IStyleSheet} from './style';\r\n\r\n/** @internal */\r\nexport interface IStyleDefiniation {\r\n  selector: RSelector;\r\n  stylesheet: IStyleSheet;\r\n  extra: unknown;\r\n}\r\n\r\nexport class StyleElement extends RElement {\r\n  /** @internal */\r\n  private _definitions: IStyleDefiniation[];\r\n  constructor(uiscene: GUI) {\r\n    super(uiscene);\r\n    this._definitions = [];\r\n    this.addDefaultEventListener(RTextContentChangeEvent.NAME, () => {\r\n      this._update();\r\n    });\r\n  }\r\n  /** @internal */\r\n  get definitions(): IStyleDefiniation[] {\r\n    return this._definitions;\r\n  }\r\n  /** @internal */\r\n  private _update() {\r\n    this._definitions = this._uiscene._parseStyleContent(this.textContent);\r\n    if (this._isSucceedingOf(this._uiscene.document)) {\r\n      this._uiscene.requireFullStyleRefresh();\r\n    }\r\n  }\r\n  /** @internal */\r\n  _getDefaultStyleSheet(): IStyleSheet {\r\n    const style = {} as IStyleSheet;\r\n    style.display = 'none';\r\n    return style;\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAaM,MAAO,YAAa,SAAQ,QAAQ,CAAA;AAEhC,IAAA,YAAY,CAAsB;AAC1C,IAAA,WAAA,CAAY,OAAY,EAAA;QACtB,KAAK,CAAC,OAAO,CAAC,CAAC;AACf,QAAA,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,uBAAuB,CAAC,uBAAuB,CAAC,IAAI,EAAE,MAAK;YAC9D,IAAI,CAAC,OAAO,EAAE,CAAC;AACjB,SAAC,CAAC,CAAC;KACJ;AAED,IAAA,IAAI,WAAW,GAAA;QACb,OAAO,IAAI,CAAC,YAAY,CAAC;KAC1B;IAEO,OAAO,GAAA;AACb,QAAA,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,kBAAkB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QACvE,IAAI,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE;AAChD,YAAA,IAAI,CAAC,QAAQ,CAAC,uBAAuB,EAAE,CAAC;AACzC,SAAA;KACF;IAED,qBAAqB,GAAA;QACnB,MAAM,KAAK,GAAG,EAAiB,CAAC;AAChC,QAAA,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;AACvB,QAAA,OAAO,KAAK,CAAC;KACd;AACF;;;;"}