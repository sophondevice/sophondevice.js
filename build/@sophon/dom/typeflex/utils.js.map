{"version":3,"file":"utils.js","sources":["../../../../libs/dom/src/typeflex/utils.ts"],"sourcesContent":["import {YGUnit, YGFlexDirection, YGDirection} from './enums';\n\nimport {YGFloatOptional} from './ygfloatoptional';\n\nimport {YGFloatIsUndefined, YGUndefined} from './yoga';\n\nimport {YGNode} from './ygnode';\nimport {YGValue} from './ygvalue';\n\nexport class YGCollectFlexItemsRowValues {\n  public itemsOnLine = 0;\n  public sizeConsumedOnCurrentLine = 0;\n  public totalFlexGrowFactors = 0;\n  public totalFlexShrinkScaledFactors = 0;\n  public endOfLineIndex = 0;\n  public relativeChildren: Array<YGNode> = [];\n  public remainingFreeSpace = 0;\n  public mainDim = 0;\n  public crossDim = 0;\n}\n\nexport function YGValueEqual(a: YGValue, b: YGValue): boolean {\n  if (a.unit != b.unit) {\n    return false;\n  }\n\n  if (a.unit == YGUnit.Undefined || (YGFloatIsUndefined(a.value) && YGFloatIsUndefined(b.value))) {\n    return true;\n  }\n\n  return Math.abs(a.value - b.value) < 0.0001;\n}\n\nexport function YGFloatsEqual(a: number, b: number): boolean {\n  if (!YGFloatIsUndefined(a) && !YGFloatIsUndefined(b)) {\n    return Math.abs(a - b) < 0.0001;\n  }\n  return YGFloatIsUndefined(a) && YGFloatIsUndefined(b);\n}\n\nexport function YGFloatMax(a: number, b: number): number {\n  if (!YGFloatIsUndefined(a) && !YGFloatIsUndefined(b)) {\n    return Math.max(a, b);\n  }\n  return YGFloatIsUndefined(a) ? b : a;\n}\n\nexport function YGFloatOptionalMax(op1: YGFloatOptional, op2: YGFloatOptional): YGFloatOptional {\n  if (!op1.isUndefined() && !op2.isUndefined()) {\n    return op1.getValue() > op2.getValue() ? op1 : op2;\n  }\n\n  return op1.isUndefined() ? op2 : op1;\n}\n\nexport function YGFloatMin(a: number, b: number): number {\n  if (!YGFloatIsUndefined(a) && !YGFloatIsUndefined(b)) {\n    return Math.min(a, b);\n  }\n  return YGFloatIsUndefined(a) ? b : a;\n}\n\nexport function YGFloatArrayEqual(val1: Array<number>, val2: Array<number>) {\n  let areEqual = true;\n  for (let i = 0; i < val1.length && areEqual; ++i) {\n    areEqual = YGFloatsEqual(val1[i], val2[i]);\n  }\n  return areEqual;\n}\n\nexport function YGValueArrayEqual(val1: Array<YGValue>, val2: Array<YGValue>) {\n  let areEqual = true;\n  for (let i = 0; i < val1.length && areEqual; ++i) {\n    areEqual = YGValueEqual(val1[i], val2[i]);\n  }\n  return areEqual;\n}\n\nexport function YGFloatSanitize(val: number): number {\n  return YGFloatIsUndefined(val) ? 0 : val;\n}\n\nexport function YGUnwrapFloatOptional(op: YGFloatOptional): number {\n  return op.isUndefined() ? YGUndefined : op.getValue();\n}\n\nexport function YGFlexDirectionCross(\n  flexDirection: YGFlexDirection,\n  direction: YGDirection,\n): YGFlexDirection {\n  return YGFlexDirectionIsColumn(flexDirection)\n    ? YGResolveFlexDirection(YGFlexDirection.Row, direction)\n    : YGFlexDirection.Column;\n}\n\nexport function YGFlexDirectionIsRow(flexDirection: YGFlexDirection): boolean {\n  return flexDirection == YGFlexDirection.Row || flexDirection == YGFlexDirection.RowReverse;\n}\n\nexport function YGResolveValue(value: YGValue, ownerSize: number): YGFloatOptional {\n  switch (value.unit) {\n  case YGUnit.Undefined:\n  case YGUnit.Auto:\n    return new YGFloatOptional();\n  case YGUnit.Point:\n    return new YGFloatOptional(value.value);\n  case YGUnit.Percent:\n    return new YGFloatOptional(value.value * ownerSize * 0.01);\n  }\n  return new YGFloatOptional();\n}\n\nexport function YGFlexDirectionIsColumn(flexDirection: YGFlexDirection): boolean {\n  return flexDirection == YGFlexDirection.Column || flexDirection == YGFlexDirection.ColumnReverse;\n}\n\nexport function YGResolveFlexDirection(\n  flexDirection: YGFlexDirection,\n  direction: YGDirection,\n): YGFlexDirection {\n  if (direction == YGDirection.RTL) {\n    if (flexDirection == YGFlexDirection.Row) {\n      return YGFlexDirection.RowReverse;\n    } else if (flexDirection == YGFlexDirection.RowReverse) {\n      return YGFlexDirection.Row;\n    }\n  }\n  return flexDirection;\n}\n\nexport function YGResolveValueMargin(value: YGValue, ownerSize: number): YGFloatOptional {\n  return value.unit == YGUnit.Auto ? new YGFloatOptional(0) : YGResolveValue(value, ownerSize);\n}\n\nexport function cloneYGValueArray(array: Array<YGValue>): Array<YGValue> {\n  const ret = new Array(array.length);\n  for (let i = 0; i < array.length; i++) {\n    ret[i] = array[i].clone();\n  }\n  return ret;\n}\n"],"names":[],"mappings":"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"}