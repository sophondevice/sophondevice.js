{"version":3,"file":"ygnode.js","sources":["../../../../libs/dom/src/typeflex/ygnode.ts"],"sourcesContent":["import {\n  YGFlexDirection,\n  YGDirection,\n  YGNodeType,\n  YGUnit,\n  YGEdge,\n  YGDimension,\n  YGDimensionCount,\n  YGPositionType,\n  YGAlign,\n} from './enums';\n\nimport {YGFloatOptional} from './ygfloatoptional';\nimport {YGConfig} from './ygconfig';\n\nimport {\n  YGFlexDirectionIsRow,\n  YGResolveValue,\n  YGResolveValueMargin,\n  YGFloatOptionalMax,\n  YGFloatMax,\n  YGFlexDirectionCross,\n  YGResolveFlexDirection,\n  YGValueEqual,\n  YGUnwrapFloatOptional,\n} from './utils';\n\nimport {YGLayout} from './yglayout';\nimport {YGStyle} from './ygstyle';\nimport {YGValue} from './ygvalue';\n\nimport {\n  trailing,\n  leading,\n  kDefaultFlexGrow,\n  kDefaultFlexShrink,\n  kWebDefaultFlexShrink,\n} from './internal';\n\nimport {\n  YGComputedEdgeValue,\n  YGFloatIsUndefined,\n  YGPrintFunc,\n  YGMeasureFunc,\n  YGBaselineFunc,\n  YGDirtiedFunc,\n  YGCloneNodeFunc,\n  YGNodeClone,\n  YGValueUndefined,\n  YGValueZero,\n  YGValueAuto,\n} from './yoga';\n\nclass YGNode {\n  private context_: any;\n  private print_: YGPrintFunc;\n  private hasNewLayout_: boolean;\n  private nodeType_: YGNodeType;\n  private measure_: YGMeasureFunc;\n  private baseline_: YGBaselineFunc;\n  private dirtied_: YGDirtiedFunc;\n  private style_: YGStyle;\n  private layout_: YGLayout;\n  private lineIndex_: number;\n  private owner_: YGNode;\n  private children_: Array<YGNode>;\n  private config_: YGConfig;\n  private isDirty_: boolean;\n  private resolvedDimensions_: [YGValue, YGValue];\n\n  private relativePosition(axis: YGFlexDirection, axisSize: number): YGFloatOptional {\n    if (this.isLeadingPositionDefined(axis)) {\n      return this.getLeadingPosition(axis, axisSize);\n    }\n\n    const trailingPosition: YGFloatOptional = this.getTrailingPosition(axis, axisSize);\n    if (!trailingPosition.isUndefined()) {\n      trailingPosition.setValue(-1 * trailingPosition.getValue());\n    }\n\n    return trailingPosition;\n  }\n\n  constructor(node?: YGNode);\n  constructor(config?: YGConfig);\n  constructor(\n    contextOrNodeOrConfig: any | YGNode | YGConfig = null,\n    print: YGPrintFunc = null,\n    hasNewLayout = true,\n    nodeType: YGNodeType = YGNodeType.Default,\n    measure: YGMeasureFunc = null,\n    baseline: YGBaselineFunc = null,\n    dirtied: YGDirtiedFunc = null,\n    style: YGStyle = new YGStyle(),\n    layout: YGLayout = new YGLayout(),\n    lineIndex = 0,\n    owner: YGNode = null,\n    children: Array<YGNode> = [],\n    config: YGConfig = null,\n    isDirty = false,\n    resolvedDimensions: [YGValue, YGValue] = [YGValueUndefined(), YGValueUndefined()],\n  ) {\n    if (contextOrNodeOrConfig instanceof YGNode) {\n      console.log('from node');\n      this.fromNode(contextOrNodeOrConfig);\n      return;\n    }\n\n    this.print_ = print;\n    this.hasNewLayout_ = hasNewLayout;\n    this.nodeType_ = nodeType;\n    this.measure_ = measure;\n    this.baseline_ = baseline;\n    this.dirtied_ = dirtied;\n    this.style_ = style;\n    this.layout_ = layout;\n    this.lineIndex_ = lineIndex;\n    this.owner_ = owner;\n    this.children_ = children;\n    this.config_ = config;\n    this.isDirty_ = isDirty;\n    this.resolvedDimensions_ = resolvedDimensions;\n\n    if (contextOrNodeOrConfig instanceof YGConfig) {\n      this.config_ = contextOrNodeOrConfig;\n      this.context_ = null;\n    } else {\n      this.context_ = contextOrNodeOrConfig;\n    }\n  }\n\n  operatorAtrib(node: YGNode): YGNode {\n    if (node == this) {\n      return this;\n    }\n\n    this.clearChildren();\n    this.fromNode(node);\n    return this;\n  }\n\n  fromNode(node: YGNode): void {\n    console.log(node);\n\n    this.context_ = node.context_;\n    this.print_ = node.print_;\n    this.hasNewLayout_ = node.hasNewLayout_;\n    this.nodeType_ = node.nodeType_;\n    this.measure_ = node.measure_;\n    this.baseline_ = node.baseline_;\n    this.dirtied_ = node.dirtied_;\n\n    this.style_ = node.style_; //\n    // this.style_ = node.style_.clone();\n\n    this.layout_ = node.layout_; //\n    // this.layout_ = node.layout_.clone();\n\n    this.lineIndex_ = node.lineIndex_;\n    this.owner_ = node.owner_;\n\n    this.children_ = node.children_; //\n    // let newChildren: Array<YGNode> = new Array(node.children_.length);\n    // for(let i = 0; i < node.children_.length; ++i) {\n    //     newChildren[i] = node.children_[i]\n    // }\n    // this.children_ = newChildren;\n\n    this.config_ = node.config_;\n    this.isDirty_ = node.isDirty_;\n\n    this.resolvedDimensions_ = node.resolvedDimensions_; //\n    // this.resolvedDimensions_ = [node.resolvedDimensions_[0].clone(), node.resolvedDimensions_[1].clone()];\n  }\n\n  getContext(): any {\n    return this.context_;\n  }\n\n  getPrintFunc(): YGPrintFunc {\n    return this.print_;\n  }\n\n  getHasNewLayout(): boolean {\n    return this.hasNewLayout_;\n  }\n\n  getNodeType(): YGNodeType {\n    return this.nodeType_;\n  }\n\n  getMeasure(): YGMeasureFunc {\n    return this.measure_;\n  }\n\n  getBaseline(): YGBaselineFunc {\n    return this.baseline_;\n  }\n\n  getDirtied(): YGDirtiedFunc {\n    return this.dirtied_;\n  }\n\n  getStyle(): YGStyle {\n    return this.style_;\n  }\n\n  getLayout(): YGLayout {\n    return this.layout_;\n  }\n\n  getLineIndex(): number {\n    return this.lineIndex_;\n  }\n\n  getOwner(): YGNode {\n    return this.owner_;\n  }\n\n  getParent(): YGNode {\n    return this.getOwner();\n  }\n\n  getChildren(): Array<YGNode> {\n    return this.children_;\n  }\n\n  getChildrenCount(): number {\n    return this.children_.length;\n  }\n\n  getChild(index: number): YGNode {\n    return this.children_[index];\n  }\n\n  getConfig(): YGConfig {\n    return this.config_;\n  }\n\n  isDirty(): boolean {\n    return this.isDirty_;\n  }\n\n  getResolvedDimensions(): [YGValue, YGValue] {\n    return this.resolvedDimensions_;\n  }\n\n  getResolvedDimension(index: number): YGValue {\n    return this.resolvedDimensions_[index];\n  }\n\n  getLeadingPosition(axis: YGFlexDirection, axisSize: number): YGFloatOptional {\n    if (YGFlexDirectionIsRow(axis)) {\n      const leadingPosition: YGValue = YGComputedEdgeValue(\n        this.style_.position,\n        YGEdge.Start,\n        YGValueUndefined(),\n      );\n      if (leadingPosition.unit != YGUnit.Undefined) {\n        return YGResolveValue(leadingPosition, axisSize);\n      }\n    }\n\n    const leadingPosition: YGValue = YGComputedEdgeValue(\n      this.style_.position,\n      leading[axis],\n      YGValueUndefined(),\n    );\n    return leadingPosition.unit == YGUnit.Undefined\n      ? new YGFloatOptional(0)\n      : YGResolveValue(leadingPosition, axisSize);\n  }\n\n  isLeadingPositionDefined(axis: YGFlexDirection): boolean {\n    return (\n      (YGFlexDirectionIsRow(axis) &&\n        YGComputedEdgeValue(this.style_.position, YGEdge.Start, YGValueUndefined()).unit !=\n          YGUnit.Undefined) ||\n      YGComputedEdgeValue(this.style_.position, leading[axis], YGValueUndefined()).unit !=\n        YGUnit.Undefined\n    );\n  }\n\n  isTrailingPosDefined(axis: YGFlexDirection): boolean {\n    return (\n      (YGFlexDirectionIsRow(axis) &&\n        YGComputedEdgeValue(this.style_.position, YGEdge.End, YGValueUndefined()).unit !=\n          YGUnit.Undefined) ||\n      YGComputedEdgeValue(this.style_.position, trailing[axis], YGValueUndefined()).unit !=\n        YGUnit.Undefined\n    );\n  }\n\n  getTrailingPosition(axis: YGFlexDirection, axisSize: number): YGFloatOptional {\n    if (YGFlexDirectionIsRow(axis)) {\n      const trailingPosition: YGValue = YGComputedEdgeValue(\n        this.style_.position,\n        YGEdge.End,\n        YGValueUndefined(),\n      );\n      if (trailingPosition.unit != YGUnit.Undefined) {\n        return YGResolveValue(trailingPosition, axisSize);\n      }\n    }\n\n    const trailingPosition: YGValue = YGComputedEdgeValue(\n      this.style_.position,\n      trailing[axis],\n      YGValueUndefined(),\n    );\n    return trailingPosition.unit == YGUnit.Undefined\n      ? new YGFloatOptional(0)\n      : YGResolveValue(trailingPosition, axisSize);\n  }\n\n  getLeadingMargin(axis: YGFlexDirection, widthSize: number): YGFloatOptional {\n    if (YGFlexDirectionIsRow(axis) && this.style_.margin[YGEdge.Start].unit != YGUnit.Undefined) {\n      return YGResolveValueMargin(this.style_.margin[YGEdge.Start], widthSize);\n    }\n\n    return YGResolveValueMargin(\n      YGComputedEdgeValue(this.style_.margin, leading[axis], YGValueZero()),\n      widthSize,\n    );\n  }\n\n  getTrailingMargin(axis: YGFlexDirection, widthSize: number): YGFloatOptional {\n    if (YGFlexDirectionIsRow(axis) && this.style_.margin[YGEdge.End].unit != YGUnit.Undefined) {\n      return YGResolveValueMargin(this.style_.margin[YGEdge.End], widthSize);\n    }\n\n    return YGResolveValueMargin(\n      YGComputedEdgeValue(this.style_.margin, trailing[axis], YGValueZero()),\n      widthSize,\n    );\n  }\n\n  getLeadingBorder(axis: YGFlexDirection): number {\n    if (\n      YGFlexDirectionIsRow(axis) &&\n      this.style_.border[YGEdge.Start].unit != YGUnit.Undefined &&\n      !YGFloatIsUndefined(this.style_.border[YGEdge.Start].value) &&\n      this.style_.border[YGEdge.Start].value >= 0.0\n    ) {\n      return this.style_.border[YGEdge.Start].value;\n    }\n\n    const computedEdgeValue: number = YGComputedEdgeValue(\n      this.style_.border,\n      leading[axis],\n      YGValueZero(),\n    ).value;\n    return YGFloatMax(computedEdgeValue, 0.0);\n  }\n\n  getTrailingBorder(axis: YGFlexDirection): number {\n    if (\n      YGFlexDirectionIsRow(axis) &&\n      this.style_.border[YGEdge.End].unit != YGUnit.Undefined &&\n      !YGFloatIsUndefined(this.style_.border[YGEdge.End].value) &&\n      this.style_.border[YGEdge.End].value >= 0.0\n    ) {\n      return this.style_.border[YGEdge.End].value;\n    }\n\n    const computedEdgeValue: number = YGComputedEdgeValue(\n      this.style_.border,\n      trailing[axis],\n      YGValueZero(),\n    ).value;\n    return YGFloatMax(computedEdgeValue, 0.0);\n  }\n\n  getLeadingPadding(axis: YGFlexDirection, widthSize: number): YGFloatOptional {\n    const paddingEdgeStart: YGFloatOptional = YGResolveValue(\n      this.style_.padding[YGEdge.Start],\n      widthSize,\n    );\n    if (\n      YGFlexDirectionIsRow(axis) &&\n      this.style_.padding[YGEdge.Start].unit != YGUnit.Undefined &&\n      !paddingEdgeStart.isUndefined() &&\n      paddingEdgeStart.getValue() > 0.0\n    ) {\n      return paddingEdgeStart;\n    }\n\n    const resolvedValue: YGFloatOptional = YGResolveValue(\n      YGComputedEdgeValue(this.style_.padding, leading[axis], YGValueZero()),\n      widthSize,\n    );\n    return YGFloatOptionalMax(resolvedValue, new YGFloatOptional(0.0));\n  }\n\n  getTrailingPadding(axis: YGFlexDirection, widthSize: number): YGFloatOptional {\n    const paddingEdgeEnd: YGFloatOptional = YGResolveValue(\n      this.style_.padding[YGEdge.End],\n      widthSize,\n    );\n    if (\n      YGFlexDirectionIsRow(axis) &&\n      this.style_.padding[YGEdge.End].unit != YGUnit.Undefined &&\n      !paddingEdgeEnd.isUndefined() &&\n      paddingEdgeEnd.getValue() >= 0.0\n    ) {\n      return paddingEdgeEnd;\n    }\n\n    const resolvedValue: YGFloatOptional = YGResolveValue(\n      YGComputedEdgeValue(this.style_.padding, trailing[axis], YGValueZero()),\n      widthSize,\n    );\n    return YGFloatOptionalMax(resolvedValue, new YGFloatOptional(0.0));\n  }\n\n  getLeadingPaddingAndBorder(axis: YGFlexDirection, widthSize: number): YGFloatOptional {\n    return this.getLeadingPadding(axis, widthSize).add(\n      new YGFloatOptional(this.getLeadingBorder(axis)),\n    );\n  }\n\n  getTrailingPaddingAndBorder(axis: YGFlexDirection, widthSize: number): YGFloatOptional {\n    return this.getTrailingPadding(axis, widthSize).add(\n      new YGFloatOptional(this.getTrailingBorder(axis)),\n    );\n  }\n\n  getMarginForAxis(axis: YGFlexDirection, widthSize: number): YGFloatOptional {\n    return this.getLeadingMargin(axis, widthSize).add(this.getTrailingMargin(axis, widthSize));\n  }\n\n  setContext(context: any): void {\n    this.context_ = context;\n  }\n\n  setPrintFunc(printFunc: YGPrintFunc): void {\n    this.print_ = printFunc;\n  }\n\n  setHasNewLayout(hasNewLayout: boolean): void {\n    this.hasNewLayout_ = hasNewLayout;\n  }\n\n  setNodeType(nodeType: YGNodeType): void {\n    this.nodeType_ = nodeType;\n  }\n\n  setMeasureFunc(measureFunc: YGMeasureFunc): void {\n    if (measureFunc == null) {\n      this.measure_ = null;\n      this.nodeType_ = YGNodeType.Default;\n    } else {\n      //YGAssertWithNode(this, this.children_.size() == 0, \"Cannot set measure function: Nodes with measure functions cannot have children.\");\n      if (this.children_.length != 0) {\n        console.error(\n          'Cannot set measure function: Nodes with measure functions cannot have children.',\n        );\n      }\n      this.measure_ = measureFunc;\n      this.setNodeType(YGNodeType.Text);\n    }\n\n    this.measure_ = measureFunc;\n  }\n\n  setBaseLineFunc(baseLineFunc: YGBaselineFunc): void {\n    this.baseline_ = baseLineFunc;\n  }\n\n  setDirtiedFunc(dirtiedFunc: YGDirtiedFunc): void {\n    this.dirtied_ = dirtiedFunc;\n  }\n\n  setStyle(style: YGStyle): void {\n    this.style_ = style;\n  }\n\n  setStyleFlexDirection(direction: YGFlexDirection): void {\n    this.style_.flexDirection = direction;\n  }\n\n  setStyleAlignContent(alignContent: YGAlign): void {\n    this.style_.alignContent = alignContent;\n  }\n\n  setLayout(layout: YGLayout): void {\n    this.layout_ = layout;\n  }\n\n  setLineIndex(lineIndex: number): void {\n    this.lineIndex_ = lineIndex;\n  }\n\n  setOwner(owner: YGNode): void {\n    this.owner_ = owner;\n  }\n\n  setChildren(children: Array<YGNode>): void {\n    this.children_ = children;\n  }\n\n  setConfig(config: YGConfig): void {\n    this.config_ = config;\n  }\n\n  setDirty(isDirty: boolean): void {\n    this.isDirty_ = isDirty;\n  }\n\n  setLayoutLastOwnerDirection(direction: YGDirection): void {\n    this.layout_.lastOwnerDirection = direction;\n  }\n\n  setLayoutComputedFlexBasis(computedFlexBasis: YGFloatOptional): void {\n    this.layout_.computedFlexBasis = computedFlexBasis;\n  }\n\n  setLayoutComputedFlexBasisGeneration(computedFlexBasisGeneration: number): void {\n    this.layout_.computedFlexBasisGeneration = computedFlexBasisGeneration;\n  }\n\n  setLayoutMeasuredDimension(measuredDimension: number, index: number): void {\n    this.layout_.measuredDimensions[index] = measuredDimension;\n  }\n\n  setLayoutHadOverflow(hadOverflow: boolean): void {\n    this.layout_.hadOverflow = hadOverflow;\n  }\n\n  setLayoutDimension(dimension: number, index: number): void {\n    this.layout_.dimensions[index] = dimension;\n  }\n\n  setLayoutDirection(direction: YGDirection): void {\n    this.layout_.direction = direction;\n  }\n\n  setLayoutMargin(margin: number, index: number): void {\n    this.layout_.margin[index] = margin;\n  }\n\n  setLayoutBorder(border: number, index: number): void {\n    this.layout_.border[index] = border;\n  }\n\n  setLayoutPadding(padding: number, index: number): void {\n    this.layout_.padding[index] = padding;\n  }\n\n  setLayoutPosition(position: number, index: number): void {\n    this.layout_.position[index] = position;\n  }\n\n  setPosition(\n    direction: YGDirection,\n    mainSize: number,\n    crossSize: number,\n    ownerWidth: number,\n  ): void {\n    const directionRespectingRoot: YGDirection = this.owner_ != null ? direction : YGDirection.LTR;\n    const mainAxis: YGFlexDirection = YGResolveFlexDirection(\n      this.style_.flexDirection,\n      directionRespectingRoot,\n    );\n    const crossAxis: YGFlexDirection = YGFlexDirectionCross(mainAxis, directionRespectingRoot);\n    const relativePositionMain: YGFloatOptional = this.relativePosition(mainAxis, mainSize);\n    const relativePositionCross: YGFloatOptional = this.relativePosition(crossAxis, crossSize);\n\n    this.setLayoutPosition(\n      YGUnwrapFloatOptional(this.getLeadingMargin(mainAxis, ownerWidth).add(relativePositionMain)),\n      leading[mainAxis],\n    );\n    this.setLayoutPosition(\n      YGUnwrapFloatOptional(this.getTrailingMargin(mainAxis, ownerWidth).add(relativePositionMain)),\n      trailing[mainAxis],\n    );\n    this.setLayoutPosition(\n      YGUnwrapFloatOptional(\n        this.getLeadingMargin(crossAxis, ownerWidth).add(relativePositionCross),\n      ),\n      leading[crossAxis],\n    );\n    this.setLayoutPosition(\n      YGUnwrapFloatOptional(\n        this.getTrailingMargin(crossAxis, ownerWidth).add(relativePositionCross),\n      ),\n      trailing[crossAxis],\n    );\n  }\n\n  setAndPropogateUseLegacyFlag(useLegacyFlag: boolean): void {\n    this.config_.useLegacyStretchBehaviour = useLegacyFlag;\n\n    for (let i = 0; i < this.children_.length; i++) {\n      this.children_[i].getConfig().useLegacyStretchBehaviour = useLegacyFlag;\n    }\n  }\n\n  setLayoutDoesLegacyFlagAffectsLayout(doesLegacyFlagAffectsLayout: boolean): void {\n    this.layout_.doesLegacyStretchFlagAffectsLayout = doesLegacyFlagAffectsLayout;\n  }\n\n  setLayoutDidUseLegacyFlag(didUseLegacyFlag: boolean): void {\n    this.layout_.didUseLegacyFlag = didUseLegacyFlag;\n  }\n\n  markDirtyAndPropogateDownwards(): void {\n    this.isDirty_ = true;\n    for (let i = 0; i < this.children_.length; i++) {\n      this.children_[i].markDirtyAndPropogateDownwards();\n    }\n  }\n\n  marginLeadingValue(axis: YGFlexDirection): YGValue {\n    if (YGFlexDirectionIsRow(axis) && this.style_.margin[YGEdge.Start].unit != YGUnit.Undefined) {\n      return this.style_.margin[YGEdge.Start];\n    } else {\n      return this.style_.margin[leading[axis]];\n    }\n  }\n\n  marginTrailingValue(axis: YGFlexDirection): YGValue {\n    if (YGFlexDirectionIsRow(axis) && this.style_.margin[YGEdge.End].unit != YGUnit.Undefined) {\n      return this.style_.margin[YGEdge.End];\n    } else {\n      return this.style_.margin[trailing[axis]];\n    }\n  }\n\n  resolveFlexBasisPtr(): YGValue {\n    const flexBasis: YGValue = this.style_.flexBasis;\n\n    if (flexBasis.unit != YGUnit.Auto && flexBasis.unit != YGUnit.Undefined) {\n      return flexBasis;\n    }\n\n    if (!this.style_.flex.isUndefined() && this.style_.flex.getValue() > 0.0) {\n      return this.config_.useWebDefaults ? YGValueAuto() : YGValueZero();\n    }\n\n    return YGValueAuto();\n  }\n\n  resolveDimension(): void {\n    for (let dim = YGDimension.Width; dim < YGDimensionCount; ++dim) {\n      if (\n        this.style_.maxDimensions[dim].unit != YGUnit.Undefined &&\n        YGValueEqual(this.style_.maxDimensions[dim], this.style_.minDimensions[dim])\n      ) {\n        this.resolvedDimensions_[dim] = this.style_.maxDimensions[dim];\n      } else {\n        this.resolvedDimensions_[dim] = this.style_.dimensions[dim];\n      }\n    }\n  }\n\n  resolveDirection(ownerDirection: YGDirection): YGDirection {\n    if (this.style_.direction == YGDirection.Inherit) {\n      return ownerDirection > YGDirection.Inherit ? ownerDirection : YGDirection.LTR;\n    } else {\n      return this.style_.direction;\n    }\n  }\n\n  clearChildren(): void {\n    while (this.children_.length > 0) {\n      this.children_.pop();\n    }\n  }\n\n  replaceChild(oldChild: YGNode, newChild: YGNode): void {\n    const index = this.children_.indexOf(oldChild);\n    if (index >= 0) {\n      this.children_[index] = newChild;\n    }\n  }\n\n  replaceChildIndex(child: YGNode, index: number): void {\n    this.children_[index] = child;\n  }\n\n  insertChildIndex(child: YGNode, index: number): void {\n    this.children_.splice(index, 0, child);\n  }\n\n  removeChild(child: YGNode): boolean {\n    const index = this.children_.indexOf(child);\n\n    if (index >= 0) {\n      this.children_.splice(index, 1);\n      return true;\n    }\n\n    return false;\n  }\n\n  removeChildIndex(index: number): void {\n    this.children_.splice(index, 1);\n  }\n\n  cloneChildrenIfNeeded(): void {\n    const childCount: number = this.children_.length;\n    if (childCount == 0) {\n      return;\n    }\n\n    const firstChild: YGNode = this.children_[0];\n    if (firstChild.getOwner() == this) {\n      return;\n    }\n\n    const cloneNodeCallback: YGCloneNodeFunc = this.config_.cloneNodeCallback;\n    for (let i = 0; i < childCount; ++i) {\n      const oldChild: YGNode = this.children_[i];\n      let newChild: YGNode = null;\n\n      if (cloneNodeCallback) {\n        newChild = cloneNodeCallback(oldChild, this, i);\n      }\n\n      if (newChild == null) {\n        newChild = YGNodeClone(oldChild);\n      }\n\n      this.replaceChildIndex(newChild, i);\n      newChild.setOwner(this);\n    }\n  }\n\n  markDirtyAndPropogate(): void {\n    if (!this.isDirty_) {\n      this.setDirty(true);\n      this.setLayoutComputedFlexBasis(new YGFloatOptional());\n\n      if (this.owner_) {\n        this.owner_.markDirtyAndPropogate();\n      }\n    }\n  }\n\n  resolveFlexGrow(): number {\n    if (this.owner_ == null) {\n      return 0.0;\n    }\n\n    if (!this.style_.flexGrow.isUndefined()) {\n      return this.style_.flexGrow.getValue();\n    }\n\n    if (!this.style_.flex.isUndefined() && this.style_.flex.getValue() > 0.0) {\n      return this.style_.flex.getValue();\n    }\n\n    return kDefaultFlexGrow;\n  }\n\n  resolveFlexShrink(): number {\n    if (this.owner_ == null) {\n      return 0.0;\n    }\n\n    if (!this.style_.flexShrink.isUndefined()) {\n      return this.style_.flexShrink.getValue();\n    }\n\n    if (\n      !this.config_.useWebDefaults &&\n      !this.style_.flex.isUndefined() &&\n      this.style_.flex.getValue() < 0.0\n    ) {\n      return -this.style_.flex.getValue();\n    }\n\n    return this.config_.useWebDefaults ? kWebDefaultFlexShrink : kDefaultFlexShrink;\n  }\n\n  isNodeFlexible(): boolean {\n    return (\n      this.style_.positionType == YGPositionType.Relative &&\n      (this.resolveFlexGrow() != 0 || this.resolveFlexShrink() != 0)\n    );\n  }\n\n  didUseLegacyFlag(): boolean {\n    let didUseLegacyFlag: boolean = this.layout_.didUseLegacyFlag;\n    if (didUseLegacyFlag) {\n      return true;\n    }\n\n    for (let i = 0; i < this.children_.length; i++) {\n      if (this.children_[i].getLayout().didUseLegacyFlag) {\n        didUseLegacyFlag = true;\n        break;\n      }\n    }\n\n    return didUseLegacyFlag;\n  }\n\n  isLayoutTreeEqualToNode(node: YGNode): boolean {\n    if (this.children_.length != node.getChildren().length) {\n      return false;\n    }\n\n    if (this.layout_.diff(node.getLayout())) {\n      return false;\n    }\n\n    if (this.children_.length == 0) {\n      return true;\n    }\n\n    let isLayoutTreeEqual = true;\n    for (let i = 0; i < this.children_.length; ++i) {\n      const otherNodeChildren: YGNode = node.getChild(i);\n      isLayoutTreeEqual = this.children_[i].isLayoutTreeEqualToNode(otherNodeChildren);\n      if (!isLayoutTreeEqual) {\n        return false;\n      }\n    }\n\n    return isLayoutTreeEqual;\n  }\n}\n\nexport {YGNode};\n"],"names":[],"mappings":"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"}